function VT(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hy={exports:{}},Nh={},$y={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),UT=Symbol.for("react.portal"),BT=Symbol.for("react.fragment"),HT=Symbol.for("react.strict_mode"),$T=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),GT=Symbol.for("react.forward_ref"),KT=Symbol.for("react.suspense"),ZT=Symbol.for("react.memo"),QT=Symbol.for("react.lazy"),Jg=Symbol.iterator;function YT(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wy=Object.assign,Gy={};function qo(t,e,n){this.props=t,this.context=e,this.refs=Gy,this.updater=n||qy}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ky(){}Ky.prototype=qo.prototype;function Lp(t,e,n){this.props=t,this.context=e,this.refs=Gy,this.updater=n||qy}var Mp=Lp.prototype=new Ky;Mp.constructor=Lp;Wy(Mp,qo.prototype);Mp.isPureReactComponent=!0;var e_=Array.isArray,Zy=Object.prototype.hasOwnProperty,Op={current:null},Qy={key:!0,ref:!0,__self:!0,__source:!0};function Yy(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Zy.call(e,i)&&!Qy.hasOwnProperty(i)&&(r[i]=e[i]);var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){for(var d=Array(h),m=0;m<h;m++)d[m]=arguments[m+2];r.children=d}if(t&&t.defaultProps)for(i in h=t.defaultProps,h)r[i]===void 0&&(r[i]=h[i]);return{$$typeof:Gl,type:t,key:o,ref:l,props:r,_owner:Op.current}}function XT(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function JT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t_=/\/+/g;function wd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JT(""+t.key):e.toString(36)}function _c(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Gl:case UT:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+wd(l,0):i,e_(r)?(n="",t!=null&&(n=t.replace(t_,"$&/")+"/"),_c(r,e,n,"",function(m){return m})):r!=null&&(Dp(r)&&(r=XT(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(t_,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",e_(t))for(var h=0;h<t.length;h++){o=t[h];var d=i+wd(o,h);l+=_c(o,e,n,d,r)}else if(d=YT(t),typeof d=="function")for(t=d.call(t),h=0;!(o=t.next()).done;)o=o.value,d=i+wd(o,h++),l+=_c(o,e,n,d,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Gu(t,e,n){if(t==null)return t;var i=[],r=0;return _c(t,i,"","",function(o){return e.call(n,o,r++)}),i}function eI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},vc={transition:null},tI={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:vc,ReactCurrentOwner:Op};function Xy(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Gu,forEach:function(t,e,n){Gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gu(t,function(){e++}),e},toArray:function(t){return Gu(t,function(e){return e})||[]},only:function(t){if(!Dp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=qo;Te.Fragment=BT;Te.Profiler=$T;Te.PureComponent=Lp;Te.StrictMode=HT;Te.Suspense=KT;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;Te.act=Xy;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Wy({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Op.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Zy.call(e,d)&&!Qy.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){h=Array(d);for(var m=0;m<d;m++)h[m]=arguments[m+2];i.children=h}return{$$typeof:Gl,type:t.type,key:r,ref:o,props:i,_owner:l}};Te.createContext=function(t){return t={$$typeof:WT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qT,_context:t},t.Consumer=t};Te.createElement=Yy;Te.createFactory=function(t){var e=Yy.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:GT,render:t}};Te.isValidElement=Dp;Te.lazy=function(t){return{$$typeof:QT,_payload:{_status:-1,_result:t},_init:eI}};Te.memo=function(t,e){return{$$typeof:ZT,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};Te.unstable_act=Xy;Te.useCallback=function(t,e){return Ht.current.useCallback(t,e)};Te.useContext=function(t){return Ht.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Ht.current.useEffect(t,e)};Te.useId=function(){return Ht.current.useId()};Te.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Ht.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};Te.useRef=function(t){return Ht.current.useRef(t)};Te.useState=function(t){return Ht.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Ht.current.useTransition()};Te.version="18.3.1";$y.exports=Te;var $=$y.exports;const Fc=zT($),nI=VT({__proto__:null,default:Fc},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=$,rI=Symbol.for("react.element"),sI=Symbol.for("react.fragment"),oI=Object.prototype.hasOwnProperty,aI=iI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lI={key:!0,ref:!0,__self:!0,__source:!0};function Jy(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)oI.call(e,i)&&!lI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:rI,type:t,key:o,ref:l,props:r,_owner:aI.current}}Nh.Fragment=sI;Nh.jsx=Jy;Nh.jsxs=Jy;Hy.exports=Nh;var p=Hy.exports,e0={exports:{}},un={},t0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ue){var J=W.length;W.push(ue);e:for(;0<J;){var ce=J-1>>>1,ve=W[ce];if(0<r(ve,ue))W[ce]=ue,W[J]=ve,J=ce;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ue=W[0],J=W.pop();if(J!==ue){W[0]=J;e:for(var ce=0,ve=W.length,Ie=ve>>>1;ce<Ie;){var Re=2*(ce+1)-1,we=W[Re],pe=Re+1,ft=W[pe];if(0>r(we,J))pe<ve&&0>r(ft,we)?(W[ce]=ft,W[pe]=J,ce=pe):(W[ce]=we,W[Re]=J,ce=Re);else if(pe<ve&&0>r(ft,J))W[ce]=ft,W[pe]=J,ce=pe;else break e}}return ue}function r(W,ue){var J=W.sortIndex-ue.sortIndex;return J!==0?J:W.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],m=[],y=1,w=null,E=3,C=!1,D=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var ue=n(m);ue!==null;){if(ue.callback===null)i(m);else if(ue.startTime<=W)i(m),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(m)}}function B(W){if(O=!1,b(W),!D)if(n(d)!==null)D=!0,dt(K);else{var ue=n(m);ue!==null&&Vt(B,ue.startTime-W)}}function K(W,ue){D=!1,O&&(O=!1,S(I),I=-1),C=!0;var J=E;try{for(b(ue),w=n(d);w!==null&&(!(w.expirationTime>ue)||W&&!j());){var ce=w.callback;if(typeof ce=="function"){w.callback=null,E=w.priorityLevel;var ve=ce(w.expirationTime<=ue);ue=t.unstable_now(),typeof ve=="function"?w.callback=ve:w===n(d)&&i(d),b(ue)}else i(d);w=n(d)}if(w!==null)var Ie=!0;else{var Re=n(m);Re!==null&&Vt(B,Re.startTime-ue),Ie=!1}return Ie}finally{w=null,E=J,C=!1}}var Y=!1,A=null,I=-1,k=5,R=-1;function j(){return!(t.unstable_now()-R<k)}function V(){if(A!==null){var W=t.unstable_now();R=W;var ue=!0;try{ue=A(!0,W)}finally{ue?M():(Y=!1,A=null)}}else Y=!1}var M;if(typeof P=="function")M=function(){P(V)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,ai=Je.port2;Je.port1.onmessage=V,M=function(){ai.postMessage(null)}}else M=function(){U(V,0)};function dt(W){A=W,Y||(Y=!0,M())}function Vt(W,ue){I=U(function(){W(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){D||C||(D=!0,dt(K))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var J=E;E=ue;try{return W()}finally{E=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=E;E=W;try{return ue()}finally{E=J}},t.unstable_scheduleCallback=function(W,ue,J){var ce=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,W){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,W={id:y++,callback:ue,priorityLevel:W,startTime:J,expirationTime:ve,sortIndex:-1},J>ce?(W.sortIndex=J,e(m,W),n(d)===null&&W===n(m)&&(O?(S(I),I=-1):O=!0,Vt(B,J-ce))):(W.sortIndex=ve,e(d,W),D||C||(D=!0,dt(K))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var ue=E;return function(){var J=E;E=ue;try{return W.apply(this,arguments)}finally{E=J}}}})(n0);t0.exports=n0;var uI=t0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI=$,ln=uI;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i0=new Set,_l={};function gs(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(_l[t]=e,t=0;t<e.length;t++)i0.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=Object.prototype.hasOwnProperty,hI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n_={},i_={};function dI(t){return uf.call(i_,t)?!0:uf.call(n_,t)?!1:hI.test(t)?i_[t]=!0:(n_[t]=!0,!1)}function fI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pI(t,e,n,i){if(e===null||typeof e>"u"||fI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function Vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jp,Vp);kt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jp,Vp);kt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jp,Vp);kt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fp(t,e,n,i){var r=kt.hasOwnProperty(e)?kt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pI(e,n,r,i)&&(n=null),i||r===null?dI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Vi=cI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),s0=Symbol.for("react.context"),Up=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),o0=Symbol.for("react.offscreen"),r_=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,xd;function Za(t){if(xd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xd=e&&e[1]||""}return`
`+xd+t}var Ed=!1;function Td(t,e){if(!t||Ed)return"";Ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var i=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){i=m}t.call(e.prototype)}else{try{throw Error()}catch(m){i=m}t()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var r=m.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,h=o.length-1;1<=l&&0<=h&&r[l]!==o[h];)h--;for(;1<=l&&0<=h;l--,h--)if(r[l]!==o[h]){if(l!==1||h!==1)do if(l--,h--,0>h||r[l]!==o[h]){var d=`
`+r[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=h);break}}}finally{Ed=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Za(t):""}function mI(t){switch(t.tag){case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 2:case 15:return t=Td(t.type,!1),t;case 11:return t=Td(t.type.render,!1),t;case 1:return t=Td(t.type,!0),t;default:return""}}function ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ao:return"Fragment";case oo:return"Portal";case cf:return"Profiler";case zp:return"StrictMode";case hf:return"Suspense";case df:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s0:return(t.displayName||"Context")+".Consumer";case r0:return(t._context.displayName||"Context")+".Provider";case Up:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bp:return e=t.displayName||null,e!==null?e:ff(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return ff(t(e))}catch{}}return null}function gI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ff(e);case 8:return e===zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _I(t){var e=a0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=_I(t))}function l0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=a0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function s_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u0(t,e){e=e.checked,e!=null&&Fp(t,"checked",e,!1)}function mf(t,e){u0(t,e);var n=Sr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&gf(t,e.type,Sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gf(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function wo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Sr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function _f(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Qa(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sr(n)}}function c0(t,e){var n=Sr(e.value),i=Sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function l_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,d0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vI=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){vI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function f0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function p0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=f0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var yI=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yf(t,e){if(e){if(yI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=null;function Hp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ef=null,xo=null,Eo=null;function u_(t){if(t=Ql(t)){if(typeof Ef!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Dh(e),Ef(t.stateNode,t.type,e))}}function m0(t){xo?Eo?Eo.push(t):Eo=[t]:xo=t}function g0(){if(xo){var t=xo,e=Eo;if(Eo=xo=null,u_(t),e)for(t=0;t<e.length;t++)u_(e[t])}}function _0(t,e){return t(e)}function v0(){}var Id=!1;function y0(t,e,n){if(Id)return t(e,n);Id=!0;try{return _0(t,e,n)}finally{Id=!1,(xo!==null||Eo!==null)&&(v0(),g0())}}function yl(t,e){var n=t.stateNode;if(n===null)return null;var i=Dh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Tf=!1;if(Ai)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Tf=!1}function wI(t,e,n,i,r,o,l,h,d){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(y){this.onError(y)}}var il=!1,Uc=null,Bc=!1,If=null,xI={onError:function(t){il=!0,Uc=t}};function EI(t,e,n,i,r,o,l,h,d){il=!1,Uc=null,wI.apply(xI,arguments)}function TI(t,e,n,i,r,o,l,h,d){if(EI.apply(this,arguments),il){if(il){var m=Uc;il=!1,Uc=null}else throw Error(X(198));Bc||(Bc=!0,If=m)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c_(t){if(_s(t)!==t)throw Error(X(188))}function II(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return c_(r),t;if(o===i)return c_(r),e;o=o.sibling}throw Error(X(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,h=r.child;h;){if(h===n){l=!0,n=r,i=o;break}if(h===i){l=!0,i=r,n=o;break}h=h.sibling}if(!l){for(h=o.child;h;){if(h===n){l=!0,n=o,i=r;break}if(h===i){l=!0,i=o,n=r;break}h=h.sibling}if(!l)throw Error(X(189))}}if(n.alternate!==i)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function x0(t){return t=II(t),t!==null?E0(t):null}function E0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E0(t);if(e!==null)return e;t=t.sibling}return null}var T0=ln.unstable_scheduleCallback,h_=ln.unstable_cancelCallback,SI=ln.unstable_shouldYield,PI=ln.unstable_requestPaint,rt=ln.unstable_now,bI=ln.unstable_getCurrentPriorityLevel,$p=ln.unstable_ImmediatePriority,I0=ln.unstable_UserBlockingPriority,Hc=ln.unstable_NormalPriority,kI=ln.unstable_LowPriority,S0=ln.unstable_IdlePriority,Rh=null,Xn=null;function AI(t){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Rh,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:RI,CI=Math.log,NI=Math.LN2;function RI(t){return t>>>=0,t===0?32:31-(CI(t)/NI|0)|0}var Yu=64,Xu=4194304;function Ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $c(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~r;h!==0?i=Ya(h):(o&=l,o!==0&&(i=Ya(o)))}else l=n&~r,l!==0?i=Ya(l):o!==0&&(i=Ya(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Vn(e),r=1<<n,i|=t[n],e&=~r;return i}function LI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Vn(o),h=1<<l,d=r[l];d===-1?(!(h&n)||h&i)&&(r[l]=LI(h,e)):d<=e&&(t.expiredLanes|=h),o&=~h}}function Sf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P0(){var t=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),t}function Sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function OI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Vn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Vn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Me=0;function b0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var k0,Wp,A0,C0,N0,Pf=!1,Ju=[],dr=null,fr=null,pr=null,wl=new Map,xl=new Map,tr=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d_(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function Ba(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Ql(e),e!==null&&Wp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function jI(t,e,n,i,r){switch(e){case"focusin":return dr=Ba(dr,t,e,n,i,r),!0;case"dragenter":return fr=Ba(fr,t,e,n,i,r),!0;case"mouseover":return pr=Ba(pr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return wl.set(o,Ba(wl.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,xl.set(o,Ba(xl.get(o)||null,t,e,n,i,r)),!0}return!1}function R0(t){var e=Qr(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=w0(n),e!==null){t.blockedOn=e,N0(t.priority,function(){A0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);xf=i,n.target.dispatchEvent(i),xf=null}else return e=Ql(n),e!==null&&Wp(e),t.blockedOn=n,!1;e.shift()}return!0}function f_(t,e,n){yc(t)&&n.delete(e)}function VI(){Pf=!1,dr!==null&&yc(dr)&&(dr=null),fr!==null&&yc(fr)&&(fr=null),pr!==null&&yc(pr)&&(pr=null),wl.forEach(f_),xl.forEach(f_)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,VI)))}function El(t){function e(r){return Ha(r,t)}if(0<Ju.length){Ha(Ju[0],t);for(var n=1;n<Ju.length;n++){var i=Ju[n];i.blockedOn===t&&(i.blockedOn=null)}}for(dr!==null&&Ha(dr,t),fr!==null&&Ha(fr,t),pr!==null&&Ha(pr,t),wl.forEach(e),xl.forEach(e),n=0;n<tr.length;n++)i=tr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)R0(n),n.blockedOn===null&&tr.shift()}var To=Vi.ReactCurrentBatchConfig,qc=!0;function FI(t,e,n,i){var r=Me,o=To.transition;To.transition=null;try{Me=1,Gp(t,e,n,i)}finally{Me=r,To.transition=o}}function zI(t,e,n,i){var r=Me,o=To.transition;To.transition=null;try{Me=4,Gp(t,e,n,i)}finally{Me=r,To.transition=o}}function Gp(t,e,n,i){if(qc){var r=bf(t,e,n,i);if(r===null)Od(t,e,i,Wc,n),d_(t,i);else if(jI(r,t,e,n,i))i.stopPropagation();else if(d_(t,i),e&4&&-1<DI.indexOf(t)){for(;r!==null;){var o=Ql(r);if(o!==null&&k0(o),o=bf(t,e,n,i),o===null&&Od(t,e,i,Wc,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Od(t,e,i,null,n)}}var Wc=null;function bf(t,e,n,i){if(Wc=null,t=Hp(i),t=Qr(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=w0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wc=t,null}function L0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bI()){case $p:return 1;case I0:return 4;case Hc:case kI:return 16;case S0:return 536870912;default:return 16}default:return 16}}var ar=null,Kp=null,wc=null;function M0(){if(wc)return wc;var t,e=Kp,n=e.length,i,r="value"in ar?ar.value:ar.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return wc=r.slice(t,1<i?1-i:void 0)}function xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function p_(){return!1}function cn(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ec:p_,this.isPropagationStopped=p_,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zp=cn(Wo),Zl=Ye({},Wo,{view:0,detail:0}),UI=cn(Zl),Pd,bd,$a,Lh=Ye({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(Pd=t.screenX-$a.screenX,bd=t.screenY-$a.screenY):bd=Pd=0,$a=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:bd}}),m_=cn(Lh),BI=Ye({},Lh,{dataTransfer:0}),HI=cn(BI),$I=Ye({},Zl,{relatedTarget:0}),kd=cn($I),qI=Ye({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),WI=cn(qI),GI=Ye({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KI=cn(GI),ZI=Ye({},Wo,{data:0}),g_=cn(ZI),QI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XI[t])?!!e[t]:!1}function Qp(){return JI}var eS=Ye({},Zl,{key:function(t){if(t.key){var e=QI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(t){return t.type==="keypress"?xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tS=cn(eS),nS=Ye({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=cn(nS),iS=Ye({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),rS=cn(iS),sS=Ye({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oS=cn(sS),aS=Ye({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lS=cn(aS),uS=[9,13,27,32],Yp=Ai&&"CompositionEvent"in window,rl=null;Ai&&"documentMode"in document&&(rl=document.documentMode);var cS=Ai&&"TextEvent"in window&&!rl,O0=Ai&&(!Yp||rl&&8<rl&&11>=rl),v_=" ",y_=!1;function D0(t,e){switch(t){case"keyup":return uS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function hS(t,e){switch(t){case"compositionend":return j0(e);case"keypress":return e.which!==32?null:(y_=!0,v_);case"textInput":return t=e.data,t===v_&&y_?null:t;default:return null}}function dS(t,e){if(lo)return t==="compositionend"||!Yp&&D0(t,e)?(t=M0(),wc=Kp=ar=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O0&&e.locale!=="ko"?null:e.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fS[t.type]:e==="textarea"}function V0(t,e,n,i){m0(i),e=Gc(e,"onChange"),0<e.length&&(n=new Zp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var sl=null,Tl=null;function pS(t){Z0(t,0)}function Mh(t){var e=ho(t);if(l0(e))return t}function mS(t,e){if(t==="change")return e}var F0=!1;if(Ai){var Ad;if(Ai){var Cd="oninput"in document;if(!Cd){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Cd=typeof x_.oninput=="function"}Ad=Cd}else Ad=!1;F0=Ad&&(!document.documentMode||9<document.documentMode)}function E_(){sl&&(sl.detachEvent("onpropertychange",z0),Tl=sl=null)}function z0(t){if(t.propertyName==="value"&&Mh(Tl)){var e=[];V0(e,Tl,t,Hp(t)),y0(pS,e)}}function gS(t,e,n){t==="focusin"?(E_(),sl=e,Tl=n,sl.attachEvent("onpropertychange",z0)):t==="focusout"&&E_()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mh(Tl)}function vS(t,e){if(t==="click")return Mh(e)}function yS(t,e){if(t==="input"||t==="change")return Mh(e)}function wS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:wS;function Il(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!uf.call(e,r)||!zn(t[r],e[r]))return!1}return!0}function T_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=T_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T_(n)}}function U0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function B0(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function Xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xS(t){var e=B0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&U0(n.ownerDocument.documentElement,n)){if(i!==null&&Xp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=I_(n,o);var l=I_(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ES=Ai&&"documentMode"in document&&11>=document.documentMode,uo=null,kf=null,ol=null,Af=!1;function S_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Af||uo==null||uo!==zc(i)||(i=uo,"selectionStart"in i&&Xp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ol&&Il(ol,i)||(ol=i,i=Gc(kf,"onSelect"),0<i.length&&(e=new Zp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=uo)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},Nd={},H0={};Ai&&(H0=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Oh(t){if(Nd[t])return Nd[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H0)return Nd[t]=e[n];return t}var $0=Oh("animationend"),q0=Oh("animationiteration"),W0=Oh("animationstart"),G0=Oh("transitionend"),K0=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,e){K0.set(t,e),gs(e,[t])}for(var Rd=0;Rd<P_.length;Rd++){var Ld=P_[Rd],TS=Ld.toLowerCase(),IS=Ld[0].toUpperCase()+Ld.slice(1);Cr(TS,"on"+IS)}Cr($0,"onAnimationEnd");Cr(q0,"onAnimationIteration");Cr(W0,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(G0,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function b_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,TI(i,e,void 0,t),t.currentTarget=null}function Z0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var h=i[l],d=h.instance,m=h.currentTarget;if(h=h.listener,d!==o&&r.isPropagationStopped())break e;b_(r,h,m),o=d}else for(l=0;l<i.length;l++){if(h=i[l],d=h.instance,m=h.currentTarget,h=h.listener,d!==o&&r.isPropagationStopped())break e;b_(r,h,m),o=d}}}if(Bc)throw t=If,Bc=!1,If=null,t}function ze(t,e){var n=e[Mf];n===void 0&&(n=e[Mf]=new Set);var i=t+"__bubble";n.has(i)||(Q0(e,t,2,!1),n.add(i))}function Md(t,e,n){var i=0;e&&(i|=4),Q0(n,t,i,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[nc]){t[nc]=!0,i0.forEach(function(n){n!=="selectionchange"&&(SS.has(n)||Md(n,!1,t),Md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,Md("selectionchange",!1,e))}}function Q0(t,e,n,i){switch(L0(e)){case 1:var r=FI;break;case 4:r=zI;break;default:r=Gp}n=r.bind(null,e,n,t),r=void 0,!Tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Od(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var h=i.stateNode.containerInfo;if(h===r||h.nodeType===8&&h.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;h!==null;){if(l=Qr(h),l===null)return;if(d=l.tag,d===5||d===6){i=o=l;continue e}h=h.parentNode}}i=i.return}y0(function(){var m=o,y=Hp(n),w=[];e:{var E=K0.get(t);if(E!==void 0){var C=Zp,D=t;switch(t){case"keypress":if(xc(n)===0)break e;case"keydown":case"keyup":C=tS;break;case"focusin":D="focus",C=kd;break;case"focusout":D="blur",C=kd;break;case"beforeblur":case"afterblur":C=kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=m_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=HI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=rS;break;case $0:case q0:case W0:C=WI;break;case G0:C=oS;break;case"scroll":C=UI;break;case"wheel":C=lS;break;case"copy":case"cut":case"paste":C=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=__}var O=(e&4)!==0,U=!O&&t==="scroll",S=O?E!==null?E+"Capture":null:E;O=[];for(var P=m,b;P!==null;){b=P;var B=b.stateNode;if(b.tag===5&&B!==null&&(b=B,S!==null&&(B=yl(P,S),B!=null&&O.push(Pl(P,B,b)))),U)break;P=P.return}0<O.length&&(E=new C(E,D,null,n,y),w.push({event:E,listeners:O}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",E&&n!==xf&&(D=n.relatedTarget||n.fromElement)&&(Qr(D)||D[Ci]))break e;if((C||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,C?(D=n.relatedTarget||n.toElement,C=m,D=D?Qr(D):null,D!==null&&(U=_s(D),D!==U||D.tag!==5&&D.tag!==6)&&(D=null)):(C=null,D=m),C!==D)){if(O=m_,B="onMouseLeave",S="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(O=__,B="onPointerLeave",S="onPointerEnter",P="pointer"),U=C==null?E:ho(C),b=D==null?E:ho(D),E=new O(B,P+"leave",C,n,y),E.target=U,E.relatedTarget=b,B=null,Qr(y)===m&&(O=new O(S,P+"enter",D,n,y),O.target=b,O.relatedTarget=U,B=O),U=B,C&&D)t:{for(O=C,S=D,P=0,b=O;b;b=no(b))P++;for(b=0,B=S;B;B=no(B))b++;for(;0<P-b;)O=no(O),P--;for(;0<b-P;)S=no(S),b--;for(;P--;){if(O===S||S!==null&&O===S.alternate)break t;O=no(O),S=no(S)}O=null}else O=null;C!==null&&k_(w,E,C,O,!1),D!==null&&U!==null&&k_(w,U,D,O,!0)}}e:{if(E=m?ho(m):window,C=E.nodeName&&E.nodeName.toLowerCase(),C==="select"||C==="input"&&E.type==="file")var K=mS;else if(w_(E))if(F0)K=yS;else{K=_S;var Y=gS}else(C=E.nodeName)&&C.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(K=vS);if(K&&(K=K(t,m))){V0(w,K,n,y);break e}Y&&Y(t,E,m),t==="focusout"&&(Y=E._wrapperState)&&Y.controlled&&E.type==="number"&&gf(E,"number",E.value)}switch(Y=m?ho(m):window,t){case"focusin":(w_(Y)||Y.contentEditable==="true")&&(uo=Y,kf=m,ol=null);break;case"focusout":ol=kf=uo=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,S_(w,n,y);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":S_(w,n,y)}var A;if(Yp)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else lo?D0(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(O0&&n.locale!=="ko"&&(lo||I!=="onCompositionStart"?I==="onCompositionEnd"&&lo&&(A=M0()):(ar=y,Kp="value"in ar?ar.value:ar.textContent,lo=!0)),Y=Gc(m,I),0<Y.length&&(I=new g_(I,t,null,n,y),w.push({event:I,listeners:Y}),A?I.data=A:(A=j0(n),A!==null&&(I.data=A)))),(A=cS?hS(t,n):dS(t,n))&&(m=Gc(m,"onBeforeInput"),0<m.length&&(y=new g_("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:m}),y.data=A))}Z0(w,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=yl(t,n),o!=null&&i.unshift(Pl(t,o,r)),o=yl(t,e),o!=null&&i.push(Pl(t,o,r))),t=t.return}return i}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k_(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var h=n,d=h.alternate,m=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&m!==null&&(h=m,r?(d=yl(n,o),d!=null&&l.unshift(Pl(n,d,h))):r||(d=yl(n,o),d!=null&&l.push(Pl(n,d,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var PS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function A_(t){return(typeof t=="string"?t:""+t).replace(PS,`
`).replace(bS,"")}function ic(t,e,n){if(e=A_(e),A_(t)!==e&&n)throw Error(X(425))}function Kc(){}var Cf=null,Nf=null;function Rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(CS)}:Lf;function CS(t){setTimeout(function(){throw t})}function Dd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),El(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);El(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Go,bl="__reactProps$"+Go,Ci="__reactContainer$"+Go,Mf="__reactEvents$"+Go,NS="__reactListeners$"+Go,RS="__reactHandles$"+Go;function Qr(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N_(t);t!==null;){if(n=t[Yn])return n;t=N_(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[Yn]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Dh(t){return t[bl]||null}var Of=[],fo=-1;function Nr(t){return{current:t}}function Be(t){0>fo||(t.current=Of[fo],Of[fo]=null,fo--)}function Fe(t,e){fo++,Of[fo]=t.current,t.current=e}var Pr={},Dt=Nr(Pr),Zt=Nr(!1),ss=Pr;function No(t,e){var n=t.type.contextTypes;if(!n)return Pr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Qt(t){return t=t.childContextTypes,t!=null}function Zc(){Be(Zt),Be(Dt)}function R_(t,e,n){if(Dt.current!==Pr)throw Error(X(168));Fe(Dt,e),Fe(Zt,n)}function Y0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(X(108,gI(t)||"Unknown",r));return Ye({},n,i)}function Qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,ss=Dt.current,Fe(Dt,t),Fe(Zt,Zt.current),!0}function L_(t,e,n){var i=t.stateNode;if(!i)throw Error(X(169));n?(t=Y0(t,e,ss),i.__reactInternalMemoizedMergedChildContext=t,Be(Zt),Be(Dt),Fe(Dt,t)):Be(Zt),Fe(Zt,n)}var xi=null,jh=!1,jd=!1;function X0(t){xi===null?xi=[t]:xi.push(t)}function LS(t){jh=!0,X0(t)}function Rr(){if(!jd&&xi!==null){jd=!0;var t=0,e=Me;try{var n=xi;for(Me=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}xi=null,jh=!1}catch(r){throw xi!==null&&(xi=xi.slice(t+1)),T0($p,Rr),r}finally{Me=e,jd=!1}}return null}var po=[],mo=0,Yc=null,Xc=0,yn=[],wn=0,os=null,Ei=1,Ti="";function Gr(t,e){po[mo++]=Xc,po[mo++]=Yc,Yc=t,Xc=e}function J0(t,e,n){yn[wn++]=Ei,yn[wn++]=Ti,yn[wn++]=os,os=t;var i=Ei;t=Ti;var r=32-Vn(i)-1;i&=~(1<<r),n+=1;var o=32-Vn(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,Ei=1<<32-Vn(e)+r|n<<r|i,Ti=o+t}else Ei=1<<o|n<<r|i,Ti=t}function Jp(t){t.return!==null&&(Gr(t,1),J0(t,1,0))}function em(t){for(;t===Yc;)Yc=po[--mo],po[mo]=null,Xc=po[--mo],po[mo]=null;for(;t===os;)os=yn[--wn],yn[wn]=null,Ti=yn[--wn],yn[wn]=null,Ei=yn[--wn],yn[wn]=null}var on=null,sn=null,qe=!1,Dn=null;function ew(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,sn=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:Ei,overflow:Ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,sn=null,!0):!1;default:return!1}}function Df(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jf(t){if(qe){var e=sn;if(e){var n=e;if(!M_(t,e)){if(Df(t))throw Error(X(418));e=mr(n.nextSibling);var i=on;e&&M_(t,e)?ew(i,n):(t.flags=t.flags&-4097|2,qe=!1,on=t)}}else{if(Df(t))throw Error(X(418));t.flags=t.flags&-4097|2,qe=!1,on=t}}}function O_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function rc(t){if(t!==on)return!1;if(!qe)return O_(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rf(t.type,t.memoizedProps)),e&&(e=sn)){if(Df(t))throw tw(),Error(X(418));for(;e;)ew(t,e),e=mr(e.nextSibling)}if(O_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=on?mr(t.stateNode.nextSibling):null;return!0}function tw(){for(var t=sn;t;)t=mr(t.nextSibling)}function Ro(){sn=on=null,qe=!1}function tm(t){Dn===null?Dn=[t]:Dn.push(t)}var MS=Vi.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var i=n.stateNode}if(!i)throw Error(X(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var h=r.refs;l===null?delete h[o]:h[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function sc(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D_(t){var e=t._init;return e(t._payload)}function nw(t){function e(S,P){if(t){var b=S.deletions;b===null?(S.deletions=[P],S.flags|=16):b.push(P)}}function n(S,P){if(!t)return null;for(;P!==null;)e(S,P),P=P.sibling;return null}function i(S,P){for(S=new Map;P!==null;)P.key!==null?S.set(P.key,P):S.set(P.index,P),P=P.sibling;return S}function r(S,P){return S=yr(S,P),S.index=0,S.sibling=null,S}function o(S,P,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<P?(S.flags|=2,P):b):(S.flags|=2,P)):(S.flags|=1048576,P)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,P,b,B){return P===null||P.tag!==6?(P=$d(b,S.mode,B),P.return=S,P):(P=r(P,b),P.return=S,P)}function d(S,P,b,B){var K=b.type;return K===ao?y(S,P,b.props.children,B,b.key):P!==null&&(P.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ji&&D_(K)===P.type)?(B=r(P,b.props),B.ref=qa(S,P,b),B.return=S,B):(B=kc(b.type,b.key,b.props,null,S.mode,B),B.ref=qa(S,P,b),B.return=S,B)}function m(S,P,b,B){return P===null||P.tag!==4||P.stateNode.containerInfo!==b.containerInfo||P.stateNode.implementation!==b.implementation?(P=qd(b,S.mode,B),P.return=S,P):(P=r(P,b.children||[]),P.return=S,P)}function y(S,P,b,B,K){return P===null||P.tag!==7?(P=ns(b,S.mode,B,K),P.return=S,P):(P=r(P,b),P.return=S,P)}function w(S,P,b){if(typeof P=="string"&&P!==""||typeof P=="number")return P=$d(""+P,S.mode,b),P.return=S,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ku:return b=kc(P.type,P.key,P.props,null,S.mode,b),b.ref=qa(S,null,P),b.return=S,b;case oo:return P=qd(P,S.mode,b),P.return=S,P;case Ji:var B=P._init;return w(S,B(P._payload),b)}if(Qa(P)||za(P))return P=ns(P,S.mode,b,null),P.return=S,P;sc(S,P)}return null}function E(S,P,b,B){var K=P!==null?P.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return K!==null?null:h(S,P,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:return b.key===K?d(S,P,b,B):null;case oo:return b.key===K?m(S,P,b,B):null;case Ji:return K=b._init,E(S,P,K(b._payload),B)}if(Qa(b)||za(b))return K!==null?null:y(S,P,b,B,null);sc(S,b)}return null}function C(S,P,b,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return S=S.get(b)||null,h(P,S,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ku:return S=S.get(B.key===null?b:B.key)||null,d(P,S,B,K);case oo:return S=S.get(B.key===null?b:B.key)||null,m(P,S,B,K);case Ji:var Y=B._init;return C(S,P,b,Y(B._payload),K)}if(Qa(B)||za(B))return S=S.get(b)||null,y(P,S,B,K,null);sc(P,B)}return null}function D(S,P,b,B){for(var K=null,Y=null,A=P,I=P=0,k=null;A!==null&&I<b.length;I++){A.index>I?(k=A,A=null):k=A.sibling;var R=E(S,A,b[I],B);if(R===null){A===null&&(A=k);break}t&&A&&R.alternate===null&&e(S,A),P=o(R,P,I),Y===null?K=R:Y.sibling=R,Y=R,A=k}if(I===b.length)return n(S,A),qe&&Gr(S,I),K;if(A===null){for(;I<b.length;I++)A=w(S,b[I],B),A!==null&&(P=o(A,P,I),Y===null?K=A:Y.sibling=A,Y=A);return qe&&Gr(S,I),K}for(A=i(S,A);I<b.length;I++)k=C(A,S,I,b[I],B),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?I:k.key),P=o(k,P,I),Y===null?K=k:Y.sibling=k,Y=k);return t&&A.forEach(function(j){return e(S,j)}),qe&&Gr(S,I),K}function O(S,P,b,B){var K=za(b);if(typeof K!="function")throw Error(X(150));if(b=K.call(b),b==null)throw Error(X(151));for(var Y=K=null,A=P,I=P=0,k=null,R=b.next();A!==null&&!R.done;I++,R=b.next()){A.index>I?(k=A,A=null):k=A.sibling;var j=E(S,A,R.value,B);if(j===null){A===null&&(A=k);break}t&&A&&j.alternate===null&&e(S,A),P=o(j,P,I),Y===null?K=j:Y.sibling=j,Y=j,A=k}if(R.done)return n(S,A),qe&&Gr(S,I),K;if(A===null){for(;!R.done;I++,R=b.next())R=w(S,R.value,B),R!==null&&(P=o(R,P,I),Y===null?K=R:Y.sibling=R,Y=R);return qe&&Gr(S,I),K}for(A=i(S,A);!R.done;I++,R=b.next())R=C(A,S,I,R.value,B),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?I:R.key),P=o(R,P,I),Y===null?K=R:Y.sibling=R,Y=R);return t&&A.forEach(function(V){return e(S,V)}),qe&&Gr(S,I),K}function U(S,P,b,B){if(typeof b=="object"&&b!==null&&b.type===ao&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:e:{for(var K=b.key,Y=P;Y!==null;){if(Y.key===K){if(K=b.type,K===ao){if(Y.tag===7){n(S,Y.sibling),P=r(Y,b.props.children),P.return=S,S=P;break e}}else if(Y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ji&&D_(K)===Y.type){n(S,Y.sibling),P=r(Y,b.props),P.ref=qa(S,Y,b),P.return=S,S=P;break e}n(S,Y);break}else e(S,Y);Y=Y.sibling}b.type===ao?(P=ns(b.props.children,S.mode,B,b.key),P.return=S,S=P):(B=kc(b.type,b.key,b.props,null,S.mode,B),B.ref=qa(S,P,b),B.return=S,S=B)}return l(S);case oo:e:{for(Y=b.key;P!==null;){if(P.key===Y)if(P.tag===4&&P.stateNode.containerInfo===b.containerInfo&&P.stateNode.implementation===b.implementation){n(S,P.sibling),P=r(P,b.children||[]),P.return=S,S=P;break e}else{n(S,P);break}else e(S,P);P=P.sibling}P=qd(b,S.mode,B),P.return=S,S=P}return l(S);case Ji:return Y=b._init,U(S,P,Y(b._payload),B)}if(Qa(b))return D(S,P,b,B);if(za(b))return O(S,P,b,B);sc(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,P!==null&&P.tag===6?(n(S,P.sibling),P=r(P,b),P.return=S,S=P):(n(S,P),P=$d(b,S.mode,B),P.return=S,S=P),l(S)):n(S,P)}return U}var Lo=nw(!0),iw=nw(!1),Jc=Nr(null),eh=null,go=null,nm=null;function im(){nm=go=eh=null}function rm(t){var e=Jc.current;Be(Jc),t._currentValue=e}function Vf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Io(t,e){eh=t,nm=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(nm!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(eh===null)throw Error(X(308));go=t,eh.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var Yr=null;function sm(t){Yr===null?Yr=[t]:Yr.push(t)}function rw(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,sm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ni(t,i)}function Ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ni(t,n)}return r=i.interleaved,r===null?(e.next=e,sm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ni(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,qp(t,n)}}function j_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function th(t,e,n,i){var r=t.updateQueue;er=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,h=r.shared.pending;if(h!==null){r.shared.pending=null;var d=h,m=d.next;d.next=null,l===null?o=m:l.next=m,l=d;var y=t.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==l&&(h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=d))}if(o!==null){var w=r.baseState;l=0,y=m=d=null,h=o;do{var E=h.lane,C=h.eventTime;if((i&E)===E){y!==null&&(y=y.next={eventTime:C,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var D=t,O=h;switch(E=e,C=n,O.tag){case 1:if(D=O.payload,typeof D=="function"){w=D.call(C,w,E);break e}w=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=O.payload,E=typeof D=="function"?D.call(C,w,E):D,E==null)break e;w=Ye({},w,E);break e;case 2:er=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,E=r.effects,E===null?r.effects=[h]:E.push(h))}else C={eventTime:C,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(m=y=C,d=w):y=y.next=C,l|=E;if(h=h.next,h===null){if(h=r.shared.pending,h===null)break;E=h,h=E.next,E.next=null,r.lastBaseUpdate=E,r.shared.pending=null}}while(!0);if(y===null&&(d=w),r.baseState=d,r.firstBaseUpdate=m,r.lastBaseUpdate=y,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ls|=l,t.lanes=l,t.memoizedState=w}}function V_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(X(191,r));r.call(i)}}}var Yl={},Jn=Nr(Yl),kl=Nr(Yl),Al=Nr(Yl);function Xr(t){if(t===Yl)throw Error(X(174));return t}function am(t,e){switch(Fe(Al,e),Fe(kl,t),Fe(Jn,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vf(e,t)}Be(Jn),Fe(Jn,e)}function Mo(){Be(Jn),Be(kl),Be(Al)}function ow(t){Xr(Al.current);var e=Xr(Jn.current),n=vf(e,t.type);e!==n&&(Fe(kl,t),Fe(Jn,n))}function lm(t){kl.current===t&&(Be(Jn),Be(kl))}var Ke=Nr(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vd=[];function um(){for(var t=0;t<Vd.length;t++)Vd[t]._workInProgressVersionPrimary=null;Vd.length=0}var Tc=Vi.ReactCurrentDispatcher,Fd=Vi.ReactCurrentBatchConfig,as=0,Ze=null,pt=null,wt=null,ih=!1,al=!1,Cl=0,OS=0;function Ct(){throw Error(X(321))}function cm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function hm(t,e,n,i,r,o){if(as=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?FS:zS,t=n(i,r),al){o=0;do{if(al=!1,Cl=0,25<=o)throw Error(X(301));o+=1,wt=pt=null,e.updateQueue=null,Tc.current=US,t=n(i,r)}while(al)}if(Tc.current=rh,e=pt!==null&&pt.next!==null,as=0,wt=pt=Ze=null,ih=!1,e)throw Error(X(300));return t}function dm(){var t=Cl!==0;return Cl=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function bn(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=wt===null?Ze.memoizedState:wt.next;if(e!==null)wt=e,pt=t;else{if(t===null)throw Error(X(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function Nl(t,e){return typeof e=="function"?e(t):e}function zd(t){var e=bn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var i=pt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var h=l=null,d=null,m=o;do{var y=m.lane;if((as&y)===y)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:t(i,m.action);else{var w={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(h=d=w,l=i):d=d.next=w,Ze.lanes|=y,ls|=y}m=m.next}while(m!==null&&m!==o);d===null?l=i:d.next=h,zn(i,e.memoizedState)||(Kt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Ze.lanes|=o,ls|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ud(t){var e=bn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);zn(o,e.memoizedState)||(Kt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function aw(){}function lw(t,e){var n=Ze,i=bn(),r=e(),o=!zn(i.memoizedState,r);if(o&&(i.memoizedState=r,Kt=!0),i=i.queue,fm(hw.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Rl(9,cw.bind(null,n,i,r,e),void 0,null),xt===null)throw Error(X(349));as&30||uw(n,e,r)}return r}function uw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cw(t,e,n,i){e.value=n,e.getSnapshot=i,dw(e)&&fw(t)}function hw(t,e,n){return n(function(){dw(e)&&fw(t)})}function dw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function fw(t){var e=Ni(t,1);e!==null&&Fn(e,t,1,-1)}function F_(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=VS.bind(null,Ze,t),[e.memoizedState,t]}function Rl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function pw(){return bn().memoizedState}function Ic(t,e,n,i){var r=Qn();Ze.flags|=t,r.memoizedState=Rl(1|e,n,void 0,i===void 0?null:i)}function Vh(t,e,n,i){var r=bn();i=i===void 0?null:i;var o=void 0;if(pt!==null){var l=pt.memoizedState;if(o=l.destroy,i!==null&&cm(i,l.deps)){r.memoizedState=Rl(e,n,o,i);return}}Ze.flags|=t,r.memoizedState=Rl(1|e,n,o,i)}function z_(t,e){return Ic(8390656,8,t,e)}function fm(t,e){return Vh(2048,8,t,e)}function mw(t,e){return Vh(4,2,t,e)}function gw(t,e){return Vh(4,4,t,e)}function _w(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vw(t,e,n){return n=n!=null?n.concat([t]):null,Vh(4,4,_w.bind(null,e,t),n)}function pm(){}function yw(t,e){var n=bn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&cm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ww(t,e){var n=bn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&cm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function xw(t,e,n){return as&21?(zn(n,e)||(n=P0(),Ze.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function DS(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var i=Fd.transition;Fd.transition={};try{t(!1),e()}finally{Me=n,Fd.transition=i}}function Ew(){return bn().memoizedState}function jS(t,e,n){var i=vr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Tw(t))Iw(e,n);else if(n=rw(t,e,n,i),n!==null){var r=Bt();Fn(n,t,i,r),Sw(n,e,i)}}function VS(t,e,n){var i=vr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tw(t))Iw(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,h=o(l,n);if(r.hasEagerState=!0,r.eagerState=h,zn(h,l)){var d=e.interleaved;d===null?(r.next=r,sm(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=rw(t,e,r,i),n!==null&&(r=Bt(),Fn(n,t,i,r),Sw(n,e,i))}}function Tw(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function Iw(t,e){al=ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sw(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,qp(t,n)}}var rh={readContext:Pn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},FS={readContext:Pn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,_w.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Qn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=jS.bind(null,Ze,t),[i.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:F_,useDebugValue:pm,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=F_(!1),e=t[0];return t=DS.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ze,r=Qn();if(qe){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),xt===null)throw Error(X(349));as&30||uw(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,z_(hw.bind(null,i,o,t),[t]),i.flags|=2048,Rl(9,cw.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Qn(),e=xt.identifierPrefix;if(qe){var n=Ti,i=Ei;n=(i&~(1<<32-Vn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zS={readContext:Pn,useCallback:yw,useContext:Pn,useEffect:fm,useImperativeHandle:vw,useInsertionEffect:mw,useLayoutEffect:gw,useMemo:ww,useReducer:zd,useRef:pw,useState:function(){return zd(Nl)},useDebugValue:pm,useDeferredValue:function(t){var e=bn();return xw(e,pt.memoizedState,t)},useTransition:function(){var t=zd(Nl)[0],e=bn().memoizedState;return[t,e]},useMutableSource:aw,useSyncExternalStore:lw,useId:Ew,unstable_isNewReconciler:!1},US={readContext:Pn,useCallback:yw,useContext:Pn,useEffect:fm,useImperativeHandle:vw,useInsertionEffect:mw,useLayoutEffect:gw,useMemo:ww,useReducer:Ud,useRef:pw,useState:function(){return Ud(Nl)},useDebugValue:pm,useDeferredValue:function(t){var e=bn();return pt===null?e.memoizedState=t:xw(e,pt.memoizedState,t)},useTransition:function(){var t=Ud(Nl)[0],e=bn().memoizedState;return[t,e]},useMutableSource:aw,useSyncExternalStore:lw,useId:Ew,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ff(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=vr(t),o=bi(i,r);o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,r),e!==null&&(Fn(e,t,r,i),Ec(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=vr(t),o=bi(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,r),e!==null&&(Fn(e,t,r,i),Ec(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),i=vr(t),r=bi(n,i);r.tag=2,e!=null&&(r.callback=e),e=gr(t,r,i),e!==null&&(Fn(e,t,i,n),Ec(e,t,i))}};function U_(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!Il(n,i)||!Il(r,o):!0}function Pw(t,e,n){var i=!1,r=Pr,o=e.contextType;return typeof o=="object"&&o!==null?o=Pn(o):(r=Qt(e)?ss:Dt.current,i=e.contextTypes,o=(i=i!=null)?No(t,r):Pr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function B_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function zf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},om(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Pn(o):(o=Qt(e)?ss:Dt.current,r.context=No(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ff(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Fh.enqueueReplaceState(r,r.state,null),th(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",i=e;do n+=mI(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Bd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BS=typeof WeakMap=="function"?WeakMap:Map;function bw(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){oh||(oh=!0,Yf=i),Uf(t,e)},n}function kw(t,e,n){n=bi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Uf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Uf(t,e),typeof i!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function H_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new BS;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=nP.bind(null,t,e,n),e.then(t,t))}function $_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var HS=Vi.ReactCurrentOwner,Kt=!1;function Ut(t,e,n,i){e.child=t===null?iw(e,null,n,i):Lo(e,t.child,n,i)}function W_(t,e,n,i,r){n=n.render;var o=e.ref;return Io(e,r),i=hm(t,e,n,i,o,r),n=dm(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ri(t,e,r)):(qe&&n&&Jp(e),e.flags|=1,Ut(t,e,i,r),e.child)}function G_(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Em(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Aw(t,e,o,i,r)):(t=kc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(l,i)&&t.ref===e.ref)return Ri(t,e,r)}return e.flags|=1,t=yr(o,i),t.ref=e.ref,t.return=e,e.child=t}function Aw(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Il(o,i)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Ri(t,e,r)}return Bf(t,e,n,i,r)}function Cw(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(vo,rn),rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(vo,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Fe(vo,rn),rn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Fe(vo,rn),rn|=i;return Ut(t,e,r,n),e.child}function Nw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bf(t,e,n,i,r){var o=Qt(n)?ss:Dt.current;return o=No(e,o),Io(e,r),n=hm(t,e,n,i,o,r),i=dm(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ri(t,e,r)):(qe&&i&&Jp(e),e.flags|=1,Ut(t,e,n,r),e.child)}function K_(t,e,n,i,r){if(Qt(n)){var o=!0;Qc(e)}else o=!1;if(Io(e,r),e.stateNode===null)Sc(t,e),Pw(e,n,i),zf(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var d=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=Pn(m):(m=Qt(n)?ss:Dt.current,m=No(e,m));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==i||d!==m)&&B_(e,l,i,m),er=!1;var E=e.memoizedState;l.state=E,th(e,i,l,r),d=e.memoizedState,h!==i||E!==d||Zt.current||er?(typeof y=="function"&&(Ff(e,n,y,i),d=e.memoizedState),(h=er||U_(e,n,h,i,E,d,m))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),l.props=i,l.state=d,l.context=m,i=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,sw(t,e),h=e.memoizedProps,m=e.type===e.elementType?h:Mn(e.type,h),l.props=m,w=e.pendingProps,E=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Pn(d):(d=Qt(n)?ss:Dt.current,d=No(e,d));var C=n.getDerivedStateFromProps;(y=typeof C=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==w||E!==d)&&B_(e,l,i,d),er=!1,E=e.memoizedState,l.state=E,th(e,i,l,r);var D=e.memoizedState;h!==w||E!==D||Zt.current||er?(typeof C=="function"&&(Ff(e,n,C,i),D=e.memoizedState),(m=er||U_(e,n,m,i,E,D,d)||!1)?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,D,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,D,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=D),l.props=i,l.state=D,l.context=d,i=m):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),i=!1)}return Hf(t,e,n,i,o,r)}function Hf(t,e,n,i,r,o){Nw(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&L_(e,n,!1),Ri(t,e,o);i=e.stateNode,HS.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Lo(e,t.child,null,o),e.child=Lo(e,null,h,o)):Ut(t,e,h,o),e.memoizedState=i.state,r&&L_(e,n,!0),e.child}function Rw(t){var e=t.stateNode;e.pendingContext?R_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R_(t,e.context,!1),am(t,e.containerInfo)}function Z_(t,e,n,i,r){return Ro(),tm(r),e.flags|=256,Ut(t,e,n,i),e.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lw(t,e,n){var i=e.pendingProps,r=Ke.current,o=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(r&2)!==0),h?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Fe(Ke,r&1),t===null)return jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Bh(l,i,0,null),t=ns(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qf(n),e.memoizedState=$f,t):mm(e,l));if(r=t.memoizedState,r!==null&&(h=r.dehydrated,h!==null))return $S(t,e,l,i,h,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,h=r.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=yr(r,d),i.subtreeFlags=r.subtreeFlags&14680064),h!==null?o=yr(h,o):(o=ns(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?qf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=$f,i}return o=t.child,t=o.sibling,i=yr(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function mm(t,e){return e=Bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oc(t,e,n,i){return i!==null&&tm(i),Lo(e,t.child,null,n),t=mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $S(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=Bd(Error(X(422))),oc(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Bh({mode:"visible",children:i.children},r,0,null),o=ns(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Lo(e,t.child,null,l),e.child.memoizedState=qf(l),e.memoizedState=$f,o);if(!(e.mode&1))return oc(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var h=i.dgst;return i=h,o=Error(X(419)),i=Bd(o,i,void 0),oc(t,e,l,i)}if(h=(l&t.childLanes)!==0,Kt||h){if(i=xt,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ni(t,r),Fn(i,t,r,-1))}return xm(),i=Bd(Error(X(421))),oc(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=iP.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,sn=mr(r.nextSibling),on=e,qe=!0,Dn=null,t!==null&&(yn[wn++]=Ei,yn[wn++]=Ti,yn[wn++]=os,Ei=t.id,Ti=t.overflow,os=e),e=mm(e,i.children),e.flags|=4096,e)}function Q_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Vf(t.return,e,n)}function Hd(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Mw(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ut(t,e,i.children,n),i=Ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q_(t,n,e);else if(t.tag===19)Q_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Fe(Ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&nh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Hd(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&nh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Hd(e,!0,n,null,o);break;case"together":Hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qS(t,e,n){switch(e.tag){case 3:Rw(e),Ro();break;case 5:ow(e);break;case 1:Qt(e.type)&&Qc(e);break;case 4:am(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Fe(Jc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Fe(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?Lw(t,e,n):(Fe(Ke,Ke.current&1),t=Ri(t,e,n),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Mw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Fe(Ke,Ke.current),i)break;return null;case 22:case 23:return e.lanes=0,Cw(t,e,n)}return Ri(t,e,n)}var Ow,Wf,Dw,jw;Ow=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};Dw=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Xr(Jn.current);var o=null;switch(n){case"input":r=pf(t,r),i=pf(t,i),o=[];break;case"select":r=Ye({},r,{value:void 0}),i=Ye({},i,{value:void 0}),o=[];break;case"textarea":r=_f(t,r),i=_f(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Kc)}yf(n,i);var l;n=null;for(m in r)if(!i.hasOwnProperty(m)&&r.hasOwnProperty(m)&&r[m]!=null)if(m==="style"){var h=r[m];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(_l.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in i){var d=i[m];if(h=r!=null?r[m]:void 0,i.hasOwnProperty(m)&&d!==h&&(d!=null||h!=null))if(m==="style")if(h){for(l in h)!h.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&h[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(o=o||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(_l.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&ze("scroll",t),o||h===d||(o=[])):(o=o||[]).push(m,d))}n&&(o=o||[]).push("style",n);var m=o;(e.updateQueue=m)&&(e.flags|=4)}};jw=function(t,e,n,i){n!==i&&(e.flags|=4)};function Wa(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function WS(t,e,n){var i=e.pendingProps;switch(em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Qt(e.type)&&Zc(),Nt(e),null;case 3:return i=e.stateNode,Mo(),Be(Zt),Be(Dt),um(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(ep(Dn),Dn=null))),Wf(t,e),Nt(e),null;case 5:lm(e);var r=Xr(Al.current);if(n=e.type,t!==null&&e.stateNode!=null)Dw(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(X(166));return Nt(e),null}if(t=Xr(Jn.current),rc(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Yn]=e,i[bl]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(r=0;r<Xa.length;r++)ze(Xa[r],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":s_(i,o),ze("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ze("invalid",i);break;case"textarea":a_(i,o),ze("invalid",i)}yf(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var h=o[l];l==="children"?typeof h=="string"?i.textContent!==h&&(o.suppressHydrationWarning!==!0&&ic(i.textContent,h,t),r=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&ic(i.textContent,h,t),r=["children",""+h]):_l.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&ze("scroll",i)}switch(n){case"input":Zu(i),o_(i,o,!0);break;case"textarea":Zu(i),l_(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Kc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Yn]=e,t[bl]=i,Ow(t,e,!1,!1),e.stateNode=t;e:{switch(l=wf(n,i),n){case"dialog":ze("cancel",t),ze("close",t),r=i;break;case"iframe":case"object":case"embed":ze("load",t),r=i;break;case"video":case"audio":for(r=0;r<Xa.length;r++)ze(Xa[r],t);r=i;break;case"source":ze("error",t),r=i;break;case"img":case"image":case"link":ze("error",t),ze("load",t),r=i;break;case"details":ze("toggle",t),r=i;break;case"input":s_(t,i),r=pf(t,i),ze("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ye({},i,{value:void 0}),ze("invalid",t);break;case"textarea":a_(t,i),r=_f(t,i),ze("invalid",t);break;default:r=i}yf(n,r),h=r;for(o in h)if(h.hasOwnProperty(o)){var d=h[o];o==="style"?p0(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&d0(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&vl(t,d):typeof d=="number"&&vl(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_l.hasOwnProperty(o)?d!=null&&o==="onScroll"&&ze("scroll",t):d!=null&&Fp(t,o,d,l))}switch(n){case"input":Zu(t),o_(t,i,!1);break;case"textarea":Zu(t),l_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Sr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?wo(t,!!i.multiple,o,!1):i.defaultValue!=null&&wo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)jw(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(X(166));if(n=Xr(Al.current),Xr(Jn.current),rc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Yn]=e,(o=i.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:ic(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ic(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yn]=e,e.stateNode=i}return Nt(e),null;case 13:if(Be(Ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&sn!==null&&e.mode&1&&!(e.flags&128))tw(),Ro(),e.flags|=98560,o=!1;else if(o=rc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Yn]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),o=!1}else Dn!==null&&(ep(Dn),Dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?mt===0&&(mt=3):xm())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Mo(),Wf(t,e),t===null&&Sl(e.stateNode.containerInfo),Nt(e),null;case 10:return rm(e.type._context),Nt(e),null;case 17:return Qt(e.type)&&Zc(),Nt(e),null;case 19:if(Be(Ke),o=e.memoizedState,o===null)return Nt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Wa(o,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=nh(t),l!==null){for(e.flags|=128,Wa(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ke,Ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&rt()>Do&&(e.flags|=128,i=!0,Wa(o,!1),e.lanes=4194304)}else{if(!i)if(t=nh(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!qe)return Nt(e),null}else 2*rt()-o.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,i=!0,Wa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rt(),e.sibling=null,n=Ke.current,Fe(Ke,i?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return wm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?rn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function GS(t,e){switch(em(e),e.tag){case 1:return Qt(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Be(Zt),Be(Dt),um(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lm(e),null;case 13:if(Be(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ke),null;case 4:return Mo(),null;case 10:return rm(e.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var ac=!1,Mt=!1,KS=typeof WeakSet=="function"?WeakSet:Set,ne=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){tt(t,e,i)}else n.current=null}function Gf(t,e,n){try{n()}catch(i){tt(t,e,i)}}var Y_=!1;function ZS(t,e){if(Cf=qc,t=B0(),Xp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,h=-1,d=-1,m=0,y=0,w=t,E=null;t:for(;;){for(var C;w!==n||r!==0&&w.nodeType!==3||(h=l+r),w!==o||i!==0&&w.nodeType!==3||(d=l+i),w.nodeType===3&&(l+=w.nodeValue.length),(C=w.firstChild)!==null;)E=w,w=C;for(;;){if(w===t)break t;if(E===n&&++m===r&&(h=l),E===o&&++y===i&&(d=l),(C=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=C}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:t,selectionRange:n},qc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var O=D.memoizedProps,U=D.memoizedState,S=e.stateNode,P=S.getSnapshotBeforeUpdate(e.elementType===e.type?O:Mn(e.type,O),U);S.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(B){tt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return D=Y_,Y_=!1,D}function ll(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Gf(e,n,o)}r=r.next}while(r!==i)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Kf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vw(t){var e=t.alternate;e!==null&&(t.alternate=null,Vw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[bl],delete e[Mf],delete e[NS],delete e[RS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fw(t){return t.tag===5||t.tag===3||t.tag===4}function X_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(i!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}function Qf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Qf(t,e,n),t=t.sibling;t!==null;)Qf(t,e,n),t=t.sibling}var Tt=null,On=!1;function Qi(t,e,n){for(n=n.child;n!==null;)zw(t,e,n),n=n.sibling}function zw(t,e,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Rh,n)}catch{}switch(n.tag){case 5:Mt||_o(n,e);case 6:var i=Tt,r=On;Tt=null,Qi(t,e,n),Tt=i,On=r,Tt!==null&&(On?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(On?(t=Tt,n=n.stateNode,t.nodeType===8?Dd(t.parentNode,n):t.nodeType===1&&Dd(t,n),El(t)):Dd(Tt,n.stateNode));break;case 4:i=Tt,r=On,Tt=n.stateNode.containerInfo,On=!0,Qi(t,e,n),Tt=i,On=r;break;case 0:case 11:case 14:case 15:if(!Mt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Gf(n,e,l),r=r.next}while(r!==i)}Qi(t,e,n);break;case 1:if(!Mt&&(_o(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){tt(n,e,h)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(Mt=(i=Mt)||n.memoizedState!==null,Qi(t,e,n),Mt=i):Qi(t,e,n);break;default:Qi(t,e,n)}}function J_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KS),e.forEach(function(i){var r=rP.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:Tt=h.stateNode,On=!1;break e;case 3:Tt=h.stateNode.containerInfo,On=!0;break e;case 4:Tt=h.stateNode.containerInfo,On=!0;break e}h=h.return}if(Tt===null)throw Error(X(160));zw(o,l,r),Tt=null,On=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(m){tt(r,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Uw(e,t),e=e.sibling}function Uw(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Zn(t),i&4){try{ll(3,t,t.return),zh(3,t)}catch(O){tt(t,t.return,O)}try{ll(5,t,t.return)}catch(O){tt(t,t.return,O)}}break;case 1:Ln(e,t),Zn(t),i&512&&n!==null&&_o(n,n.return);break;case 5:if(Ln(e,t),Zn(t),i&512&&n!==null&&_o(n,n.return),t.flags&32){var r=t.stateNode;try{vl(r,"")}catch(O){tt(t,t.return,O)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&u0(r,o),wf(h,l);var m=wf(h,o);for(l=0;l<d.length;l+=2){var y=d[l],w=d[l+1];y==="style"?p0(r,w):y==="dangerouslySetInnerHTML"?d0(r,w):y==="children"?vl(r,w):Fp(r,y,w,m)}switch(h){case"input":mf(r,o);break;case"textarea":c0(r,o);break;case"select":var E=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var C=o.value;C!=null?wo(r,!!o.multiple,C,!1):E!==!!o.multiple&&(o.defaultValue!=null?wo(r,!!o.multiple,o.defaultValue,!0):wo(r,!!o.multiple,o.multiple?[]:"",!1))}r[bl]=o}catch(O){tt(t,t.return,O)}}break;case 6:if(Ln(e,t),Zn(t),i&4){if(t.stateNode===null)throw Error(X(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(O){tt(t,t.return,O)}}break;case 3:if(Ln(e,t),Zn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(O){tt(t,t.return,O)}break;case 4:Ln(e,t),Zn(t);break;case 13:Ln(e,t),Zn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(vm=rt())),i&4&&J_(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(m=Mt)||y,Ln(e,t),Mt=m):Ln(e,t),Zn(t),i&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!y&&t.mode&1)for(ne=t,y=t.child;y!==null;){for(w=ne=y;ne!==null;){switch(E=ne,C=E.child,E.tag){case 0:case 11:case 14:case 15:ll(4,E,E.return);break;case 1:_o(E,E.return);var D=E.stateNode;if(typeof D.componentWillUnmount=="function"){i=E,n=E.return;try{e=i,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(O){tt(i,n,O)}}break;case 5:_o(E,E.return);break;case 22:if(E.memoizedState!==null){tv(w);continue}}C!==null?(C.return=E,ne=C):tv(w)}y=y.sibling}e:for(y=null,w=t;;){if(w.tag===5){if(y===null){y=w;try{r=w.stateNode,m?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=w.stateNode,d=w.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=f0("display",l))}catch(O){tt(t,t.return,O)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(O){tt(t,t.return,O)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Ln(e,t),Zn(t),i&4&&J_(t);break;case 21:break;default:Ln(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fw(n)){var i=n;break e}n=n.return}throw Error(X(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(vl(r,""),i.flags&=-33);var o=X_(t);Qf(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,h=X_(t);Zf(t,h,l);break;default:throw Error(X(161))}}catch(d){tt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QS(t,e,n){ne=t,Bw(t)}function Bw(t,e,n){for(var i=(t.mode&1)!==0;ne!==null;){var r=ne,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||ac;if(!l){var h=r.alternate,d=h!==null&&h.memoizedState!==null||Mt;h=ac;var m=Mt;if(ac=l,(Mt=d)&&!m)for(ne=r;ne!==null;)l=ne,d=l.child,l.tag===22&&l.memoizedState!==null?nv(r):d!==null?(d.return=l,ne=d):nv(r);for(;o!==null;)ne=o,Bw(o),o=o.sibling;ne=r,ac=h,Mt=m}ev(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ne=o):ev(t)}}function ev(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||zh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Mt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&V_(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V_(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&El(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Mt||e.flags&512&&Kf(e)}catch(E){tt(e,e.return,E)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function tv(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function nv(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(d){tt(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(d){tt(e,r,d)}}var o=e.return;try{Kf(e)}catch(d){tt(e,o,d)}break;case 5:var l=e.return;try{Kf(e)}catch(d){tt(e,l,d)}}}catch(d){tt(e,e.return,d)}if(e===t){ne=null;break}var h=e.sibling;if(h!==null){h.return=e.return,ne=h;break}ne=e.return}}var YS=Math.ceil,sh=Vi.ReactCurrentDispatcher,gm=Vi.ReactCurrentOwner,Tn=Vi.ReactCurrentBatchConfig,Ce=0,xt=null,ut=null,Pt=0,rn=0,vo=Nr(0),mt=0,Ll=null,ls=0,Uh=0,_m=0,ul=null,Gt=null,vm=0,Do=1/0,wi=null,oh=!1,Yf=null,_r=null,lc=!1,lr=null,ah=0,cl=0,Xf=null,Pc=-1,bc=0;function Bt(){return Ce&6?rt():Pc!==-1?Pc:Pc=rt()}function vr(t){return t.mode&1?Ce&2&&Pt!==0?Pt&-Pt:MS.transition!==null?(bc===0&&(bc=P0()),bc):(t=Me,t!==0||(t=window.event,t=t===void 0?16:L0(t.type)),t):1}function Fn(t,e,n,i){if(50<cl)throw cl=0,Xf=null,Error(X(185));Kl(t,n,i),(!(Ce&2)||t!==xt)&&(t===xt&&(!(Ce&2)&&(Uh|=n),mt===4&&nr(t,Pt)),Yt(t,i),n===1&&Ce===0&&!(e.mode&1)&&(Do=rt()+500,jh&&Rr()))}function Yt(t,e){var n=t.callbackNode;MI(t,e);var i=$c(t,t===xt?Pt:0);if(i===0)n!==null&&h_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&h_(n),e===1)t.tag===0?LS(iv.bind(null,t)):X0(iv.bind(null,t)),AS(function(){!(Ce&6)&&Rr()}),n=null;else{switch(b0(i)){case 1:n=$p;break;case 4:n=I0;break;case 16:n=Hc;break;case 536870912:n=S0;break;default:n=Hc}n=Qw(n,Hw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hw(t,e){if(Pc=-1,bc=0,Ce&6)throw Error(X(327));var n=t.callbackNode;if(So()&&t.callbackNode!==n)return null;var i=$c(t,t===xt?Pt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=lh(t,i);else{e=i;var r=Ce;Ce|=2;var o=qw();(xt!==t||Pt!==e)&&(wi=null,Do=rt()+500,ts(t,e));do try{eP();break}catch(h){$w(t,h)}while(!0);im(),sh.current=o,Ce=r,ut!==null?e=0:(xt=null,Pt=0,e=mt)}if(e!==0){if(e===2&&(r=Sf(t),r!==0&&(i=r,e=Jf(t,r))),e===1)throw n=Ll,ts(t,0),nr(t,i),Yt(t,rt()),n;if(e===6)nr(t,i);else{if(r=t.current.alternate,!(i&30)&&!XS(r)&&(e=lh(t,i),e===2&&(o=Sf(t),o!==0&&(i=o,e=Jf(t,o))),e===1))throw n=Ll,ts(t,0),nr(t,i),Yt(t,rt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(X(345));case 2:Kr(t,Gt,wi);break;case 3:if(nr(t,i),(i&130023424)===i&&(e=vm+500-rt(),10<e)){if($c(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Bt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Lf(Kr.bind(null,t,Gt,wi),e);break}Kr(t,Gt,wi);break;case 4:if(nr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-Vn(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=rt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*YS(i/1960))-i,10<i){t.timeoutHandle=Lf(Kr.bind(null,t,Gt,wi),i);break}Kr(t,Gt,wi);break;case 5:Kr(t,Gt,wi);break;default:throw Error(X(329))}}}return Yt(t,rt()),t.callbackNode===n?Hw.bind(null,t):null}function Jf(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=lh(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&ep(e)),t}function ep(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function XS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!zn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~_m,e&=~Uh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),i=1<<n;t[n]=-1,e&=~i}}function iv(t){if(Ce&6)throw Error(X(327));So();var e=$c(t,0);if(!(e&1))return Yt(t,rt()),null;var n=lh(t,e);if(t.tag!==0&&n===2){var i=Sf(t);i!==0&&(e=i,n=Jf(t,i))}if(n===1)throw n=Ll,ts(t,0),nr(t,e),Yt(t,rt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,Gt,wi),Yt(t,rt()),null}function ym(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Do=rt()+500,jh&&Rr())}}function us(t){lr!==null&&lr.tag===0&&!(Ce&6)&&So();var e=Ce;Ce|=1;var n=Tn.transition,i=Me;try{if(Tn.transition=null,Me=1,t)return t()}finally{Me=i,Tn.transition=n,Ce=e,!(Ce&6)&&Rr()}}function wm(){rn=vo.current,Be(vo)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kS(n)),ut!==null)for(n=ut.return;n!==null;){var i=n;switch(em(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Zc();break;case 3:Mo(),Be(Zt),Be(Dt),um();break;case 5:lm(i);break;case 4:Mo();break;case 13:Be(Ke);break;case 19:Be(Ke);break;case 10:rm(i.type._context);break;case 22:case 23:wm()}n=n.return}if(xt=t,ut=t=yr(t.current,null),Pt=rn=e,mt=0,Ll=null,_m=Uh=ls=0,Gt=ul=null,Yr!==null){for(e=0;e<Yr.length;e++)if(n=Yr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}Yr=null}return t}function $w(t,e){do{var n=ut;try{if(im(),Tc.current=rh,ih){for(var i=Ze.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ih=!1}if(as=0,wt=pt=Ze=null,al=!1,Cl=0,gm.current=null,n===null||n.return===null){mt=1,Ll=e,ut=null;break}e:{var o=t,l=n.return,h=n,d=e;if(e=Pt,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,y=h,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var C=$_(l);if(C!==null){C.flags&=-257,q_(C,l,h,o,e),C.mode&1&&H_(o,m,e),e=C,d=m;var D=e.updateQueue;if(D===null){var O=new Set;O.add(d),e.updateQueue=O}else D.add(d);break e}else{if(!(e&1)){H_(o,m,e),xm();break e}d=Error(X(426))}}else if(qe&&h.mode&1){var U=$_(l);if(U!==null){!(U.flags&65536)&&(U.flags|=256),q_(U,l,h,o,e),tm(Oo(d,h));break e}}o=d=Oo(d,h),mt!==4&&(mt=2),ul===null?ul=[o]:ul.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=bw(o,d,e);j_(o,S);break e;case 1:h=d;var P=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_r===null||!_r.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=kw(o,h,e);j_(o,B);break e}}o=o.return}while(o!==null)}Gw(n)}catch(K){e=K,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function qw(){var t=sh.current;return sh.current=rh,t===null?rh:t}function xm(){(mt===0||mt===3||mt===2)&&(mt=4),xt===null||!(ls&268435455)&&!(Uh&268435455)||nr(xt,Pt)}function lh(t,e){var n=Ce;Ce|=2;var i=qw();(xt!==t||Pt!==e)&&(wi=null,ts(t,e));do try{JS();break}catch(r){$w(t,r)}while(!0);if(im(),Ce=n,sh.current=i,ut!==null)throw Error(X(261));return xt=null,Pt=0,mt}function JS(){for(;ut!==null;)Ww(ut)}function eP(){for(;ut!==null&&!SI();)Ww(ut)}function Ww(t){var e=Zw(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?Gw(t):ut=e,gm.current=null}function Gw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GS(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ut=null;return}}else if(n=WS(n,e,rn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);mt===0&&(mt=5)}function Kr(t,e,n){var i=Me,r=Tn.transition;try{Tn.transition=null,Me=1,tP(t,e,n,i)}finally{Tn.transition=r,Me=i}return null}function tP(t,e,n,i){do So();while(lr!==null);if(Ce&6)throw Error(X(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OI(t,o),t===xt&&(ut=xt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,Qw(Hc,function(){return So(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tn.transition,Tn.transition=null;var l=Me;Me=1;var h=Ce;Ce|=4,gm.current=null,ZS(t,n),Uw(n,t),xS(Nf),qc=!!Cf,Nf=Cf=null,t.current=n,QS(n),PI(),Ce=h,Me=l,Tn.transition=o}else t.current=n;if(lc&&(lc=!1,lr=t,ah=r),o=t.pendingLanes,o===0&&(_r=null),AI(n.stateNode),Yt(t,rt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(oh)throw oh=!1,t=Yf,Yf=null,t;return ah&1&&t.tag!==0&&So(),o=t.pendingLanes,o&1?t===Xf?cl++:(cl=0,Xf=t):cl=0,Rr(),null}function So(){if(lr!==null){var t=b0(ah),e=Tn.transition,n=Me;try{if(Tn.transition=null,Me=16>t?16:t,lr===null)var i=!1;else{if(t=lr,lr=null,ah=0,Ce&6)throw Error(X(331));var r=Ce;for(Ce|=4,ne=t.current;ne!==null;){var o=ne,l=o.child;if(ne.flags&16){var h=o.deletions;if(h!==null){for(var d=0;d<h.length;d++){var m=h[d];for(ne=m;ne!==null;){var y=ne;switch(y.tag){case 0:case 11:case 15:ll(8,y,o)}var w=y.child;if(w!==null)w.return=y,ne=w;else for(;ne!==null;){y=ne;var E=y.sibling,C=y.return;if(Vw(y),y===m){ne=null;break}if(E!==null){E.return=C,ne=E;break}ne=C}}}var D=o.alternate;if(D!==null){var O=D.child;if(O!==null){D.child=null;do{var U=O.sibling;O.sibling=null,O=U}while(O!==null)}}ne=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ne=l;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ll(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ne=S;break e}ne=o.return}}var P=t.current;for(ne=P;ne!==null;){l=ne;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,ne=b;else e:for(l=P;ne!==null;){if(h=ne,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:zh(9,h)}}catch(K){tt(h,h.return,K)}if(h===l){ne=null;break e}var B=h.sibling;if(B!==null){B.return=h.return,ne=B;break e}ne=h.return}}if(Ce=r,Rr(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Rh,t)}catch{}i=!0}return i}finally{Me=n,Tn.transition=e}}return!1}function rv(t,e,n){e=Oo(n,e),e=bw(t,e,1),t=gr(t,e,1),e=Bt(),t!==null&&(Kl(t,1,e),Yt(t,e))}function tt(t,e,n){if(t.tag===3)rv(t,t,n);else for(;e!==null;){if(e.tag===3){rv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_r===null||!_r.has(i))){t=Oo(n,t),t=kw(e,t,1),e=gr(e,t,1),t=Bt(),e!==null&&(Kl(e,1,t),Yt(e,t));break}}e=e.return}}function nP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Pt&n)===n&&(mt===4||mt===3&&(Pt&130023424)===Pt&&500>rt()-vm?ts(t,0):_m|=n),Yt(t,e)}function Kw(t,e){e===0&&(t.mode&1?(e=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):e=1);var n=Bt();t=Ni(t,e),t!==null&&(Kl(t,e,n),Yt(t,n))}function iP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kw(t,n)}function rP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(X(314))}i!==null&&i.delete(e),Kw(t,n)}var Zw;Zw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,qS(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,qe&&e.flags&1048576&&J0(e,Xc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Sc(t,e),t=e.pendingProps;var r=No(e,Dt.current);Io(e,n),r=hm(null,e,i,t,r,n);var o=dm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(i)?(o=!0,Qc(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,om(e),r.updater=Fh,e.stateNode=r,r._reactInternals=e,zf(e,i,t,n),e=Hf(null,e,i,!0,o,n)):(e.tag=0,qe&&o&&Jp(e),Ut(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=oP(i),t=Mn(i,t),r){case 0:e=Bf(null,e,i,t,n);break e;case 1:e=K_(null,e,i,t,n);break e;case 11:e=W_(null,e,i,t,n);break e;case 14:e=G_(null,e,i,Mn(i.type,t),n);break e}throw Error(X(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mn(i,r),Bf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mn(i,r),K_(t,e,i,r,n);case 3:e:{if(Rw(e),t===null)throw Error(X(387));i=e.pendingProps,o=e.memoizedState,r=o.element,sw(t,e),th(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Oo(Error(X(423)),e),e=Z_(t,e,i,n,r);break e}else if(i!==r){r=Oo(Error(X(424)),e),e=Z_(t,e,i,n,r);break e}else for(sn=mr(e.stateNode.containerInfo.firstChild),on=e,qe=!0,Dn=null,n=iw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),i===r){e=Ri(t,e,n);break e}Ut(t,e,i,n)}e=e.child}return e;case 5:return ow(e),t===null&&jf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,Rf(i,r)?l=null:o!==null&&Rf(i,o)&&(e.flags|=32),Nw(t,e),Ut(t,e,l,n),e.child;case 6:return t===null&&jf(e),null;case 13:return Lw(t,e,n);case 4:return am(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Lo(e,null,i,n):Ut(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mn(i,r),W_(t,e,i,r,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,Fe(Jc,i._currentValue),i._currentValue=l,o!==null)if(zn(o.value,l)){if(o.children===r.children&&!Zt.current){e=Ri(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){l=o.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(o.tag===1){d=bi(-1,n&-n),d.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?d.next=d:(d.next=y.next,y.next=d),m.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Vf(o.return,n,e),h.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(X(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),Vf(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ut(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Io(e,n),r=Pn(r),i=i(r),e.flags|=1,Ut(t,e,i,n),e.child;case 14:return i=e.type,r=Mn(i,e.pendingProps),r=Mn(i.type,r),G_(t,e,i,r,n);case 15:return Aw(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mn(i,r),Sc(t,e),e.tag=1,Qt(i)?(t=!0,Qc(e)):t=!1,Io(e,n),Pw(e,i,r),zf(e,i,r,n),Hf(null,e,i,!0,t,n);case 19:return Mw(t,e,n);case 22:return Cw(t,e,n)}throw Error(X(156,e.tag))};function Qw(t,e){return T0(t,e)}function sP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,i){return new sP(t,e,n,i)}function Em(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oP(t){if(typeof t=="function")return Em(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Up)return 11;if(t===Bp)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")Em(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ao:return ns(n.children,r,o,e);case zp:l=8,r|=8;break;case cf:return t=En(12,n,e,r|2),t.elementType=cf,t.lanes=o,t;case hf:return t=En(13,n,e,r),t.elementType=hf,t.lanes=o,t;case df:return t=En(19,n,e,r),t.elementType=df,t.lanes=o,t;case o0:return Bh(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r0:l=10;break e;case s0:l=9;break e;case Up:l=11;break e;case Bp:l=14;break e;case Ji:l=16,i=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=En(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function ns(t,e,n,i){return t=En(7,t,i,e),t.lanes=n,t}function Bh(t,e,n,i){return t=En(22,t,i,e),t.elementType=o0,t.lanes=n,t.stateNode={isHidden:!1},t}function $d(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function qd(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aP(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sd(0),this.expirationTimes=Sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Tm(t,e,n,i,r,o,l,h,d){return t=new aP(t,e,n,h,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=En(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(o),t}function lP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Yw(t){if(!t)return Pr;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Qt(n))return Y0(t,n,e)}return e}function Xw(t,e,n,i,r,o,l,h,d){return t=Tm(n,i,!0,t,r,o,l,h,d),t.context=Yw(null),n=t.current,i=Bt(),r=vr(n),o=bi(i,r),o.callback=e??null,gr(n,o,r),t.current.lanes=r,Kl(t,r,i),Yt(t,i),t}function Hh(t,e,n,i){var r=e.current,o=Bt(),l=vr(r);return n=Yw(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=gr(r,e,l),t!==null&&(Fn(t,r,l,o),Ec(t,r,l)),l}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Im(t,e){sv(t,e),(t=t.alternate)&&sv(t,e)}function uP(){return null}var Jw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}$h.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Hh(t,e,null,null)};$h.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Hh(null,t,null,null)}),e[Ci]=null}};function $h(t){this._internalRoot=t}$h.prototype.unstable_scheduleHydration=function(t){if(t){var e=C0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&R0(t)}};function Pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ov(){}function cP(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var m=uh(l);o.call(m)}}var l=Xw(e,i,t,0,null,!1,!1,"",ov);return t._reactRootContainer=l,t[Ci]=l.current,Sl(t.nodeType===8?t.parentNode:t),us(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var h=i;i=function(){var m=uh(d);h.call(m)}}var d=Tm(t,0,!1,null,null,!1,!1,"",ov);return t._reactRootContainer=d,t[Ci]=d.current,Sl(t.nodeType===8?t.parentNode:t),us(function(){Hh(e,d,n,i)}),d}function Wh(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var h=r;r=function(){var d=uh(l);h.call(d)}}Hh(e,l,t,r)}else l=cP(n,e,t,r,i);return uh(l)}k0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ya(e.pendingLanes);n!==0&&(qp(e,n|1),Yt(e,rt()),!(Ce&6)&&(Do=rt()+500,Rr()))}break;case 13:us(function(){var i=Ni(t,1);if(i!==null){var r=Bt();Fn(i,t,1,r)}}),Im(t,1)}};Wp=function(t){if(t.tag===13){var e=Ni(t,134217728);if(e!==null){var n=Bt();Fn(e,t,134217728,n)}Im(t,134217728)}};A0=function(t){if(t.tag===13){var e=vr(t),n=Ni(t,e);if(n!==null){var i=Bt();Fn(n,t,e,i)}Im(t,e)}};C0=function(){return Me};N0=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Ef=function(t,e,n){switch(e){case"input":if(mf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Dh(i);if(!r)throw Error(X(90));l0(i),mf(i,r)}}}break;case"textarea":c0(t,n);break;case"select":e=n.value,e!=null&&wo(t,!!n.multiple,e,!1)}};_0=ym;v0=us;var hP={usingClientEntryPoint:!1,Events:[Ql,ho,Dh,m0,g0,ym]},Ga={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dP={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=x0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||uP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Rh=uc.inject(dP),Xn=uc}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(e))throw Error(X(200));return lP(t,e,null,n)};un.createRoot=function(t,e){if(!Pm(t))throw Error(X(299));var n=!1,i="",r=Jw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Tm(t,1,!1,null,null,n,!1,i,r),t[Ci]=e.current,Sl(t.nodeType===8?t.parentNode:t),new Sm(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=x0(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return us(t)};un.hydrate=function(t,e,n){if(!qh(e))throw Error(X(200));return Wh(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!Pm(t))throw Error(X(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=Jw;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Xw(e,null,t,1,n??null,r,!1,o,l),t[Ci]=e.current,Sl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new $h(e)};un.render=function(t,e,n){if(!qh(e))throw Error(X(200));return Wh(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!qh(t))throw Error(X(40));return t._reactRootContainer?(us(function(){Wh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};un.unstable_batchedUpdates=ym;un.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!qh(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Wh(t,e,n,!1,i)};un.version="18.3.1-next-f1338f8080-20240426";function ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ex)}catch(t){console.error(t)}}ex(),e0.exports=un;var tx=e0.exports,nx,av=tx;nx=av.createRoot,av.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ml.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const lv="popstate";function fP(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:l,hash:h}=i.location;return tp("",{pathname:o,search:l,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ch(r)}return mP(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ix(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pP(){return Math.random().toString(36).substr(2,8)}function uv(t,e){return{usr:t.state,key:t.key,idx:e}}function tp(t,e,n,i){return n===void 0&&(n=null),Ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ko(e):e,{state:n,key:e&&e.key||i||pP()})}function ch(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function mP(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,h=ur.Pop,d=null,m=y();m==null&&(m=0,l.replaceState(Ml({},l.state,{idx:m}),""));function y(){return(l.state||{idx:null}).idx}function w(){h=ur.Pop;let U=y(),S=U==null?null:U-m;m=U,d&&d({action:h,location:O.location,delta:S})}function E(U,S){h=ur.Push;let P=tp(O.location,U,S);m=y()+1;let b=uv(P,m),B=O.createHref(P);try{l.pushState(b,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;r.location.assign(B)}o&&d&&d({action:h,location:O.location,delta:1})}function C(U,S){h=ur.Replace;let P=tp(O.location,U,S);m=y();let b=uv(P,m),B=O.createHref(P);l.replaceState(b,"",B),o&&d&&d({action:h,location:O.location,delta:0})}function D(U){let S=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof U=="string"?U:ch(U);return P=P.replace(/ $/,"%20"),ht(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let O={get action(){return h},get location(){return t(r,l)},listen(U){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(lv,w),d=U,()=>{r.removeEventListener(lv,w),d=null}},createHref(U){return e(r,U)},createURL:D,encodeLocation(U){let S=D(U);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:E,replace:C,go(U){return l.go(U)}};return O}var cv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cv||(cv={}));function gP(t,e,n){return n===void 0&&(n="/"),_P(t,e,n,!1)}function _P(t,e,n,i){let r=typeof e=="string"?Ko(e):e,o=bm(r.pathname||"/",n);if(o==null)return null;let l=rx(t);vP(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let m=AP(o);h=bP(l[d],m,i)}return h}function rx(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(ht(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let m=wr([i,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),rx(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:SP(m,o.index),routesMeta:y})};return t.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,l);else for(let d of sx(o.path))r(o,l,d)}),e}function sx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=sx(i.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function vP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PP(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const yP=/^:[\w-]+$/,wP=3,xP=2,EP=1,TP=10,IP=-2,hv=t=>t==="*";function SP(t,e){let n=t.split("/"),i=n.length;return n.some(hv)&&(i+=IP),e&&(i+=xP),n.filter(r=>!hv(r)).reduce((r,o)=>r+(yP.test(o)?wP:o===""?EP:TP),i)}function PP(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function bP(t,e,n){let{routesMeta:i}=t,r={},o="/",l=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",w=dv({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),E=d.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=dv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!w)return null;Object.assign(r,w.params),l.push({params:r,pathname:wr([o,w.pathname]),pathnameBase:LP(wr([o,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(o=wr([o,w.pathnameBase]))}return l}function dv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=kP(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,y,w)=>{let{paramName:E,isOptional:C}=y;if(E==="*"){let O=h[w]||"";l=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const D=h[w];return C&&!D?m[E]=void 0:m[E]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function kP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ix(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function AP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ix(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function CP(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ko(t):t;return{pathname:n?n.startsWith("/")?n:NP(n,e):e,search:MP(i),hash:OP(r)}}function NP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Wd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ox(t,e){let n=RP(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function ax(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Ko(t):(r=Ml({},t),ht(!r.pathname||!r.pathname.includes("?"),Wd("?","pathname","search",r)),ht(!r.pathname||!r.pathname.includes("#"),Wd("#","pathname","hash",r)),ht(!r.search||!r.search.includes("#"),Wd("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,h;if(l==null)h=n;else{let w=e.length-1;if(!i&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),w-=1;r.pathname=E.join("/")}h=w>=0?e[w]:"/"}let d=CP(r,h),m=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),LP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lx=["post","put","patch","delete"];new Set(lx);const jP=["get",...lx];new Set(jP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ol.apply(this,arguments)}const km=$.createContext(null),VP=$.createContext(null),vs=$.createContext(null),Gh=$.createContext(null),ys=$.createContext({outlet:null,matches:[],isDataRoute:!1}),ux=$.createContext(null);function FP(t,e){let{relative:n}=e===void 0?{}:e;Xl()||ht(!1);let{basename:i,navigator:r}=$.useContext(vs),{hash:o,pathname:l,search:h}=hx(t,{relative:n}),d=l;return i!=="/"&&(d=l==="/"?i:wr([i,l])),r.createHref({pathname:d,search:h,hash:o})}function Xl(){return $.useContext(Gh)!=null}function Jl(){return Xl()||ht(!1),$.useContext(Gh).location}function cx(t){$.useContext(vs).static||$.useLayoutEffect(t)}function zP(){let{isDataRoute:t}=$.useContext(ys);return t?JP():UP()}function UP(){Xl()||ht(!1);let t=$.useContext(km),{basename:e,future:n,navigator:i}=$.useContext(vs),{matches:r}=$.useContext(ys),{pathname:o}=Jl(),l=JSON.stringify(ox(r,n.v7_relativeSplatPath)),h=$.useRef(!1);return cx(()=>{h.current=!0}),$.useCallback(function(m,y){if(y===void 0&&(y={}),!h.current)return;if(typeof m=="number"){i.go(m);return}let w=ax(m,JSON.parse(l),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:wr([e,w.pathname])),(y.replace?i.replace:i.push)(w,y.state,y)},[e,i,l,o,t])}function hx(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=$.useContext(vs),{matches:r}=$.useContext(ys),{pathname:o}=Jl(),l=JSON.stringify(ox(r,i.v7_relativeSplatPath));return $.useMemo(()=>ax(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function BP(t,e){return HP(t,e)}function HP(t,e,n,i){Xl()||ht(!1);let{navigator:r}=$.useContext(vs),{matches:o}=$.useContext(ys),l=o[o.length-1],h=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=Jl(),y;if(e){var w;let U=typeof e=="string"?Ko(e):e;d==="/"||(w=U.pathname)!=null&&w.startsWith(d)||ht(!1),y=U}else y=m;let E=y.pathname||"/",C=E;if(d!=="/"){let U=d.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=gP(t,{pathname:C}),O=KP(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:wr([d,r.encodeLocation?r.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?d:wr([d,r.encodeLocation?r.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,n,i);return e&&O?$.createElement(Gh.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ur.Pop}},O):O}function $P(){let t=XP(),e=DP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:r},n):null,null)}const qP=$.createElement($P,null);class WP extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(ys.Provider,{value:this.props.routeContext},$.createElement(ux.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GP(t){let{routeContext:e,match:n,children:i}=t,r=$.useContext(km);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(ys.Provider,{value:e},i)}function KP(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,h=(r=n)==null?void 0:r.errors;if(h!=null){let y=l.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);y>=0||ht(!1),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:E,errors:C}=n,D=w.route.loader&&E[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||D){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,w,E)=>{let C,D=!1,O=null,U=null;n&&(C=h&&w.route.id?h[w.route.id]:void 0,O=w.route.errorElement||qP,d&&(m<0&&E===0?(D=!0,U=null):m===E&&(D=!0,U=w.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,E+1)),P=()=>{let b;return C?b=O:D?b=U:w.route.Component?b=$.createElement(w.route.Component,null):w.route.element?b=w.route.element:b=y,$.createElement(GP,{match:w,routeContext:{outlet:y,matches:S,isDataRoute:n!=null},children:b})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?$.createElement(WP,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var dx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dx||{}),hh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hh||{});function ZP(t){let e=$.useContext(km);return e||ht(!1),e}function QP(t){let e=$.useContext(VP);return e||ht(!1),e}function YP(t){let e=$.useContext(ys);return e||ht(!1),e}function fx(t){let e=YP(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function XP(){var t;let e=$.useContext(ux),n=QP(hh.UseRouteError),i=fx(hh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function JP(){let{router:t}=ZP(dx.UseNavigateStable),e=fx(hh.UseNavigateStable),n=$.useRef(!1);return cx(()=>{n.current=!0}),$.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ol({fromRouteId:e},o)))},[t,e])}function eb(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xi(t){ht(!1)}function tb(t){let{basename:e="/",children:n=null,location:i,navigationType:r=ur.Pop,navigator:o,static:l=!1,future:h}=t;Xl()&&ht(!1);let d=e.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:d,navigator:o,static:l,future:Ol({v7_relativeSplatPath:!1},h)}),[d,h,o,l]);typeof i=="string"&&(i=Ko(i));let{pathname:y="/",search:w="",hash:E="",state:C=null,key:D="default"}=i,O=$.useMemo(()=>{let U=bm(y,d);return U==null?null:{location:{pathname:U,search:w,hash:E,state:C,key:D},navigationType:r}},[d,y,w,E,C,D,r]);return O==null?null:$.createElement(vs.Provider,{value:m},$.createElement(Gh.Provider,{children:n,value:O}))}function nb(t){let{children:e,location:n}=t;return BP(np(e),n)}new Promise(()=>{});function np(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(i,r)=>{if(!$.isValidElement(i))return;let o=[...e,r];if(i.type===$.Fragment){n.push.apply(n,np(i.props.children,o));return}i.type!==Xi&&ht(!1),!i.props.index||!i.props.children||ht(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=np(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ip.apply(this,arguments)}function ib(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function rb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sb(t,e){return t.button===0&&(!e||e==="_self")&&!rb(t)}const ob=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ab="6";try{window.__reactRouterVersion=ab}catch{}const lb="startTransition",fv=nI[lb];function ub(t){let{basename:e,children:n,future:i,window:r}=t,o=$.useRef();o.current==null&&(o.current=fP({window:r,v5Compat:!0}));let l=o.current,[h,d]=$.useState({action:l.action,location:l.location}),{v7_startTransition:m}=i||{},y=$.useCallback(w=>{m&&fv?fv(()=>d(w)):d(w)},[d,m]);return $.useLayoutEffect(()=>l.listen(y),[l,y]),$.useEffect(()=>eb(i),[i]),$.createElement(tb,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:l,future:i})}const cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gd=$.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:l,state:h,target:d,to:m,preventScrollReset:y,viewTransition:w}=e,E=ib(e,ob),{basename:C}=$.useContext(vs),D,O=!1;if(typeof m=="string"&&hb.test(m)&&(D=m,cb))try{let b=new URL(window.location.href),B=m.startsWith("//")?new URL(b.protocol+m):new URL(m),K=bm(B.pathname,C);B.origin===b.origin&&K!=null?m=K+B.search+B.hash:O=!0}catch{}let U=FP(m,{relative:r}),S=db(m,{replace:l,state:h,target:d,preventScrollReset:y,relative:r,viewTransition:w});function P(b){i&&i(b),b.defaultPrevented||S(b)}return $.createElement("a",ip({},E,{href:D||U,onClick:O||o?i:P,ref:n,target:d}))});var pv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pv||(pv={}));var mv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mv||(mv={}));function db(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:l,viewTransition:h}=e===void 0?{}:e,d=zP(),m=Jl(),y=hx(t,{relative:l});return $.useCallback(w=>{if(sb(w,n)){w.preventDefault();let E=i!==void 0?i:ch(m)===ch(y);d(t,{replace:E,state:r,preventScrollReset:o,relative:l,viewTransition:h})}},[m,d,y,i,r,n,t,o,l,h])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const n=$.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:h="",children:d,...m},y)=>$.createElement("svg",{ref:y,...fb,width:r,height:r,stroke:i,strokeWidth:l?Number(o)*24/Number(r):o,className:["lucide",`lucide-${pb(t)}`,h].join(" "),...m},[...e.map(([w,E])=>$.createElement(w,E)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ye("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ye("Church",[["path",{d:"m18 7 4 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9l4-2",key:"gy5gyo"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 22V5l-6-3-6 3v17",key:"1hsnhq"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M10 9h4",key:"u4k05v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ye("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ye("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ye("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ye("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ye("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Db=()=>{const[t,e]=$.useState(!1),n=Jl(),i=[{name:"Home",href:"/",nameHindi:"होम"},{name:"Q&A Explorer",href:"/explorer",nameHindi:"प्रश्न उत्तर"},{name:"Add Q&A",href:"/add-qa",nameHindi:"प्रश्न जोड़ें"},{name:"Dashboard",href:"/dashboard",nameHindi:"डैशबोर्ड"},{name:"Map",href:"/map",nameHindi:"नक्शा"},{name:"Events",href:"/events",nameHindi:"कार्यक्रम"},{name:"Contact",href:"/contact",nameHindi:"संपर्क"}];return p.jsx("header",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-red-600 shadow-lg sticky top-0 z-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center py-4",children:[p.jsxs(Gd,{to:"/",className:"flex items-center space-x-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx(gb,{className:"h-10 w-10 text-white"}),p.jsx(ri,{className:"h-4 w-4 text-yellow-300 absolute -bottom-1 -right-1"})]}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-white",children:"VATIKA Tourism"}),p.jsx("p",{className:"text-orange-100 text-sm",children:"वाराणसी दर्शन"})]})]}),p.jsx("nav",{className:"hidden md:flex space-x-8",children:i.map(r=>p.jsxs(Gd,{to:r.href,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${n.pathname===r.href?"bg-white text-orange-600":"text-white hover:bg-orange-400 hover:text-white"}`,children:[p.jsx("span",{className:"block",children:r.name}),p.jsx("span",{className:"block text-xs opacity-75",children:r.nameHindi})]},r.name))}),p.jsx("div",{className:"md:hidden",children:p.jsx("button",{onClick:()=>e(!t),className:"text-white hover:text-orange-200 focus:outline-none focus:text-orange-200",children:t?p.jsx(Ob,{className:"h-6 w-6"}):p.jsx(Ib,{className:"h-6 w-6"})})})]}),t&&p.jsx("div",{className:"md:hidden",children:p.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-orange-700 rounded-lg mb-4",children:i.map(r=>p.jsxs(Gd,{to:r.href,className:`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${n.pathname===r.href?"bg-white text-orange-600":"text-white hover:bg-orange-600"}`,onClick:()=>e(!1),children:[p.jsx("span",{className:"block",children:r.name}),p.jsx("span",{className:"block text-sm opacity-75",children:r.nameHindi})]},r.name))})})]})})},jb=()=>p.jsx("footer",{className:"bg-gray-900 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"col-span-1 md:col-span-2",children:[p.jsx("h3",{className:"text-2xl font-bold text-orange-400 mb-4",children:"VATIKA Tourism"}),p.jsx("p",{className:"text-gray-300 mb-4",children:"Your trusted guide to exploring the spiritual and cultural heritage of Varanasi. Discover the ancient ghats, sacred temples, and vibrant culture of the eternal city."}),p.jsx("p",{className:"text-gray-300 text-sm",children:"वाराणसी की आध्यात्मिक और सांस्कृतिक विरासत की खोज के लिए आपका विश्वसनीय गाइड।"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/",className:"text-gray-300 hover:text-orange-400 transition-colors",children:"Home"})}),p.jsx("li",{children:p.jsx("a",{href:"/explorer",className:"text-gray-300 hover:text-orange-400 transition-colors",children:"Q&A Explorer"})}),p.jsx("li",{children:p.jsx("a",{href:"/map",className:"text-gray-300 hover:text-orange-400 transition-colors",children:"Map"})}),p.jsx("li",{children:p.jsx("a",{href:"/events",className:"text-gray-300 hover:text-orange-400 transition-colors",children:"Events"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Contact"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(_x,{className:"h-5 w-5 text-orange-400"}),p.jsx("a",{href:"mailto:harshmishra83022@gmail.com",className:"text-gray-300 hover:text-orange-400 transition-colors",children:"harshmishra83022@gmail.com"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(gx,{className:"h-5 w-5 text-orange-400"}),p.jsx("a",{href:"https://www.linkedin.com/in/harsh-mishra-5a5031266",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-orange-400 transition-colors",children:"LinkedIn Profile"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(ri,{className:"h-5 w-5 text-orange-400"}),p.jsx("span",{className:"text-gray-300",children:"Varanasi, Uttar Pradesh, India"})]})]})]})]}),p.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 VATIKA Tourism. All rights reserved."}),p.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[p.jsx("span",{className:"text-gray-400 text-sm",children:"Made with"}),p.jsx(mx,{className:"h-4 w-4 text-red-500"}),p.jsx("span",{className:"text-gray-400 text-sm",children:"for Varanasi"})]})]})]})}),Vb=({onSearch:t,isLoading:e=!1,placeholder:n="Ask anything about Varanasi...",placeholderHindi:i="वाराणसी के बारे में कुछ भी पूछें..."})=>{const[r,o]=$.useState(""),[l,h]=$.useState("english"),[d,m]=$.useState(!1),[y,w]=$.useState(null);$.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const D=window.SpeechRecognition||window.webkitSpeechRecognition,O=new D;O.continuous=!1,O.interimResults=!1,O.lang=l==="hindi"?"hi-IN":"en-US",O.onresult=U=>{const S=U.results[0][0].transcript;o(S),m(!1)},O.onerror=()=>{m(!1)},O.onend=()=>{m(!1)},w(O)}},[l]);const E=D=>{D.preventDefault(),r.trim()&&t(r.trim(),l)},C=()=>{y&&(d?(y.stop(),m(!1)):(y.lang=l==="hindi"?"hi-IN":"en-US",y.start(),m(!0)))};return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsxs("div",{className:"bg-white rounded-full p-1 shadow-md",children:[p.jsx("button",{onClick:()=>h("english"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${l==="english"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"English"}),p.jsx("button",{onClick:()=>h("hindi"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${l==="hindi"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"हिंदी"})]})}),p.jsx("form",{onSubmit:E,className:"relative",children:p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("input",{type:"text",value:r,onChange:D=>o(D.target.value),placeholder:l==="hindi"?i:n,className:"w-full px-6 py-4 pr-24 text-lg border-2 border-orange-200 rounded-full focus:outline-none focus:border-orange-500 shadow-lg",disabled:e}),y&&p.jsx("button",{type:"button",onClick:C,className:`absolute right-16 p-2 rounded-full transition-colors ${d?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-orange-100 hover:text-orange-600"}`,disabled:e,children:d?p.jsx(Sb,{className:"h-5 w-5"}):p.jsx(Pb,{className:"h-5 w-5"})}),p.jsx("button",{type:"submit",disabled:e||!r.trim(),className:"absolute right-2 p-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?p.jsx(Tb,{className:"h-5 w-5 animate-spin"}):p.jsx(rp,{className:"h-5 w-5"})})]})}),d&&p.jsx("div",{className:"text-center mt-2",children:p.jsx("span",{className:"text-orange-600 text-sm font-medium",children:l==="hindi"?"सुन रहा हूँ...":"Listening..."})})]})},Fb=[{id:"all",name:"All",nameHindi:"सभी",icon:ri,color:"bg-gray-500"},{id:"kund",name:"Ghats",nameHindi:"घाट",icon:Mb,color:"bg-blue-500"},{id:"temple",name:"Temples",nameHindi:"मंदिर",icon:wb,color:"bg-orange-500"},{id:"aarti",name:"Aarti",nameHindi:"आरती",icon:dh,color:"bg-yellow-500"},{id:"food",name:"Food",nameHindi:"भोजन",icon:Lb,color:"bg-green-500"},{id:"cruise",name:"Boat Rides",nameHindi:"नाव सवारी",icon:Ac,color:"bg-cyan-500"},{id:"toilet",name:"Facilities",nameHindi:"सुविधाएं",icon:ri,color:"bg-purple-500"}],xx=({selectedDomain:t,onDomainChange:e})=>p.jsxs("div",{className:"w-full max-w-4xl mx-auto mb-8",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Filter by Category / श्रेणी के अनुसार फ़िल्टर करें"}),p.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:Fb.map(n=>{const i=n.icon;return p.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${t===n.id?`${n.color} text-white shadow-lg scale-105`:"bg-white text-gray-700 border border-gray-300 hover:border-orange-300 hover:shadow-md"}`,children:[p.jsx(i,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden sm:block",children:n.name}),p.jsx("span",{className:"text-xs opacity-75 hidden sm:block",children:n.nameHindi})]},n.id)})})]});var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},zb=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Tx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,h=l?t[r+1]:0,d=r+2<t.length,m=d?t[r+2]:0,y=o>>2,w=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,C=m&63;d||(C=64,l||(E=64)),i.push(n[y],n[w],n[E],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ex(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const m=r<t.length?n[t.charAt(r)]:64;++r;const w=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||m==null||w==null)throw new Ub;const E=o<<2|h>>4;if(i.push(E),m!==64){const C=h<<4&240|m>>2;if(i.push(C),w!==64){const D=m<<6&192|w;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(t){const e=Ex(t);return Tx.encodeByteArray(e,!0)},fh=function(t){return Bb(t).replace(/\./g,"")},Ix=function(t){try{return Tx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=()=>Hb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof wv>"u")return;const t=wv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ix(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return $b()||qb()||Wb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sx=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Gb=t=>{const e=Sx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Px=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},bx=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fh(JSON.stringify(n)),fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Yb(){var t;const e=(t=Kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ek(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tk(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ax(){try{return typeof indexedDB=="object"}catch{return!1}}function Cx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function nk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="FirebaseError";class Hn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ik,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ws.prototype.create)}}class ws{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?rk(o,i):"Error",h=`${this.serviceName}: ${l} (${r}).`;return new Hn(r,h,i)}}function rk(t,e){return t.replace(sk,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const sk=/\{\$([^}]+)}/g;function ok(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(xv(o)&&xv(l)){if(!Dl(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function xv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ak(t,e){const n=new lk(t,e);return n.subscribe.bind(n)}class lk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");uk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Kd),r.error===void 0&&(r.error=Kd),r.complete===void 0&&(r.complete=Kd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=1e3,hk=2,dk=4*60*60*1e3,fk=.5;function Ev(t,e=ck,n=hk){const i=e*Math.pow(n,t),r=Math.round(fk*i*(Math.random()-.5)*2);return Math.min(dk,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Kb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mk(t){return t===Zr?void 0:t}function gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const vk={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},yk=be.INFO,wk={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},xk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=wk[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=yk,this._logHandler=xk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const Ek=(t,e)=>e.some(n=>t instanceof n);let Tv,Iv;function Tk(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,op=new WeakMap,Rx=new WeakMap,Zd=new WeakMap,Cm=new WeakMap;function Sk(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(xr(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Nx.set(n,t)}).catch(()=>{}),Cm.set(e,t),e}function Pk(t){if(op.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});op.set(t,e)}let ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bk(t){ap=t(ap)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Qd(this),e,...n);return Rx.set(i,e.sort?e.sort():[e]),xr(i)}:Ik().includes(t)?function(...e){return t.apply(Qd(this),e),xr(Nx.get(this))}:function(...e){return xr(t.apply(Qd(this),e))}}function Ak(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Pk(t),Ek(t,Tk())?new Proxy(t,ap):t)}function xr(t){if(t instanceof IDBRequest)return Sk(t);if(Zd.has(t))return Zd.get(t);const e=Ak(t);return e!==t&&(Zd.set(t,e),Cm.set(e,t)),e}const Qd=t=>Cm.get(t);function Lx(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),h=xr(l);return i&&l.addEventListener("upgradeneeded",d=>{i(xr(l.result),d.oldVersion,d.newVersion,xr(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Ck=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],Yd=new Map;function Sv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Nk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Ck.includes(n)))return;const o=async function(l,...h){const d=this.transaction(l,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),r&&d.done]))[0]};return Yd.set(e,o),o}bk(t=>({...t,get:(e,n,i)=>Sv(e,n)||t.get(e,n,i),has:(e,n)=>!!Sv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Lk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",Pv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Zh("@firebase/app"),Mk="@firebase/app-compat",Ok="@firebase/analytics-compat",Dk="@firebase/analytics",jk="@firebase/app-check-compat",Vk="@firebase/app-check",Fk="@firebase/auth",zk="@firebase/auth-compat",Uk="@firebase/database",Bk="@firebase/data-connect",Hk="@firebase/database-compat",$k="@firebase/functions",qk="@firebase/functions-compat",Wk="@firebase/installations",Gk="@firebase/installations-compat",Kk="@firebase/messaging",Zk="@firebase/messaging-compat",Qk="@firebase/performance",Yk="@firebase/performance-compat",Xk="@firebase/remote-config",Jk="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/vertexai-preview",rA="@firebase/firestore-compat",sA="firebase",oA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",aA={[lp]:"fire-core",[Mk]:"fire-core-compat",[Dk]:"fire-analytics",[Ok]:"fire-analytics-compat",[Vk]:"fire-app-check",[jk]:"fire-app-check-compat",[Fk]:"fire-auth",[zk]:"fire-auth-compat",[Uk]:"fire-rtdb",[Bk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[$k]:"fire-fn",[qk]:"fire-fn-compat",[Wk]:"fire-iid",[Gk]:"fire-iid-compat",[Kk]:"fire-fcm",[Zk]:"fire-fcm-compat",[Qk]:"fire-perf",[Yk]:"fire-perf-compat",[Xk]:"fire-rc",[Jk]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[rA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,lA=new Map,cp=new Map;function bv(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){const e=t.name;if(cp.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,t);for(const n of ph.values())bv(n,t);for(const n of lA.values())bv(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new ws("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=oA;function Mx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:up,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Er.create("bad-app-name",{appName:String(r)});if(n||(n=Px()),!n)throw Er.create("no-options");const o=ph.get(r);if(o){if(Dl(n,o.options)&&Dl(i,o.config))return o;throw Er.create("duplicate-app",{appName:r})}const l=new _k(r);for(const d of cp.values())l.addComponent(d);const h=new cA(n,i,l);return ph.set(r,h),h}function Nm(t=up){const e=ph.get(t);if(!e&&t===up&&Px())return Mx();if(!e)throw Er.create("no-app",{appName:t});return e}function In(t,e,n){var i;let r=(i=aA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(h.join(" "));return}si(new Un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",dA=1,jl="firebase-heartbeat-store";let Xd=null;function Ox(){return Xd||(Xd=Lx(hA,dA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),Xd}async function fA(t){try{const n=(await Ox()).transaction(jl),i=await n.objectStore(jl).get(Dx(t));return await n.done,i}catch(e){if(e instanceof Hn)Li.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function kv(t,e){try{const i=(await Ox()).transaction(jl,"readwrite");await i.objectStore(jl).put(e,Dx(t)),await i.done}catch(n){if(n instanceof Hn)Li.warn(n.message);else{const i=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(i.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1024,mA=30*24*60*60*1e3;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Av();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=mA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Li.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Av(),{heartbeatsToSend:i,unsentEntries:r}=_A(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Li.warn(n),""}}}function Av(){return new Date().toISOString().substring(0,10)}function _A(t,e=pA){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),Cv(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Cv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ax()?Cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cv(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){si(new Un("platform-logger",e=>new Rk(e),"PRIVATE")),si(new Un("heartbeat",e=>new gA(e),"PRIVATE")),In(lp,Pv,t),In(lp,Pv,"esm2017"),In("fire-js","")}yA("");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,jx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function k(){}k.prototype=I.prototype,A.D=I.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function(R,j,V){for(var M=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)M[Je-2]=arguments[Je];return I.prototype[j].apply(R,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,I,k){k||(k=0);var R=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)R[j]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(j=0;16>j;++j)R[j]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=A.g[0],k=A.g[1],j=A.g[2];var V=A.g[3],M=I+(V^k&(j^V))+R[0]+3614090360&4294967295;I=k+(M<<7&4294967295|M>>>25),M=V+(j^I&(k^j))+R[1]+3905402710&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(k^V&(I^k))+R[2]+606105819&4294967295,j=V+(M<<17&4294967295|M>>>15),M=k+(I^j&(V^I))+R[3]+3250441966&4294967295,k=j+(M<<22&4294967295|M>>>10),M=I+(V^k&(j^V))+R[4]+4118548399&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(j^I&(k^j))+R[5]+1200080426&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(k^V&(I^k))+R[6]+2821735955&4294967295,j=V+(M<<17&4294967295|M>>>15),M=k+(I^j&(V^I))+R[7]+4249261313&4294967295,k=j+(M<<22&4294967295|M>>>10),M=I+(V^k&(j^V))+R[8]+1770035416&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(j^I&(k^j))+R[9]+2336552879&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(k^V&(I^k))+R[10]+4294925233&4294967295,j=V+(M<<17&4294967295|M>>>15),M=k+(I^j&(V^I))+R[11]+2304563134&4294967295,k=j+(M<<22&4294967295|M>>>10),M=I+(V^k&(j^V))+R[12]+1804603682&4294967295,I=k+(M<<7&4294967295|M>>>25),M=V+(j^I&(k^j))+R[13]+4254626195&4294967295,V=I+(M<<12&4294967295|M>>>20),M=j+(k^V&(I^k))+R[14]+2792965006&4294967295,j=V+(M<<17&4294967295|M>>>15),M=k+(I^j&(V^I))+R[15]+1236535329&4294967295,k=j+(M<<22&4294967295|M>>>10),M=I+(j^V&(k^j))+R[1]+4129170786&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^j&(I^k))+R[6]+3225465664&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^k&(V^I))+R[11]+643717713&4294967295,j=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(j^V))+R[0]+3921069994&4294967295,k=j+(M<<20&4294967295|M>>>12),M=I+(j^V&(k^j))+R[5]+3593408605&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^j&(I^k))+R[10]+38016083&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^k&(V^I))+R[15]+3634488961&4294967295,j=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(j^V))+R[4]+3889429448&4294967295,k=j+(M<<20&4294967295|M>>>12),M=I+(j^V&(k^j))+R[9]+568446438&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^j&(I^k))+R[14]+3275163606&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^k&(V^I))+R[3]+4107603335&4294967295,j=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(j^V))+R[8]+1163531501&4294967295,k=j+(M<<20&4294967295|M>>>12),M=I+(j^V&(k^j))+R[13]+2850285829&4294967295,I=k+(M<<5&4294967295|M>>>27),M=V+(k^j&(I^k))+R[2]+4243563512&4294967295,V=I+(M<<9&4294967295|M>>>23),M=j+(I^k&(V^I))+R[7]+1735328473&4294967295,j=V+(M<<14&4294967295|M>>>18),M=k+(V^I&(j^V))+R[12]+2368359562&4294967295,k=j+(M<<20&4294967295|M>>>12),M=I+(k^j^V)+R[5]+4294588738&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^j)+R[8]+2272392833&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^k)+R[11]+1839030562&4294967295,j=V+(M<<16&4294967295|M>>>16),M=k+(j^V^I)+R[14]+4259657740&4294967295,k=j+(M<<23&4294967295|M>>>9),M=I+(k^j^V)+R[1]+2763975236&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^j)+R[4]+1272893353&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^k)+R[7]+4139469664&4294967295,j=V+(M<<16&4294967295|M>>>16),M=k+(j^V^I)+R[10]+3200236656&4294967295,k=j+(M<<23&4294967295|M>>>9),M=I+(k^j^V)+R[13]+681279174&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^j)+R[0]+3936430074&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^k)+R[3]+3572445317&4294967295,j=V+(M<<16&4294967295|M>>>16),M=k+(j^V^I)+R[6]+76029189&4294967295,k=j+(M<<23&4294967295|M>>>9),M=I+(k^j^V)+R[9]+3654602809&4294967295,I=k+(M<<4&4294967295|M>>>28),M=V+(I^k^j)+R[12]+3873151461&4294967295,V=I+(M<<11&4294967295|M>>>21),M=j+(V^I^k)+R[15]+530742520&4294967295,j=V+(M<<16&4294967295|M>>>16),M=k+(j^V^I)+R[2]+3299628645&4294967295,k=j+(M<<23&4294967295|M>>>9),M=I+(j^(k|~V))+R[0]+4096336452&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~j))+R[7]+1126891415&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~k))+R[14]+2878612391&4294967295,j=V+(M<<15&4294967295|M>>>17),M=k+(V^(j|~I))+R[5]+4237533241&4294967295,k=j+(M<<21&4294967295|M>>>11),M=I+(j^(k|~V))+R[12]+1700485571&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~j))+R[3]+2399980690&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~k))+R[10]+4293915773&4294967295,j=V+(M<<15&4294967295|M>>>17),M=k+(V^(j|~I))+R[1]+2240044497&4294967295,k=j+(M<<21&4294967295|M>>>11),M=I+(j^(k|~V))+R[8]+1873313359&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~j))+R[15]+4264355552&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~k))+R[6]+2734768916&4294967295,j=V+(M<<15&4294967295|M>>>17),M=k+(V^(j|~I))+R[13]+1309151649&4294967295,k=j+(M<<21&4294967295|M>>>11),M=I+(j^(k|~V))+R[4]+4149444226&4294967295,I=k+(M<<6&4294967295|M>>>26),M=V+(k^(I|~j))+R[11]+3174756917&4294967295,V=I+(M<<10&4294967295|M>>>22),M=j+(I^(V|~k))+R[2]+718787259&4294967295,j=V+(M<<15&4294967295|M>>>17),M=k+(V^(j|~I))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+V&4294967295}i.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var k=I-this.blockSize,R=this.B,j=this.h,V=0;V<I;){if(j==0)for(;V<=k;)r(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<I;)if(R[j++]=A.charCodeAt(V++),j==this.blockSize){r(this,R),j=0;break}}else for(;V<I;)if(R[j++]=A[V++],j==this.blockSize){r(this,R),j=0;break}}this.h=j,this.o+=I},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var k=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=k&255,k/=256;for(this.u(A),A=Array(16),I=k=0;4>I;++I)for(var R=0;32>R;R+=8)A[k++]=this.g[I]>>>R&255;return A};function o(A,I){var k=h;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=I(A)}function l(A,I){this.h=I;for(var k=[],R=!0,j=A.length-1;0<=j;j--){var V=A[j]|0;R&&V==I||(k[j]=V,R=!1)}this.g=k}var h={};function d(A){return-128<=A&&128>A?o(A,function(I){return new l([I|0],0>I?-1:0)}):new l([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return w;if(0>A)return U(m(-A));for(var I=[],k=1,R=0;A>=k;R++)I[R]=A/k|0,k*=4294967296;return new l(I,0)}function y(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return U(y(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(I,8)),R=w,j=0;j<A.length;j+=8){var V=Math.min(8,A.length-j),M=parseInt(A.substring(j,j+V),I);8>V?(V=m(Math.pow(I,V)),R=R.j(V).add(m(M))):(R=R.j(k),R=R.add(m(M)))}return R}var w=d(0),E=d(1),C=d(16777216);t=l.prototype,t.m=function(){if(O(this))return-U(this).m();for(var A=0,I=1,k=0;k<this.g.length;k++){var R=this.i(k);A+=(0<=R?R:4294967296+R)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D(this))return"0";if(O(this))return"-"+U(this).toString(A);for(var I=m(Math.pow(A,6)),k=this,R="";;){var j=B(k,I).g;k=S(k,j.j(I));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=j,D(k))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function D(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function O(A){return A.h==-1}t.l=function(A){return A=S(this,A),O(A)?-1:D(A)?0:1};function U(A){for(var I=A.g.length,k=[],R=0;R<I;R++)k[R]=~A.g[R];return new l(k,~A.h).add(E)}t.abs=function(){return O(this)?U(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],R=0,j=0;j<=I;j++){var V=R+(this.i(j)&65535)+(A.i(j)&65535),M=(V>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);R=M>>>16,V&=65535,M&=65535,k[j]=M<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function S(A,I){return A.add(U(I))}t.j=function(A){if(D(this)||D(A))return w;if(O(this))return O(A)?U(this).j(U(A)):U(U(this).j(A));if(O(A))return U(this.j(U(A)));if(0>this.l(C)&&0>A.l(C))return m(this.m()*A.m());for(var I=this.g.length+A.g.length,k=[],R=0;R<2*I;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<A.g.length;j++){var V=this.i(R)>>>16,M=this.i(R)&65535,Je=A.i(j)>>>16,ai=A.i(j)&65535;k[2*R+2*j]+=M*ai,P(k,2*R+2*j),k[2*R+2*j+1]+=V*ai,P(k,2*R+2*j+1),k[2*R+2*j+1]+=M*Je,P(k,2*R+2*j+1),k[2*R+2*j+2]+=V*Je,P(k,2*R+2*j+2)}for(R=0;R<I;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=I;R<2*I;R++)k[R]=0;return new l(k,0)};function P(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function b(A,I){this.g=A,this.h=I}function B(A,I){if(D(I))throw Error("division by zero");if(D(A))return new b(w,w);if(O(A))return I=B(U(A),I),new b(U(I.g),U(I.h));if(O(I))return I=B(A,U(I)),new b(U(I.g),I.h);if(30<A.g.length){if(O(A)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var k=E,R=I;0>=R.l(A);)k=K(k),R=K(R);var j=Y(k,1),V=Y(R,1);for(R=Y(R,2),k=Y(k,2);!D(R);){var M=V.add(R);0>=M.l(A)&&(j=j.add(k),V=M),R=Y(R,1),k=Y(k,1)}return I=S(A,j.j(I)),new b(j,I)}for(j=w;0<=A.l(I);){for(k=Math.max(1,Math.floor(A.m()/I.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=m(k),M=V.j(I);O(M)||0<M.l(A);)k-=R,V=m(k),M=V.j(I);D(V)&&(V=E),j=j.add(V),A=S(A,M)}return new b(j,A)}t.A=function(A){return B(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)&A.i(R);return new l(k,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)|A.i(R);return new l(k,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],R=0;R<I;R++)k[R]=this.i(R)^A.i(R);return new l(k,this.h^A.h)};function K(A){for(var I=A.g.length+1,k=[],R=0;R<I;R++)k[R]=A.i(R)<<1|A.i(R-1)>>>31;return new l(k,A.h)}function Y(A,I){var k=I>>5;I%=32;for(var R=A.g.length-k,j=[],V=0;V<R;V++)j[V]=0<I?A.i(V+k)>>>I|A.i(V+k+1)<<32-I:A.i(V+k);return new l(j,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jx=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,is=l}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vx,Ja,Fx,Cc,hp,zx,Ux,Bx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function r(u,g){if(g)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in v))break e;v=v[F]}u=u[u.length-1],T=v[u],g=g(T),g!=T&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function o(u,g){u instanceof String&&(u+="");var v=0,T=!1,F={next:function(){if(!T&&v<u.length){var q=v++;return{value:g(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}r("Array.prototype.values",function(u){return u||function(){return o(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,v){return u.call.apply(u.bind,arguments)}function w(u,g,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(g,F)}}return function(){return u.apply(g,arguments)}}function E(u,g,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,E.apply(null,arguments)}function C(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function D(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,F,q){for(var ee=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ee[Le-2]=arguments[Le];return g.prototype[F].apply(T,ee)}}function O(u){const g=u.length;if(0<g){const v=Array(g);for(let T=0;T<g;T++)v[T]=u[T];return v}return[]}function U(u,g){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(d(T)){const F=u.length||0,q=T.length||0;u.length=F+q;for(let ee=0;ee<q;ee++)u[F+ee]=T[ee]}else u.push(T)}}class S{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function B(u){return B[" "](u),u}B[" "]=function(){};var K=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function Y(u,g,v){for(const T in u)g.call(v,u[T],T,u)}function A(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function I(u){const g={};for(const v in u)g[v]=u[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let v,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(v in T)u[v]=T[v];for(let q=0;q<k.length;q++)v=k[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function j(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function V(u){h.setTimeout(()=>{throw u},0)}function M(){var u=ue;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,v){const T=ai.get();T.set(g,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ai=new S(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,W=!1,ue=new Je,J=()=>{const u=h.Promise.resolve(void 0);Vt=()=>{u.then(ce)}};var ce=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(v){V(v)}var g=ai;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}W=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return u}();function we(u,g){if(Ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(K){e:{try{B(g.nodeName);var F=!0;break e}catch{}F=!1}F||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}D(we,Ie);var pe={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),$n=0;function hu(u,g,v,T,F){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!T,this.ha=F,this.key=++$n,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zi(u){this.src=u,this.g={},this.h=0}zi.prototype.add=function(u,g,v,T,F){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ee=Lr(u,g,T,F);return-1<ee?(g=u[ee],v||(g.fa=!1)):(g=new hu(g,this.src,q,!!T,F),g.fa=v,u.push(g)),g};function li(u,g){var v=g.type;if(v in u.g){var T=u.g[v],F=Array.prototype.indexOf.call(T,g,void 0),q;(q=0<=F)&&Array.prototype.splice.call(T,F,1),q&&(Fi(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Lr(u,g,v,T){for(var F=0;F<u.length;++F){var q=u[F];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==T)return F}return-1}var ra="closure_lm_"+(1e6*Math.random()|0),Ss={};function sa(u,g,v,T,F){if(Array.isArray(g)){for(var q=0;q<g.length;q++)sa(u,g[q],v,T,F);return null}return v=pu(v),u&&u[ft]?u.K(g,v,m(T)?!!T.capture:!!T,F):oa(u,g,v,!1,T,F)}function oa(u,g,v,T,F,q){if(!g)throw Error("Invalid event type");var ee=m(F)?!!F.capture:!!F,Le=As(u);if(Le||(u[ra]=Le=new zi(u)),v=Le.add(g,v,T,ee,q),v.proxy)return v;if(T=Ps(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Re||(F=ee),F===void 0&&(F=!1),u.addEventListener(g.toString(),T,F);else if(u.attachEvent)u.attachEvent(ks(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ps(){function u(v){return g.call(u.src,u.listener,v)}const g=fu;return u}function du(u,g,v,T,F){if(Array.isArray(g))for(var q=0;q<g.length;q++)du(u,g[q],v,T,F);else T=m(T)?!!T.capture:!!T,v=pu(v),u&&u[ft]?(u=u.i,g=String(g).toString(),g in u.g&&(q=u.g[g],v=Lr(q,v,T,F),-1<v&&(Fi(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[g],u.h--)))):u&&(u=As(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Lr(g,v,T,F)),(v=-1<u?g[u]:null)&&bs(v))}function bs(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ft])li(g.i,u);else{var v=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(v,T,u.capture):g.detachEvent?g.detachEvent(ks(v),T):g.addListener&&g.removeListener&&g.removeListener(T),(v=As(g))?(li(v,u),v.h==0&&(v.src=null,g[ra]=null)):Fi(u)}}}function ks(u){return u in Ss?Ss[u]:Ss[u]="on"+u}function fu(u,g){if(u.da)u=!0;else{g=new we(g,this);var v=u.listener,T=u.ha||u.src;u.fa&&bs(u),u=v.call(T,g)}return u}function As(u){return u=u[ra],u instanceof zi?u:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(u){return typeof u=="function"?u:(u[aa]||(u[aa]=function(g){return u.handleEvent(g)}),u[aa])}function st(){ve.call(this),this.i=new zi(this),this.M=this,this.F=null}D(st,ve),st.prototype[ft]=!0,st.prototype.removeEventListener=function(u,g,v,T){du(this,u,g,v,T)};function gt(u,g){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new Ie(g,u);else if(g instanceof Ie)g.target=g.target||u;else{var F=g;g=new Ie(T,u),R(g,F)}if(F=!0,v)for(var q=v.length-1;0<=q;q--){var ee=g.g=v[q];F=Mr(ee,T,!0,g)&&F}if(ee=g.g=u,F=Mr(ee,T,!0,g)&&F,F=Mr(ee,T,!1,g)&&F,v)for(q=0;q<v.length;q++)ee=g.g=v[q],F=Mr(ee,T,!1,g)&&F}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],T=0;T<v.length;T++)Fi(v[T]);delete u.g[g],u.h--}}this.F=null},st.prototype.K=function(u,g,v,T){return this.i.add(String(u),g,!1,v,T)},st.prototype.L=function(u,g,v,T){return this.i.add(String(u),g,!0,v,T)};function Mr(u,g,v,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var F=!0,q=0;q<g.length;++q){var ee=g[q];if(ee&&!ee.da&&ee.capture==v){var Le=ee.listener,ot=ee.ha||ee.src;ee.fa&&li(u.i,ee),F=Le.call(ot,T)!==!1&&F}}return F&&!T.defaultPrevented}function mu(u,g,v){if(typeof u=="function")v&&(u=E(u,v));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function la(u){u.g=mu(()=>{u.g=null,u.i&&(u.i=!1,la(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class gu extends ve{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){ve.call(this),this.h=u,this.g={}}D(Or,ve);var ua=[];function Cs(u){Y(u.g,function(g,v){this.g.hasOwnProperty(v)&&bs(g)},u),u.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Cs(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=h.JSON.stringify,dd=h.JSON.parse,Dr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function ca(){}ca.prototype.h=null;function _u(u){return u.h||(u.h=u.i())}function ha(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rs(){Ie.call(this,"d")}D(Rs,Ie);function da(){Ie.call(this,"c")}D(da,Ie);var ui={},vu=null;function Ls(){return vu=vu||new st}ui.La="serverreachability";function yu(u){Ie.call(this,ui.La,u)}D(yu,Ie);function jr(u){const g=Ls();gt(g,new yu(g))}ui.STAT_EVENT="statevent";function Ms(u,g){Ie.call(this,ui.STAT_EVENT,u),this.stat=g}D(Ms,Ie);function Et(u){const g=Ls();gt(g,new Ms(g,u))}ui.Ma="timingevent";function wu(u,g){Ie.call(this,ui.Ma,u),this.size=g}D(wu,Ie);function Vr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function Fr(){this.g=!0}Fr.prototype.xa=function(){this.g=!1};function hn(u,g,v,T,F,q){u.info(function(){if(u.g)if(q)for(var ee="",Le=q.split("&"),ot=0;ot<Le.length;ot++){var ke=Le[ot].split("=");if(1<ke.length){var je=ke[0];ke=ke[1];var Ge=je.split("_");ee=2<=Ge.length&&Ge[1]=="type"?ee+(je+"="+ke+"&"):ee+(je+"=redacted&")}}else ee=null;else ee=q;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+g+`
`+v+`
`+ee})}function se(u,g,v,T,F,q,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+g+`
`+v+`
`+q+" "+ee})}function ci(u,g,v,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Eu(u,v)+(T?" "+T:"")})}function xu(u,g){u.info(function(){return"TIMEOUT: "+g})}Fr.prototype.info=function(){};function Eu(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return Ns(v)}catch{return g}}var zr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Os={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function kn(){}D(kn,ca),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Ds=new kn;function An(u,g,v,T){this.j=u,this.i=g,this.l=v,this.R=T||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tu}function Tu(){this.i=null,this.g="",this.h=!1}var Iu={},fa={};function pa(u,g,v){u.L=1,u.v=fn(et(g)),u.m=v,u.P=!0,ma(u,null)}function ma(u,g){u.F=Date.now(),Vs(u),u.A=et(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),bu(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Tu,u.g=Mu(u.j,v?g:null,!u.m),0<u.O&&(u.M=new gu(E(u.Y,u,u.g),u.O)),g=u.U,v=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ua[0]=F.toString()),F=ua);for(var q=0;q<F.length;q++){var ee=sa(v,F[q],T||g.handleEvent,!1,g.h||g);if(!ee)break;g.g[ee.key]=ee}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),jr(),hn(u.i,u.u,u.A,u.l,u.R,u.m)}An.prototype.ca=function(u){u=u.target;const g=this.M;g&&Ft(u)==3?g.j():this.Y(u)},An.prototype.Y=function(u){try{if(u==this.g)e:{const Ge=Ft(this.g);var g=this.g.Ba();const Ki=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||Ge!=4||g==7||(g==8||0>=Ki?jr(3):jr(2)),ga(this);var v=this.g.Z();this.X=v;t:if(Su(this)){var T=Na(this.g);u="";var F=T.length,q=Ft(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Ur(this);var ee="";break t}this.h.i=new h.TextDecoder}for(g=0;g<F;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(q&&g==F-1)});T.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,se(this.i,this.u,this.A,this.l,this.R,Ge,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,ot=this.g;if((Le=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Le)){var ke=Le;break t}}ke=null}if(v=ke)ci(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,v);else{this.o=!1,this.s=3,Et(12),hi(this),Ur(this);break e}}if(this.P){v=!0;let nt;for(;!this.J&&this.C<ee.length;)if(nt=js(this,ee),nt==fa){Ge==4&&(this.s=4,Et(14),v=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(nt==Iu){this.s=4,Et(15),ci(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else ci(this.i,this.l,nt,null),Br(this,nt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||ee.length!=0||this.h.h||(this.s=1,Et(16),v=!1),this.o=this.o&&v,!v)ci(this.i,this.l,ee,"[Invalid Chunked Response]"),hi(this),Ur(this);else if(0<ee.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Gs(je),je.M=!0,Et(11))}}else ci(this.i,this.l,ee,null),Br(this,ee);Ge==4&&hi(this),this.o&&!this.J&&(Ge==4?La(this.j,this):(this.o=!1,Vs(this)))}else fd(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),hi(this),Ur(this)}}}catch{}finally{}};function Su(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function js(u,g){var v=u.C,T=g.indexOf(`
`,v);return T==-1?fa:(v=Number(g.substring(v,T)),isNaN(v)?Iu:(T+=1,T+v>g.length?fa:(g=g.slice(T,T+v),u.C=T+v,g)))}An.prototype.cancel=function(){this.J=!0,hi(this)};function Vs(u){u.S=Date.now()+u.I,Pu(u,u.I)}function Pu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Vr(E(u.ba,u),g)}function ga(u){u.B&&(h.clearTimeout(u.B),u.B=null)}An.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xu(this.i,this.A),this.L!=2&&(jr(),Et(17)),hi(this),this.s=2,Ur(this)):Pu(this,this.S-u)};function Ur(u){u.j.G==0||u.J||La(u.j,u)}function hi(u){ga(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Cs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Br(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Se(v.h,u))){if(!u.K&&Se(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Zs(v),qs(v);else break e;Ws(v),Et(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vr(E(v.Za,v),6e3));if(1>=Bi(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((u.K||v.g==u)&&Zs(v),!P(g))for(F=v.Da.g.parse(g),g=0;g<F.length;g++){let ke=F[g];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const je=ke[3];je!=null&&(v.la=je,v.j.info("VER="+v.la));const Ge=ke[4];Ge!=null&&(v.Aa=Ge,v.j.info("SVER="+v.Aa));const Ki=ke[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(T=1.5*Ki,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const nt=u.g;if(nt){const Ys=nt.g?nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var q=T.h;q.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ve(q,q.h),q.h=null))}if(T.D){const Gn=nt.g?nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Gn&&(T.ya=Gn,he(T.I,T.D,Gn))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ee=u;if(T.qa=Qs(T,T.J?T.ia:null,T.W),ee.K){$r(T.h,ee);var Le=ee,ot=T.L;ot&&(Le.I=ot),Le.B&&(ga(Le),Vs(Le)),T.g=ee}else Rn(T);0<v.i.length&&Gi(v)}else ke[0]!="stop"&&ke[0]!="close"||gi(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?gi(v,7):$s(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}jr(4)}catch{}}var Hr=class{constructor(u,g){this.g=u,this.map=g}};function _a(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bi(u){return u.h?1:u.g?u.g.size:0}function Se(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ve(u,g){u.g?u.g.add(g):u.h=g}function $r(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}_a.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function di(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return O(u.i)}function Hi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(d(u)){for(var g=[],v=u.length,T=0;T<v;T++)g.push(u[T]);return g}g=[],v=0;for(T in u)g[v++]=u[T];return g}function ya(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(d(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const T in u)g[v++]=T;return g}}}function _e(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(d(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=ya(u),T=Hi(u),F=T.length,q=0;q<F;q++)g.call(void 0,T[q],v&&v[q],u)}var He=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),F=null;if(0<=T){var q=u[v].substring(0,T);F=u[v].substring(T+1)}else q=u[v];g(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function dn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dn){this.h=u.h,Fs(this,u.j),this.o=u.o,this.g=u.g,fi(this,u.s),this.l=u.l;var g=u.i,v=new pi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),qn(this,v),this.m=u.m}else u&&(g=String(u).match(He))?(this.h=!1,Fs(this,g[1]||"",!0),this.o=Cn(g[2]||""),this.g=Cn(g[3]||"",!0),fi(this,g[4]),this.l=Cn(g[5]||"",!0),qn(this,g[6]||"",!0),this.m=Cn(g[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}dn.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Nn(g,$i,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Nn(g,$i,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Nn(v,v.charAt(0)=="/"?Ta:Ea,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Nn(v,Ia)),u.join("")};function et(u){return new dn(u)}function Fs(u,g,v){u.j=v?Cn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function fi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function qn(u,g,v){g instanceof pi?(u.i=g,pn(u.i,u.h)):(v||(g=Nn(g,zs)),u.i=new pi(g,u.h))}function he(u,g,v){u.i.set(g,v)}function fn(u){return he(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nn(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,xa),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $i=/[#\/\?@]/g,Ea=/[#\?:]/g,Ta=/[#\?]/g,zs=/[#\?@]/g,Ia=/#/g;function pi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=pi.prototype,t.add=function(u,g){en(this),this.i=null,u=ae(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Sa(u,g){en(u),g=ae(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Us(u,g){return en(u),g=ae(u,g),u.g.has(g)}t.forEach=function(u,g){en(this),this.g.forEach(function(v,T){v.forEach(function(F){u.call(g,F,T,this)},this)},this)},t.na=function(){en(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let T=0;T<g.length;T++){const F=u[T];for(let q=0;q<F.length;q++)v.push(g[T])}return v},t.V=function(u){en(this);let g=[];if(typeof u=="string")Us(this,u)&&(g=g.concat(this.g.get(ae(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},t.set=function(u,g){return en(this),this.i=null,u=ae(this,u),Us(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function bu(u,g,v){Sa(u,g),0<v.length&&(u.i=null,u.g.set(ae(u,g),O(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var T=g[v];const q=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var F=q;ee[T]!==""&&(F+="="+encodeURIComponent(String(ee[T]))),u.push(F)}}return this.i=u.join("&")};function ae(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function pn(u,g){g&&!u.j&&(en(u),u.i=null,u.g.forEach(function(v,T){var F=T.toLowerCase();T!=F&&(Sa(this,T),bu(this,F,v))},u)),u.j=g}function De(u,g){const v=new Fr;if(h.Image){const T=new Image;T.onload=C(mn,v,"TestLoadImage: loaded",!0,g,T),T.onerror=C(mn,v,"TestLoadImage: error",!1,g,T),T.onabort=C(mn,v,"TestLoadImage: abort",!1,g,T),T.ontimeout=C(mn,v,"TestLoadImage: timeout",!1,g,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function ku(u,g){const v=new Fr,T=new AbortController,F=setTimeout(()=>{T.abort(),mn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(F),q.ok?mn(v,"TestPingServer: ok",!0,g):mn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),mn(v,"TestPingServer: error",!1,g)})}function mn(u,g,v,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(v)}catch{}}function Pa(){this.g=new Dr}function ba(u,g,v){const T=v||"";try{_e(u,function(F,q){let ee=F;m(F)&&(ee=Ns(F)),g.push(T+q+"="+encodeURIComponent(ee))})}catch(F){throw g.push(T+"type="+encodeURIComponent("_badmap")),F}}function gn(u){this.l=u.Ub||null,this.j=u.eb||!1}D(gn,ca),gn.prototype.g=function(){return new qi(this.l,this.j)},gn.prototype.i=function(u){return function(){return u}}({});function qi(u,g){st.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(qi,st),t=qi.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,tn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,We(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tn(this)),this.g&&(this.readyState=3,tn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wi(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wi(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?We(this):tn(this),this.readyState==3&&Wi(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,We(this))},t.Qa=function(u){this.g&&(this.response=u,We(this))},t.ga=function(){this.g&&We(this)};function We(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tn(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function tn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ka(u){let g="";return Y(u,function(v,T){g+=T,g+=":",g+=v,g+=`\r
`}),g}function Bs(u,g,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=ka(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):he(u,g,v))}function $e(u){st.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D($e,st);var Au=/^https?$/i,Aa=["POST","PUT"];t=$e.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?_u(this.o):_u(Ds),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){Cu(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)v.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),F=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Aa,g,void 0))||T||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Cu(this,q)}};function Cu(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ca(u),Hs(u)}function Ca(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gt(this,"complete"),gt(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ee(this):this.bb())},t.bb=function(){Ee(this)};function Ee(u){if(u.h&&typeof l<"u"&&(!u.v[1]||Ft(u)!=4||u.Z()!=2)){if(u.u&&Ft(u)==4)mu(u.Ea,0,u);else if(gt(u,"readystatechange"),Ft(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var T;if(T=ee===0){var F=String(u.D).match(He)[1]||null;!F&&h.self&&h.self.location&&(F=h.self.location.protocol.slice(0,-1)),T=!Au.test(F?F.toLowerCase():"")}v=T}if(v)gt(u,"complete"),gt(u,"success");else{u.m=6;try{var q=2<Ft(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ca(u)}}finally{Hs(u)}}}}function Hs(u,g){if(u.g){qt(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||gt(u,"ready");try{v.onreadystatechange=T}catch{}}}function qt(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ft(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ft(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),dd(g)}};function Na(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fd(u){const g={};u=(u.g&&2<=Ft(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(P(u[T]))continue;var v=j(u[T]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[F]||[];g[F]=q,q.push(v)}A(g,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Nu(u){this.Aa=0,this.i=[],this.j=new Fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,u),this.cb=mi("retryDelaySeedMs",1e4,u),this.Wa=mi("forwardChannelMaxRetries",2,u),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _a(u&&u.concurrentRequestLimit),this.Da=new Pa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nu.prototype,t.la=8,t.G=1,t.connect=function(u,g,v,T){Et(0),this.W=u,this.H=g||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Qs(this,null,this.W),Gi(this)};function $s(u){if(Ru(u),u.G==3){var g=u.U++,v=et(u.I);if(he(v,"SID",u.K),he(v,"RID",g),he(v,"TYPE","terminate"),qr(u,v),g=new An(u,u.j,g),g.L=2,g.v=fn(et(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.v,v=!0),v||(g.g=Mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Vs(g)}Lu(u)}function qs(u){u.g&&(Gs(u),u.g.cancel(),u.g=null)}function Ru(u){qs(u),u.u&&(h.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Gi(u){if(!va(u.h)&&!u.s){u.s=!0;var g=u.Ga;Vt||J(),W||(Vt(),W=!0),ue.add(g,u),u.B=0}}function pd(u,g){return Bi(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Vr(E(u.Ga,u,g),Ma(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new An(this,this.j,u);let q=this.o;if(this.S&&(q?(q=I(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ra(this,F,g),v=et(this.I),he(v,"RID",u),he(v,"CVER",22),this.D&&he(v,"X-HTTP-Session-Id",this.D),qr(this,v),q&&(this.O?g="headers="+encodeURIComponent(String(ka(q)))+"&"+g:this.m&&Bs(v,this.m,q)),Ve(this.h,F),this.Ua&&he(v,"TYPE","init"),this.P?(he(v,"$req",g),he(v,"SID","null"),F.T=!0,pa(F,v,null)):pa(F,v,g),this.G=2}}else this.G==3&&(u?nn(this,u):this.i.length==0||va(this.h)||nn(this))};function nn(u,g){var v;g?v=g.l:v=u.U++;const T=et(u.I);he(T,"SID",u.K),he(T,"RID",v),he(T,"AID",u.T),qr(u,T),u.m&&u.o&&Bs(T,u.m,u.o),v=new An(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Ra(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ve(u.h,v),pa(v,T,g)}function qr(u,g){u.H&&Y(u.H,function(v,T){he(g,T,v)}),u.l&&_e({},function(v,T){he(g,T,v)})}function Ra(u,g,v){v=Math.min(u.i.length,v);var T=u.l?E(u.l.Na,u.l,u):null;e:{var F=u.i;let q=-1;for(;;){const ee=["count="+v];q==-1?0<v?(q=F[0].g,ee.push("ofs="+q)):q=0:ee.push("ofs="+q);let Le=!0;for(let ot=0;ot<v;ot++){let ke=F[ot].g;const je=F[ot].map;if(ke-=q,0>ke)q=Math.max(0,F[ot].g-100),Le=!1;else try{ba(je,ee,"req"+ke+"_")}catch{T&&T(je)}}if(Le){T=ee.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,T}function Rn(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Vt||J(),W||(Vt(),W=!0),ue.add(g,u),u.v=0}}function Ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Vr(E(u.Fa,u),Ma(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ks(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Vr(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),qs(this),Ks(this))};function Gs(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Ks(u){u.g=new An(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=et(u.qa);he(g,"RID","rpc"),he(g,"SID",u.K),he(g,"AID",u.T),he(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&he(g,"TO",u.ja),he(g,"TYPE","xmlhttp"),qr(u,g),u.m&&u.o&&Bs(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=fn(et(g)),v.m=null,v.P=!0,ma(v,u)}t.Za=function(){this.C!=null&&(this.C=null,qs(this),Ws(this),Et(19))};function Zs(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function La(u,g){var v=null;if(u.g==g){Zs(u),Gs(u),u.g=null;var T=2}else if(Se(u.h,g))v=g.D,$r(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var F=u.B;T=Ls(),gt(T,new wu(T,v)),Gi(u)}else Rn(u);else if(F=g.s,F==3||F==0&&0<g.X||!(T==1&&pd(u,g)||T==2&&Ws(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),F){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Ma(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function gi(u,g){if(u.j.info("Error code "+g),g==2){var v=E(u.fb,u),T=u.Xa;const F=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Fs(T,"https"),fn(T),F?De(T.toString(),v):ku(T.toString(),v)}else Et(2);u.G=0,u.l&&u.l.sa(g),Lu(u),Ru(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Lu(u){if(u.G=0,u.ka=[],u.l){const g=di(u.h);(g.length!=0||u.i.length!=0)&&(U(u.ka,g),U(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function Qs(u,g,v){var T=v instanceof dn?et(v):new dn(v);if(T.g!="")g&&(T.g=g+"."+T.g),fi(T,T.s);else{var F=h.location;T=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;var q=new dn(null);T&&Fs(q,T),g&&(q.g=g),F&&fi(q,F),v&&(q.l=v),T=q}return v=u.D,g=u.ya,v&&g&&he(T,v,g),he(T,"VER",u.la),qr(u,T),T}function Mu(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new $e(new gn({eb:v})):new $e(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}t=Oa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wr(){}Wr.prototype.g=function(u,g){return new _t(u,g)};function _t(u,g){st.call(this),this.g=new Nu(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!P(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new _n(this)}D(_t,st),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){$s(this.g)},_t.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ns(u),u=v);g.i.push(new Hr(g.Ya++,u)),g.G==3&&Gi(g)},_t.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,_t.aa.N.call(this)};function Wn(u){Rs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}D(Wn,Rs);function Ou(){da.call(this),this.status=1}D(Ou,da);function _n(u){this.g=u}D(_n,Oa),_n.prototype.ua=function(){gt(this.g,"a")},_n.prototype.ta=function(u){gt(this.g,new Wn(u))},_n.prototype.sa=function(u){gt(this.g,new Ou)},_n.prototype.ra=function(){gt(this.g,"b")},Wr.prototype.createWebChannel=Wr.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Bx=function(){return new Wr},Ux=function(){return Ls()},zx=ui,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,Cc=zr,Os.COMPLETE="complete",Fx=Os,ha.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",st.prototype.listen=st.prototype.K,Ja=ha,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Vx=$e}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Zh("@firebase/firestore");function Ka(){return cs.logLevel}function re(t,...e){if(cs.logLevel<=be.DEBUG){const n=e.map(Rm);cs.debug(`Firestore (${Qo}): ${t}`,...n)}}function Mi(t,...e){if(cs.logLevel<=be.ERROR){const n=e.map(Rm);cs.error(`Firestore (${Qo}): ${t}`,...n)}}function jo(t,...e){if(cs.logLevel<=be.WARN){const n=e.map(Rm);cs.warn(`Firestore (${Qo}): ${t}`,...n)}}function Rm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function Oe(t,e){t||fe()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class xA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EA{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tr,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string"),new Hx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Lt(e)}}class TA{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IA{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new TA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const i=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new SA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=bA(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function Ne(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Qe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new Qe(0,0))}static max(){return new me(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,i){n===void 0?n=0:n>e.length&&fe(),i===void 0?i=e.length-n:i>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Vl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),l=n.get(r);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Vl{construct(e,n,i){return new Ue(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const kA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Vl{construct(e,n,i){return new St(e,n,i)}static isValidIdentifier(e){return kA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else h==="`"?(l=!l,r++):h!=="."||l?(i+=h,r++):(o(),r++)}if(o(),l)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ue.fromString(e))}static fromName(e){return new oe(Ue.fromString(e).popFirst(5))}static empty(){return new oe(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ue(e.slice()))}}function AA(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=me.fromTimestamp(i===1e9?new Qe(n+1,0):new Qe(n,i));return new br(r,oe.empty(),e)}function CA(t){return new br(t.readTime,t.key,-1)}class br{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new br(me.min(),oe.empty(),-1)}static max(){return new br(me.max(),oe.empty(),-1)}}function NA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==RA)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,i)=>{n(e)})}static reject(e){return new Q((n,i)=>{i(e)})}static waitFor(e){return new Q((n,i)=>{let r=0,o=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++o,l&&o===r&&n()},d=>i(d))}),l=!0,o===r&&n()})}static or(e){let n=Q.resolve(!1);for(const i of e)n=n.next(r=>r?Q.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new Q((i,r)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next(y=>{l[m]=y,++h,h===o&&i(l)},y=>r(y))}})}static doWhile(e,n){return new Q((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function MA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Lm.oe=-1;function Qh(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function OA(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??It.RED,this.left=r??It.EMPTY,this.right=o??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new It(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,i,r,o){return this}insert(e,n,i){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new jn([])}unionWith(e){let n=new bt(St.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Wx("Invalid base64 string: "+o):o}}(e);return new At(n)}static fromUint8Array(e){const n=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const DA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=DA.exec(t);if(Oe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Om(t){const e=t.mapValue.fields.__previous_value__;return Mm(e)?Om(e):e}function Fl(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,i,r,o,l,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}class zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:FA(t)?9007199254740991:VA(t)?10:11:fe()}function oi(t,e){if(t===e)return!0;const n=ds(t);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=kr(r.timestampValue),h=kr(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return hs(r.bytesValue).isEqual(hs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return it(r.geoPointValue.latitude)===it(o.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return it(r.integerValue)===it(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=it(r.doubleValue),h=it(o.doubleValue);return l===h?mh(l)===mh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Lv(l)!==Lv(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!oi(l[d],h[d])))return!1;return!0}(t,e);default:return fe()}}function Ul(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=ds(t),i=ds(e);if(n!==i)return Ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,l){const h=it(o.integerValue||o.doubleValue),d=it(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return Ov(t.timestampValue,e.timestampValue);case 4:return Ov(Fl(t),Fl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(o,l){const h=hs(o),d=hs(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),d=l.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Ne(h[m],d[m]);if(y!==0)return y}return Ne(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Ne(it(o.latitude),it(l.latitude));return h!==0?h:Ne(it(o.longitude),it(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dv(t.arrayValue,e.arrayValue);case 10:return function(o,l){var h,d,m,y;const w=o.fields||{},E=l.fields||{},C=(h=w.value)===null||h===void 0?void 0:h.arrayValue,D=(d=E.value)===null||d===void 0?void 0:d.arrayValue,O=Ne(((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0,((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0);return O!==0?O:Dv(C,D)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===fc.mapValue&&l===fc.mapValue)return 0;if(o===fc.mapValue)return 1;if(l===fc.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=l.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const E=Ne(d[w],y[w]);if(E!==0)return E;const C=Fo(h[d[w]],m[y[w]]);if(C!==0)return C}return Ne(d.length,y.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Ov(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=kr(t),i=kr(e),r=Ne(n.seconds,i.seconds);return r!==0?r:Ne(n.nanos,i.nanos)}function Dv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Fo(n[r],i[r]);if(o)return o}return Ne(n.length,i.length)}function zo(t){return dp(t)}function dp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=kr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=dp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${dp(n.fields[l])}`;return r+"}"}(t.mapValue):fe()}function jv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fp(t){return!!t&&"integerValue"in t}function Dm(t){return!!t&&"arrayValue"in t}function Vv(t){return!!t&&"nullValue"in t}function Fv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function VA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=hl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=St.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=h.popLast()}l?i[h.lastSegment()]=hl(l):r.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Nc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Yo(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new xn(hl(this.value))}}function Gx(t){const e=[];return Yo(t.fields,(n,i)=>{const r=new St([n]);if(Nc(i)){const o=Gx(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,i,r,o,l,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Ot(e,0,me.min(),me.min(),me.min(),xn.empty(),0)}static newFoundDocument(e,n,i,r){return new Ot(e,1,n,me.min(),i,r,0)}static newNoDocument(e,n){return new Ot(e,2,n,me.min(),me.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,me.min(),me.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function zv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?i=oe.comparator(oe.fromName(l.referenceValue),n.key):i=Fo(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Uv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function zA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{}class ct extends Kx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new BA(e,n,i):n==="array-contains"?new qA(e,i):n==="in"?new WA(e,i):n==="not-in"?new GA(e,i):n==="array-contains-any"?new KA(e,i):new ct(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new HA(e,i):new $A(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends Kx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return Zx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zx(t){return t.op==="and"}function Qx(t){return UA(t)&&Zx(t)}function UA(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function pp(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+zo(t.value);if(Qx(t))return t.filters.map(e=>pp(e)).join(",");{const e=t.filters.map(n=>pp(n)).join(",");return`${t.op}(${e})`}}function Yx(t,e){return t instanceof ct?function(i,r){return r instanceof ct&&i.op===r.op&&i.field.isEqual(r.field)&&oi(i.value,r.value)}(t,e):t instanceof Bn?function(i,r){return r instanceof Bn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,h)=>o&&Yx(l,r.filters[h]),!0):!1}(t,e):void fe()}function Xx(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(Xx).join(" ,")+"}"}(t):"Filter"}class BA extends ct{constructor(e,n,i){super(e,n,i),this.key=oe.fromName(i.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class HA extends ct{constructor(e,n){super(e,"in",n),this.keys=Jx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $A extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Jx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>oe.fromName(i.referenceValue))}class qA extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dm(n)&&Ul(n.arrayValue,this.value)}}class WA extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class GA extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ul(this.value.arrayValue,n)}}class KA extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ul(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n=null,i=[],r=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=h,this.ue=null}}function Bv(t,e=null,n=[],i=[],r=null,o=null,l=null){return new ZA(t,e,n,i,r,o,l)}function jm(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>pp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zo(i)).join(",")),e.ue=n}return e.ue}function Vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uv(t.startAt,e.startAt)&&Uv(t.endAt,e.endAt)}function mp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n=null,i=[],r=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QA(t,e,n,i,r,o,l,h){return new Xo(t,e,n,i,r,o,l,h)}function e1(t){return new Xo(t)}function Hv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t1(t){return t.collectionGroup!==null}function dl(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new bt(St.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Bl(o,i))}),n.has(St.keyField().canonicalString())||e.ce.push(new Bl(St.keyField(),i))}return e.ce}function ei(t){const e=ge(t);return e.le||(e.le=YA(e,dl(t))),e.le}function YA(t,e){if(t.limitType==="F")return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Bl(r.field,o)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function gp(t,e){const n=t.filters.concat([e]);return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,n){return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yh(t,e){return Vm(ei(t),ei(e))&&t.limitType===e.limitType}function n1(t){return`${jm(ei(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Xx(r)).join(", ")}]`),Qh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>zo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>zo(r)).join(",")),`Target(${i})`}(ei(t))}; limitType=${t.limitType})`}function Xh(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):oe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of dl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,h,d){const m=zv(l,h,d);return l.inclusive?m<=0:m<0}(i.startAt,dl(i),r)||i.endAt&&!function(l,h,d){const m=zv(l,h,d);return l.inclusive?m>=0:m>0}(i.endAt,dl(i),r))}(t,e)}function XA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i1(t){return(e,n)=>{let i=!1;for(const r of dl(t)){const o=JA(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function JA(t,e,n){const i=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,l,h){const d=l.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Fo(d,m):fe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return qx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Xe(oe.comparator);function Oi(){return eC}const r1=new Xe(oe.comparator);function el(...t){let e=r1;for(const n of t)e=e.insert(n.key,n);return e}function s1(t){let e=r1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Jr(){return fl()}function o1(){return fl()}function fl(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const tC=new Xe(oe.comparator),nC=new bt(oe.comparator);function Pe(...t){let e=nC;for(const n of t)e=e.add(n);return e}const iC=new bt(Ne);function rC(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function a1(t){return{integerValue:""+t}}function sC(t,e){return OA(e)?a1(e):Fm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function oC(t,e,n){return t instanceof _h?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Mm(o)&&(o=Om(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Hl?u1(t,e):t instanceof $l?c1(t,e):function(r,o){const l=l1(r,o),h=$v(l)+$v(r.Pe);return fp(l)&&fp(r.Pe)?a1(h):Fm(r.serializer,h)}(t,e)}function aC(t,e,n){return t instanceof Hl?u1(t,e):t instanceof $l?c1(t,e):n}function l1(t,e){return t instanceof vh?function(i){return fp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class _h extends Jh{}class Hl extends Jh{constructor(e){super(),this.elements=e}}function u1(t,e){const n=h1(e);for(const i of t.elements)n.some(r=>oi(r,i))||n.push(i);return{arrayValue:{values:n}}}class $l extends Jh{constructor(e){super(),this.elements=e}}function c1(t,e){let n=h1(e);for(const i of t.elements)n=n.filter(r=>!oi(r,i));return{arrayValue:{values:n}}}class vh extends Jh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $v(t){return it(t.integerValue||t.doubleValue)}function h1(t){return Dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lC(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Hl&&r instanceof Hl||i instanceof $l&&r instanceof $l?Vo(i.elements,r.elements,oi):i instanceof vh&&r instanceof vh?oi(i.Pe,r.Pe):i instanceof _h&&r instanceof _h}(t.transform,e.transform)}class uC{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ed{}function d1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p1(t.key,ki.none()):new iu(t.key,t.data,ki.none());{const n=t.data,i=xn.empty();let r=new bt(St.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Es(t.key,i,new jn(r.toArray()),ki.none())}}function cC(t,e,n){t instanceof iu?function(r,o,l){const h=r.value.clone(),d=Wv(r.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(r,o,l){if(!Rc(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Wv(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(f1(r)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,i){return t instanceof iu?function(o,l,h,d){if(!Rc(o.precondition,l))return h;const m=o.value.clone(),y=Gv(o.fieldTransforms,d,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Es?function(o,l,h,d){if(!Rc(o.precondition,l))return h;const m=Gv(o.fieldTransforms,d,l),y=l.data;return y.setAll(f1(o)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(o,l,h){return Rc(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function hC(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=l1(i.transform,r||null);o!=null&&(n===null&&(n=xn.empty()),n.set(i.field,o))}return n||null}function qv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vo(i,r,(o,l)=>lC(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends ed{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Es extends ed{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function f1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Wv(t,e,n){const i=new Map;Oe(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,h=e.data.field(o.field);i.set(o.field,aC(l,h,n[r]))}return i}function Gv(t,e,n){const i=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);i.set(r.field,oC(o,l,e))}return i}class p1 extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dC extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&cC(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=o1();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=n.has(r.key)?null:h;const d=d1(l,h);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,i)=>qv(n,i))&&Vo(this.baseMutations,e.baseMutations,(n,i)=>qv(n,i))}}class zm{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Oe(e.mutations.length===i.length);let r=function(){return tC}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new zm(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ae;function gC(t){switch(t){default:return fe();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function m1(t){if(t===void 0)return Mi("GRPC error has no .code"),G.UNKNOWN;switch(t){case lt.OK:return G.OK;case lt.CANCELLED:return G.CANCELLED;case lt.UNKNOWN:return G.UNKNOWN;case lt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case lt.INTERNAL:return G.INTERNAL;case lt.UNAVAILABLE:return G.UNAVAILABLE;case lt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case lt.NOT_FOUND:return G.NOT_FOUND;case lt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case lt.ABORTED:return G.ABORTED;case lt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case lt.DATA_LOSS:return G.DATA_LOSS;default:return fe()}}(Ae=lt||(lt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new is([4294967295,4294967295],0);function Kv(t){const e=_C().encode(t),n=new jx;return n.update(e),new Uint8Array(n.digest())}function Zv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new is([n,i],0),new is([r,o],0)]}class Um{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new tl(`Invalid padding: ${n}`);if(i<0)throw new tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new tl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=is.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(is.fromNumber(i)));return r.compare(vC)===1&&(r=new is([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Kv(e),[i,r]=Zv(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(i,r,o);if(!this.de(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Um(o,r,n);return i.forEach(h=>l.insert(h)),l}insert(e){if(this.Ie===0)return;const n=Kv(e),[i,r]=Zv(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(i,r,o);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new td(me.min(),r,new Xe(Ne),Oi(),Pe())}}class ru{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ru(i,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class g1{constructor(e,n){this.targetId=e,this.me=n}}class _1{constructor(e,n,i=At.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Qv{constructor(){this.fe=0,this.ge=Xv(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),i=Pe();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new ru(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=Xv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oi(),this.qe=Yv(),this.Qe=new Xe(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const o=r.target;if(mp(o))if(i===0){const l=new oe(o.path);this.Ue(n,l,Ot.newNoDocument(l,me.min()))}else Oe(i===1);else{const l=this.Ye(n);if(l!==i){const h=this.Ze(e),d=h?this.Xe(h,e,l):1;if(d!==0){this.je(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let l,h;try{l=hs(i).toUint8Array()}catch(d){if(d instanceof Wx)return jo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Um(l,r,o)}catch(d){return jo(d instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const l=this.Le.tt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,o,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((o,l)=>{const h=this.Je(l);if(h){if(o.current&&mp(h.target)){const d=new oe(h.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,Ot.newNoDocument(d,e))}o.be&&(n.set(l,o.ve()),o.Ce())}});let i=Pe();this.qe.forEach((o,l)=>{let h=!0;l.forEachWhile(d=>{const m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const r=new td(e,n,this.Qe,this.ke,i);return this.ke=Oi(),this.qe=Yv(),this.Qe=new Xe(Ne),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yv(){return new Xe(oe.comparator)}function Xv(){return new Xe(oe.comparator)}const wC={asc:"ASCENDING",desc:"DESCENDING"},xC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EC={and:"AND",or:"OR"};class TC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IC(t,e){return yh(t,e.toTimestamp())}function ti(t){return Oe(!!t),me.fromTimestamp(function(n){const i=kr(n);return new Qe(i.seconds,i.nanos)}(t))}function Bm(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=function(r){return new Ue(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function y1(t){const e=Ue.fromString(t);return Oe(I1(e)),e}function wp(t,e){return Bm(t.databaseId,e.path)}function Jd(t,e){const n=y1(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(x1(n))}function w1(t,e){return Bm(t.databaseId,e)}function SC(t){const e=y1(t);return e.length===4?Ue.emptyPath():x1(e)}function xp(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x1(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jv(t,e,n){return{name:wp(t,e),fields:n.value.mapValue.fields}}function PC(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Oe(y===void 0||typeof y=="string"),At.fromBase64String(y||"")):(Oe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),At.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const y=m.code===void 0?G.UNKNOWN:m1(m.code);return new ie(y,m.message||"")}(l);n=new _1(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Jd(t,i.document.name),o=ti(i.document.updateTime),l=i.document.createTime?ti(i.document.createTime):me.min(),h=new xn({mapValue:{fields:i.document.fields}}),d=Ot.newFoundDocument(r,o,l,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Lc(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Jd(t,i.document),o=i.readTime?ti(i.readTime):me.min(),l=Ot.newNoDocument(r,o),h=i.removedTargetIds||[];n=new Lc([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Jd(t,i.document),o=i.removedTargetIds||[];n=new Lc([],o,r,null)}else{if(!("filter"in e))return fe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new mC(r,o),h=i.targetId;n=new g1(h,l)}}return n}function bC(t,e){let n;if(e instanceof iu)n={update:Jv(t,e.key,e.value)};else if(e instanceof p1)n={delete:wp(t,e.key)};else if(e instanceof Es)n={update:Jv(t,e.key,e.data),updateMask:DC(e.fieldMask)};else{if(!(e instanceof dC))return fe();n={verify:wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const h=l.transform;if(h instanceof _h)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $l)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof vh)return{fieldPath:l.field.canonicalString(),increment:h.Pe};throw fe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:IC(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(t,e.precondition)),n}function kC(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(r,o){let l=r.updateTime?ti(r.updateTime):ti(o);return l.isEqual(me.min())&&(l=ti(o)),new uC(l,r.transformResults||[])}(n,e))):[]}function AC(t,e){return{documents:[w1(t,e.path)]}}function CC(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=w1(t,r);const o=function(m){if(m.length!==0)return T1(Bn.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:ro(E.field),direction:LC(E.dir)}}(y))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=vp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:n,parent:r}}function NC(t){let e=SC(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Oe(i===1);const y=n.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(w){const E=E1(w);return E instanceof Bn&&Qx(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(w){return w.map(E=>function(D){return new Bl(so(D.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,Qh(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(w){const E=!!w.before,C=w.values||[];return new gh(C,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,C=w.values||[];return new gh(C,E)}(n.endAt)),QA(e,r,l,o,h,"F",d,m)}function RC(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=so(n.unaryFilter.field);return ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=so(n.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=so(n.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=so(n.unaryFilter.field);return ct.create(l,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(so(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(i=>E1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function LC(t){return wC[t]}function MC(t){return xC[t]}function OC(t){return EC[t]}function ro(t){return{fieldPath:t.canonicalString()}}function so(t){return St.fromServerFormat(t.fieldPath)}function T1(t){return t instanceof ct?function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(Vv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(Vv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:MC(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const i=n.getFilters().map(r=>T1(r));return i.length===1?i[0]:{compositeFilter:{op:OC(n.op),filters:i}}}(t):fe()}function DC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,i,r,o=me.min(),l=me.min(),h=At.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.ct=e}}function VC(t){const e=NC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.un=new zC}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(br.min())}updateCollectionGroup(e,n,i){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class zC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new bt(Ue.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new bt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uo(0)}static kn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&pl(i.mutation,r,jn.empty(),Qe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Pe()){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let l=el();return o.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Pe()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,i,r){let o=Oi();const l=fl(),h=function(){return fl()}();return n.forEach((d,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Es)?o=o.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),pl(y.mutation,m,y.mutation.getFieldMask(),Qe.now())):l.set(m.key,jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,y)=>l.set(m,y)),n.forEach((m,y)=>{var w;return h.set(m,new BC(y,(w=l.get(m))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const i=fl();let r=new Xe((l,h)=>l-h),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||jn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const w=(r.get(h.batchId)||Pe()).add(d);r=r.insert(h.batchId,w)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,w=o1();y.forEach(E=>{if(!o.has(E)){const C=d1(n.get(E),i.get(E));C!==null&&w.set(E,C),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Q.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return oe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):Q.resolve(Jr());let h=-1,d=o;return l.next(m=>Q.forEach(m,(y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),o.get(y)?Q.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,Pe())).next(y=>({batchId:h,changes:s1(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(i=>{let r=el();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let l=el();return this.indexManager.getCollectionParents(e,o).next(h=>Q.forEach(h,d=>{const m=function(w,E){return new Xo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,r).next(y=>{y.forEach((w,E)=>{l=l.insert(w,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(l=>{o.forEach((d,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,Ot.newInvalidDocument(y)))});let h=el();return l.forEach((d,m)=>{const y=o.get(d);y!==void 0&&pl(y.mutation,m,jn.empty(),Qe.now()),Xh(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ti(r.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:VC(r.bundledQuery),readTime:ti(r.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.overlays=new Xe(oe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Jr();return Q.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),Q.resolve()}getOverlaysForCollection(e,n,i){const r=Jr(),o=n.length+1,l=new oe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Xe((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Jr(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Jr(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=r)););return Q.resolve(h)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new pC(n,i));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Tr=new bt(yt.Er),this.dr=new bt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new yt(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new oe(new Ue([])),i=new yt(n,e),r=new yt(n,e+1),o=[];return this.dr.forEachInRange([i,r],l=>{this.Vr(l),o.push(l.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new Ue([])),i=new yt(n,e),r=new yt(n,e+1);let o=Pe();return this.dr.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new yt(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bt(yt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new fC(o,n,i,r);this.mutationQueue.push(l);for(const h of r)this.br=this.br.add(new yt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),o=r<0?0:r;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new yt(n,0),r=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],l=>{const h=this.Dr(l.wr);o.push(h)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new bt(Ne);return n.forEach(r=>{const o=new yt(r,0),l=new yt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,l],h=>{i=i.add(h.wr)})}),Q.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;oe.isDocumentKey(o)||(o=o.child(""));const l=new yt(new oe(o),0);let h=new bt(Ne);return this.br.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.wr)),!0)},l),Q.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Q.forEach(n.mutations,r=>{const o=new yt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new yt(n,0),r=this.br.firstAfterOrEqual(i);return Q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.Mr=e,this.docs=function(){return new Xe(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Q.resolve(i?i.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let i=Oi();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ot.newInvalidDocument(r))}),Q.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Oi();const l=n.path,h=new oe(l.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||NA(CA(y),i)<=0||(r.has(y.key)||Xh(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,i,r){fe()}Or(e,n){return Q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ZC(this)}getSize(e){return Q.resolve(this.size)}}class ZC extends UC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.persistence=e,this.Nr=new Jo(n=>jm(n),Vm),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hm,this.targetCount=0,this.kr=Uo.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Nr.forEach((l,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Nr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Q.waitFor(o).next(()=>r)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return Q.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),Q.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return Q.resolve(i)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Lm(0),this.Kr=!1,this.Kr=!0,this.$r=new WC,this.referenceDelegate=e(this),this.Ur=new QC(this),this.indexManager=new FC,this.remoteDocumentCache=function(r){return new KC(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new jC(n),this.Gr=new $C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new GC(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){re("MemoryPersistence","Starting transaction:",e);const r=new XC(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class XC extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Jr=new Hm,this.Yr=null}static Zr(e){return new $m(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),Q.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,i=>{const r=oe.fromPath(i);return this.ei(e,r).next(o=>{o||n.removeEntry(r,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=Pe(),r=Pe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new qm(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tk()?8:MA(jt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.Yi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Zi(e,n,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new JC;return this.Xi(e,n,l).next(h=>{if(o.result=h,this.zi)return this.es(e,n,l,h.size)})}).next(()=>o.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Ka()<=be.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Ka()<=be.DEBUG&&re("QueryEngine","Query:",io(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ka()<=be.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):Q.resolve())}Yi(e,n){if(Hv(n))return Q.resolve(null);let i=ei(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=_p(n,null,"F"),i=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Pe(...o);return this.Ji.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.ts(n,h);return this.ns(n,m,l,d.readTime)?this.Yi(e,_p(n,null,"F")):this.rs(e,m,n,d)}))})))}Zi(e,n,i,r){return Hv(n)||r.isEqual(me.min())?Q.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const l=this.ts(n,o);return this.ns(n,l,i,r)?Q.resolve(null):(Ka()<=be.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),io(n)),this.rs(e,l,n,AA(r,-1)).next(h=>h))})}ts(e,n){let i=new bt(i1(e));return n.forEach((r,o)=>{Xh(e,o)&&(i=i.add(o))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return Ka()<=be.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",io(n)),this.Ji.getDocumentsMatchingQuery(e,n,br.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Xe(Ne),this._s=new Jo(o=>jm(o),Vm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function n2(t,e,n,i){return new t2(t,e,n,i)}async function S1(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],h=[];let d=Pe();for(const m of r){l.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next(m=>({hs:m,removedBatchIds:l,addedBatchIds:h}))})})}function i2(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const w=m.batch,E=w.keys();let C=Q.resolve();return E.forEach(D=>{C=C.next(()=>y.getEntry(d,D)).next(O=>{const U=m.docVersions.get(D);Oe(U!==null),O.version.compareTo(U)<0&&(w.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(d,w))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Pe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function P1(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function r2(t,e){const n=ge(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const h=[];e.targetChanges.forEach((y,w)=>{const E=r.get(w);if(!E)return;h.push(n.Ur.removeMatchingKeys(o,y.removedDocuments,w).next(()=>n.Ur.addMatchingKeys(o,y.addedDocuments,w)));let C=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(At.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,i)),r=r.insert(w,C),function(O,U,S){return O.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(E,C,y)&&h.push(n.Ur.updateTargetData(o,C))});let d=Oi(),m=Pe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(s2(o,l,e.documentUpdates).next(y=>{d=y.Ps,m=y.Is})),!i.isEqual(me.min())){const y=n.Ur.getLastRemoteSnapshotVersion(o).next(w=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return Q.waitFor(h).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(n.os=r,o))}function s2(t,e,n){let i=Pe(),r=Pe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Oi();return n.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(me.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):re("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ps:l,Is:r}})}function o2(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function a2(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(o=>o?(r=o,Q.resolve(r)):n.Ur.allocateTargetId(i).next(l=>(r=new hr(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function Ep(t,e,n){const i=ge(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!nu(l))throw l;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function ey(t,e,n){const i=ge(t);let r=me.min(),o=Pe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,m,y){const w=ge(d),E=w._s.get(y);return E!==void 0?Q.resolve(w.os.get(E)):w.Ur.getTargetData(m,y)}(i,l,ei(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(l,h.targetId).next(d=>{o=d})}).next(()=>i.ss.getDocumentsMatchingQuery(l,e,n?r:me.min(),n?o:Pe())).next(h=>(l2(i,XA(e),h),{documents:h,Ts:o})))}function l2(t,e,n){let i=t.us.get(e)||me.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}class ty{constructor(){this.activeTargetIds=rC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u2{constructor(){this.so=new ty,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ty,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function ef(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class f2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,l){const h=ef(),d=this.xo(n,i.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${h}:`,d,r);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,l),this.No(n,d,m,r).then(y=>(re("RestConnection",`Received RPC '${n}' ${h}: `,y),y),y=>{throw jo("RestConnection",`RPC '${n}' ${h} failed with error: `,y,"url: ",d,"request:",r),y})}Lo(n,i,r,o,l,h){return this.Mo(n,i,r,o,l)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),r&&r.headers.forEach((o,l)=>n[l]=o)}xo(n,i){const r=h2[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const o=ef();return new Promise((l,h)=>{const d=new Vx;d.setWithCredentials(!0),d.listenOnce(Fx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cc.NO_ERROR:const y=d.getResponseJson();re(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),l(y);break;case Cc.TIMEOUT:re(Rt,`RPC '${e}' ${o} timed out`),h(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const w=d.getStatus();if(re(Rt,`RPC '${e}' ${o} failed with status:`,w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const D=function(U){const S=U.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(S)>=0?S:G.UNKNOWN}(C.status);h(new ie(D,C.message))}else h(new ie(G.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ie(G.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Rt,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(r);re(Rt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",m,i,15)})}Bo(e,n,i){const r=ef(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Bx(),h=Ux(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=o.join("");re(Rt,`Creating RPC '${e}' stream ${r}: ${y}`,d);const w=l.createWebChannel(y,d);let E=!1,C=!1;const D=new d2({Io:U=>{C?re(Rt,`Not sending because RPC '${e}' stream ${r} is closed:`,U):(E||(re(Rt,`Opening RPC '${e}' stream ${r} transport.`),w.open(),E=!0),re(Rt,`RPC '${e}' stream ${r} sending:`,U),w.send(U))},To:()=>w.close()}),O=(U,S,P)=>{U.listen(S,b=>{try{P(b)}catch(B){setTimeout(()=>{throw B},0)}})};return O(w,Ja.EventType.OPEN,()=>{C||(re(Rt,`RPC '${e}' stream ${r} transport opened.`),D.yo())}),O(w,Ja.EventType.CLOSE,()=>{C||(C=!0,re(Rt,`RPC '${e}' stream ${r} transport closed`),D.So())}),O(w,Ja.EventType.ERROR,U=>{C||(C=!0,jo(Rt,`RPC '${e}' stream ${r} transport errored:`,U),D.So(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),O(w,Ja.EventType.MESSAGE,U=>{var S;if(!C){const P=U.data[0];Oe(!!P);const b=P,B=b.error||((S=b[0])===null||S===void 0?void 0:S.error);if(B){re(Rt,`RPC '${e}' stream ${r} received error:`,B);const K=B.status;let Y=function(k){const R=lt[k];if(R!==void 0)return m1(R)}(K),A=B.message;Y===void 0&&(Y=G.INTERNAL,A="Unknown error status: "+K+" with message "+B.message),C=!0,D.So(new ie(Y,A)),w.close()}else re(Rt,`RPC '${e}' stream ${r} received:`,P),D.bo(P)}}),O(h,zx.STAT_EVENT,U=>{U.stat===hp.PROXY?re(Rt,`RPC '${e}' stream ${r} detected buffering proxy`):U.stat===hp.NOPROXY&&re(Rt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){return new TC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,i,r,o,l,h,d){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new b1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new ie(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p2 extends k1{constructor(e,n,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=PC(this.serializer,e),i=function(o){if(!("targetChange"in o))return me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?me.min():l.readTime?ti(l.readTime):me.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=xp(this.serializer),n.addTarget=function(o,l){let h;const d=l.target;if(h=mp(d)?{documents:AC(o,d)}:{query:CC(o,d)._t},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=v1(o,l.resumeToken);const m=vp(o,l.expectedCount);m!==null&&(h.expectedCount=m)}else if(l.snapshotVersion.compareTo(me.min())>0){h.readTime=yh(o,l.snapshotVersion.toTimestamp());const m=vp(o,l.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=RC(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.a_(n)}}class m2 extends k1{constructor(e,n,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=kC(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=xp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>bC(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Mo(e,yp(n,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(G.UNKNOWN,o.toString())})}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Lo(e,yp(n,i),r,l,h,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(G.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(l=>{i.enqueueAndForget(async()=>{Ts(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(d){const m=ge(d);m.L_.add(4),await su(m),m.q_.set("Unknown"),m.L_.delete(4),await id(m)}(this))})}),this.q_=new _2(i,r)}}async function id(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function su(t){for(const e of t.B_)await e(!1)}function A1(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zm(n)?Km(n):ea(n).r_()&&Gm(n,e))}function Wm(t,e){const n=ge(t),i=ea(n);n.N_.delete(e),i.r_()&&C1(n,e),n.N_.size===0&&(i.r_()?i.o_():Ts(n)&&n.q_.set("Unknown"))}function Gm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).A_(e)}function C1(t,e){t.Q_.xe(e),ea(t).R_(e)}function Km(t){t.Q_=new yC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.q_.v_()}function Zm(t){return Ts(t)&&!ea(t).n_()&&t.N_.size>0}function Ts(t){return ge(t).L_.size===0}function N1(t){t.Q_=void 0}async function y2(t){t.q_.set("Online")}async function w2(t){t.N_.forEach((e,n)=>{Gm(t,e)})}async function x2(t,e){N1(t),Zm(t)?(t.q_.M_(e),Km(t)):t.q_.set("Unknown")}async function E2(t,e,n){if(t.q_.set("Online"),e instanceof _1&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const h of o.targetIds)r.N_.has(h)&&(await r.remoteSyncer.rejectListen(h,l),r.N_.delete(h),r.Q_.removeTarget(h))}(t,e)}catch(i){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wh(t,i)}else if(e instanceof Lc?t.Q_.Ke(e):e instanceof g1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const i=await P1(t.localStore);n.compareTo(i)>=0&&await function(o,l){const h=o.Q_.rt(l);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.N_.get(m);y&&o.N_.set(m,y.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,m)=>{const y=o.N_.get(d);if(!y)return;o.N_.set(d,y.withResumeToken(At.EMPTY_BYTE_STRING,y.snapshotVersion)),C1(o,d);const w=new hr(y.target,d,m,y.sequenceNumber);Gm(o,w)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){re("RemoteStore","Failed to raise snapshot:",i),await wh(t,i)}}async function wh(t,e,n){if(!nu(e))throw e;t.L_.add(1),await su(t),t.q_.set("Offline"),n||(n=()=>P1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await id(t)})}function R1(t,e){return e().catch(n=>wh(t,n,e))}async function rd(t){const e=ge(t),n=Ar(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;T2(e);)try{const r=await o2(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,I2(e,r)}catch(r){await wh(e,r)}L1(e)&&M1(e)}function T2(t){return Ts(t)&&t.O_.length<10}function I2(t,e){t.O_.push(e);const n=Ar(t);n.r_()&&n.V_&&n.m_(e.mutations)}function L1(t){return Ts(t)&&!Ar(t).n_()&&t.O_.length>0}function M1(t){Ar(t).start()}async function S2(t){Ar(t).p_()}async function P2(t){const e=Ar(t);for(const n of t.O_)e.m_(n.mutations)}async function b2(t,e,n){const i=t.O_.shift(),r=zm.from(i,e,n);await R1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await rd(t)}async function k2(t,e){e&&Ar(t).V_&&await async function(i,r){if(function(l){return gC(l)&&l!==G.ABORTED}(r.code)){const o=i.O_.shift();Ar(i).s_(),await R1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await rd(i)}}(t,e),L1(t)&&M1(t)}async function iy(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const i=Ts(n);n.L_.add(3),await su(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await id(n)}async function A2(t,e){const n=ge(t);e?(n.L_.delete(2),await id(n)):e||(n.L_.add(2),await su(n),n.q_.set("Unknown"))}function ea(t){return t.K_||(t.K_=function(n,i,r){const o=ge(n);return o.w_(),new p2(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:y2.bind(null,t),Ro:w2.bind(null,t),mo:x2.bind(null,t),d_:E2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Zm(t)?Km(t):t.q_.set("Unknown")):(await t.K_.stop(),N1(t))})),t.K_}function Ar(t){return t.U_||(t.U_=function(n,i,r){const o=ge(n);return o.w_(),new m2(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:S2.bind(null,t),mo:k2.bind(null,t),f_:P2.bind(null,t),g_:b2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rd(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const l=Date.now()+i,h=new Qm(e,n,l,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),nu(t))return new ie(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.comparator=e?(n,i)=>e(n,i)||oe.comparator(n.key,i.key):(n,i)=>oe.comparator(n.key,i.key),this.keyedMap=el(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Po;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.W_=new Xe(oe.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Bo{constructor(e,n,i,r,o,l,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,r,o){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Bo(e,n,Po.emptySet(n),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N2{constructor(){this.queries=sy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=ge(n),o=r.queries;r.queries=sy(),o.forEach((l,h)=>{for(const d of h.j_)d.onError(i)})})(this,new ie(G.ABORTED,"Firestore shutting down"))}}function sy(){return new Jo(t=>n1(t),Yh)}async function R2(t,e){const n=ge(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new C2,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(r,!0);break;case 1:o.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const h=Ym(l,`Initialization of query '${io(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Xm(n)}async function L2(t,e){const n=ge(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const l=o.j_.indexOf(e);l>=0&&(o.j_.splice(l,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function M2(t,e){const n=ge(t);let i=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const h of l.j_)h.X_(r)&&(i=!0);l.z_=r}}i&&Xm(n)}function O2(t,e,n){const i=ge(t),r=i.queries.get(e);if(r)for(const o of r.j_)o.onError(n);i.queries.delete(e)}function Xm(t){t.Y_.forEach(e=>{e.next()})}var Tp,oy;(oy=Tp||(Tp={})).ea="default",oy.Cache="cache";class D2{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Bo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class j2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=i1(e),this.Ra=new Po(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new ry,r=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,w)=>{const E=r.get(y),C=Xh(this.query,w)?w:null,D=!!E&&this.mutatedKeys.has(E.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;E&&C?E.data.isEqual(C.data)?D!==O&&(i.track({type:3,doc:C}),U=!0):this.ga(E,C)||(i.track({type:2,doc:C}),U=!0,(d&&this.Aa(C,d)>0||m&&this.Aa(C,m)<0)&&(h=!0)):!E&&C?(i.track({type:0,doc:C}),U=!0):E&&!C&&(i.track({type:1,doc:E}),U=!0,(d||m)&&(h=!0)),U&&(C?(l=l.add(C),o=O?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Ra:l,fa:i,ns:h,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((y,w)=>function(C,D){const O=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return O(C)-O(D)}(y.type,w.type)||this.Aa(y.doc,w.doc)),this.pa(i),r=r!=null&&r;const h=n&&!r?this.ya():[],d=this.da.size===0&&this.current&&!r?1:0,m=d!==this.Ea;return this.Ea=d,l.length!==0||m?{snapshot:new Bo(this.query,e.Ra,o,l,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ry,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new D1(i))}),this.da.forEach(i=>{e.has(i)||n.push(new O1(i))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class V2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class F2{constructor(e){this.key=e,this.va=!1}}class z2{constructor(e,n,i,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Jo(h=>n1(h),Yh),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(oe.comparator),this.Na=new Map,this.La=new Hm,this.Ba={},this.ka=new Map,this.qa=Uo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function U2(t,e,n=!0){const i=B1(t);let r;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await j1(i,e,n,!0),r}async function B2(t,e){const n=B1(t);await j1(n,e,!0,!1)}async function j1(t,e,n,i){const r=await a2(t.localStore,ei(e)),o=r.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await H2(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&A1(t.remoteStore,r),h}async function H2(t,e,n,i,r){t.Ka=(w,E,C)=>async function(O,U,S,P){let b=U.view.ma(S);b.ns&&(b=await ey(O.localStore,U.query,!1).then(({documents:A})=>U.view.ma(A,b)));const B=P&&P.targetChanges.get(U.targetId),K=P&&P.targetMismatches.get(U.targetId)!=null,Y=U.view.applyChanges(b,O.isPrimaryClient,B,K);return ly(O,U.targetId,Y.wa),Y.snapshot}(t,w,E,C);const o=await ey(t.localStore,e,!0),l=new j2(e,o.Ts),h=l.ma(o.documents),d=ru.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),m=l.applyChanges(h,t.isPrimaryClient,d);ly(t,n,m.wa);const y=new V2(e,n,l);return t.Fa.set(e,y),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function $2(t,e,n){const i=ge(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(l=>!Yh(l,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ep(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Wm(i.remoteStore,r.targetId),Ip(i,r.targetId)}).catch(tu)):(Ip(i,r.targetId),await Ep(i.localStore,r.targetId,!0))}async function q2(t,e){const n=ge(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Wm(n.remoteStore,i.targetId))}async function W2(t,e,n){const i=J2(t);try{const r=await function(l,h){const d=ge(l),m=Qe.now(),y=h.reduce((C,D)=>C.add(D.key),Pe());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=Oi(),O=Pe();return d.cs.getEntries(C,y).next(U=>{D=U,D.forEach((S,P)=>{P.isValidDocument()||(O=O.add(S))})}).next(()=>d.localDocuments.getOverlayedDocuments(C,D)).next(U=>{w=U;const S=[];for(const P of h){const b=hC(P,w.get(P.key).overlayedDocument);b!=null&&S.push(new Es(P.key,b,Gx(b.value.mapValue),ki.exists(!0)))}return d.mutationQueue.addMutationBatch(C,m,S,h)}).next(U=>{E=U;const S=U.applyToLocalDocumentSet(w,O);return d.documentOverlayCache.saveOverlays(C,U.batchId,S)})}).then(()=>({batchId:E.batchId,changes:s1(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,h,d){let m=l.Ba[l.currentUser.toKey()];m||(m=new Xe(Ne)),m=m.insert(h,d),l.Ba[l.currentUser.toKey()]=m}(i,r.batchId,n),await ou(i,r.changes),await rd(i.remoteStore)}catch(r){const o=Ym(r,"Failed to persist write");n.reject(o)}}async function V1(t,e){const n=ge(t);try{const i=await r2(n.localStore,e);e.targetChanges.forEach((r,o)=>{const l=n.Na.get(o);l&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.va=!0:r.modifiedDocuments.size>0?Oe(l.va):r.removedDocuments.size>0&&(Oe(l.va),l.va=!1))}),await ou(n,i,e)}catch(i){await tu(i)}}function ay(t,e,n){const i=ge(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((o,l)=>{const h=l.view.Z_(e);h.snapshot&&r.push(h.snapshot)}),function(l,h){const d=ge(l);d.onlineState=h;let m=!1;d.queries.forEach((y,w)=>{for(const E of w.j_)E.Z_(h)&&(m=!0)}),m&&Xm(d)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function G2(t,e,n){const i=ge(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),o=r&&r.key;if(o){let l=new Xe(oe.comparator);l=l.insert(o,Ot.newNoDocument(o,me.min()));const h=Pe().add(o),d=new td(me.min(),new Map,new Xe(Ne),l,h);await V1(i,d),i.Oa=i.Oa.remove(o),i.Na.delete(e),Jm(i)}else await Ep(i.localStore,e,!1).then(()=>Ip(i,e,n)).catch(tu)}async function K2(t,e){const n=ge(t),i=e.batch.batchId;try{const r=await i2(n.localStore,e);z1(n,i,null),F1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ou(n,r)}catch(r){await tu(r)}}async function Z2(t,e,n){const i=ge(t);try{const r=await function(l,h){const d=ge(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(w=>(Oe(w!==null),y=w.keys(),d.mutationQueue.removeMutationBatch(m,w))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(i.localStore,e);z1(i,e,n),F1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ou(i,r)}catch(r){await tu(r)}}function F1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function z1(t,e,n){const i=ge(t);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Ip(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||U1(t,i)})}function U1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Wm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Jm(t))}function ly(t,e,n){for(const i of n)i instanceof O1?(t.La.addReference(i.key,e),Q2(t,i)):i instanceof D1?(re("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||U1(t,i.key)):fe()}function Q2(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(i),Jm(t))}function Jm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(Ue.fromString(e)),i=t.qa.next();t.Na.set(i,new F2(n)),t.Oa=t.Oa.insert(n,i),A1(t.remoteStore,new hr(ei(e1(n.path)),i,"TargetPurposeLimboResolution",Lm.oe))}}async function ou(t,e,n){const i=ge(t),r=[],o=[],l=[];i.Fa.isEmpty()||(i.Fa.forEach((h,d)=>{l.push(i.Ka(d,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(m){r.push(m);const w=qm.Wi(d.targetId,m);o.push(w)}}))}),await Promise.all(l),i.Ca.d_(r),await async function(d,m){const y=ge(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(m,E=>Q.forEach(E.$i,C=>y.persistence.referenceDelegate.addReference(w,E.targetId,C)).next(()=>Q.forEach(E.Ui,C=>y.persistence.referenceDelegate.removeReference(w,E.targetId,C)))))}catch(w){if(!nu(w))throw w;re("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const C=y.os.get(E),D=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(D);y.os=y.os.insert(E,O)}}}(i.localStore,o))}async function Y2(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const i=await S1(n.localStore,e);n.currentUser=e,function(o,l){o.ka.forEach(h=>{h.forEach(d=>{d.reject(new ie(G.CANCELLED,l))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ou(n,i.hs)}}function X2(t,e){const n=ge(t),i=n.Na.get(e);if(i&&i.va)return Pe().add(i.key);{let r=Pe();const o=n.Ma.get(e);if(!o)return r;for(const l of o){const h=n.Fa.get(l);r=r.unionWith(h.view.Va)}return r}}function B1(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G2.bind(null,e),e.Ca.d_=M2.bind(null,e.eventManager),e.Ca.$a=O2.bind(null,e.eventManager),e}function J2(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z2.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return n2(this.persistence,new e2,e.initialUser,this.serializer)}Ga(e){return new YC($m.Zr,this.serializer)}Wa(e){return new u2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class Sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ay(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y2.bind(null,this.syncEngine),await A2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N2}()}createDatastore(e){const n=nd(e.databaseInfo.databaseId),i=function(o){return new f2(o)}(e.databaseInfo);return function(o,l,h,d){return new g2(o,l,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,l,h){return new v2(i,r,o,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>ay(this.syncEngine,n,0),function(){return ny.D()?new ny:new c2}())}createSyncEngine(e,n){return function(r,o,l,h,d,m,y){const w=new z2(r,o,l,h,d,m);return y&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const o=ge(r);re("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await su(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Lt.UNAUTHENTICATED,this.clientId=$x.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{re("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(re("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ym(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nf(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await S1(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nN(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>iy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>iy(e.remoteStore,r)),t._onlineComponents=e}async function nN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await nf(t,new xh)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await nf(t,new xh);return t._offlineComponents}async function H1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await uy(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await uy(t,new Sp))),t._onlineComponents}function iN(t){return H1(t).then(e=>e.syncEngine)}async function rN(t){const e=await H1(t),n=e.eventManager;return n.onListen=U2.bind(null,e.syncEngine),n.onUnlisten=$2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q2.bind(null,e.syncEngine),n}function sN(t,e,n={}){const i=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,h,d,m){const y=new eN({next:E=>{y.Za(),l.enqueueAndForget(()=>L2(o,w)),E.fromCache&&d.source==="server"?m.reject(new ie(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new D2(h,y,{includeMetadataChanges:!0,_a:!0});return R2(o,w)}(await rN(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e,n){if(!n)throw new ie(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oN(t,e,n,i){if(e===!0&&i===!0)throw new ie(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hy(t){if(!oe.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dy(t){if(oe.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Eh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sd(t);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wA;switch(i.type){case"firstParty":return new IA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=cy.get(n);i&&(re("ComponentProvider","Removing Datastore"),cy.delete(n),i.terminate())}(this),Promise.resolve()}}function aN(t,e,n,i={}){var r;const o=(t=Eh(t,od))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=Lt.MOCK_USER;else{h=Zb(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Lt(m)}t._authCredentials=new xA(new Hx(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class Sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Ir extends Is{constructor(e,n,i){super(e,n,e1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new oe(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=Jt(t),q1("collection","path",e),t instanceof od){const i=Ue.fromString(e,...n);return dy(i),new Ir(t,null,i)}{if(!(t instanceof Sn||t instanceof Ir))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ue.fromString(e,...n));return dy(i),new Ir(t.firestore,null,i)}}function lN(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=$x.newId()),q1("doc","path",e),t instanceof od){const i=Ue.fromString(e,...n);return hy(i),new Sn(t,null,new oe(i))}{if(!(t instanceof Sn||t instanceof Ir))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ue.fromString(e,...n));return hy(i),new Sn(t.firestore,t instanceof Ir?t.converter:null,new oe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new b1(this,"async_queue_retry"),this.Vu=()=>{const i=tf();i&&re("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=tf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=tf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Tr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(i);throw Mi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=Qm.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class eg extends od{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new py,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new py(e),this._firestoreClient=void 0,await e}}}function uN(t,e){const n=typeof t=="object"?t:Nm(),i=typeof t=="string"?t:"(default)",r=xs(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Gb("firestore");o&&aN(r,...o)}return r}function W1(t){if(t._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cN(t),t._firestoreClient}function cN(t){var e,n,i;const r=t._freezeSettings(),o=function(h,d,m,y){return new jA(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,$1(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new tN(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(At.fromBase64String(e))}catch(n){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/^__.*__$/;class dN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function K1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class rg{constructor(e,n,i,r,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(K1(this.Cu)&&hN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fN{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||nd(e)}Qu(e,n,i,r=!1){return new rg({Cu:e,methodName:n,qu:i,path:St.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z1(t){const e=t._freezeSettings(),n=nd(t._databaseId);return new fN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pN(t,e,n,i,r,o={}){const l=t.Qu(o.merge||o.mergeFields?2:0,e,n,r);X1("Data must be an object, but it was:",l,i);const h=Q1(i,l);let d,m;if(o.merge)d=new jn(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const E=gN(e,w,n);if(!l.contains(E))throw new ie(G.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);vN(y,E)||y.push(E)}d=new jn(y),m=l.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,m=l.fieldTransforms;return new dN(new xn(h),d,m)}function mN(t,e,n,i=!1){return sg(n,t.Qu(i?4:3,e))}function sg(t,e){if(Y1(t=Jt(t)))return X1("Unsupported field value:",e,t),Q1(t,e);if(t instanceof G1)return function(i,r){if(!K1(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const h of i){let d=sg(h,r.Lu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sC(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Qe.fromDate(i);return{timestampValue:yh(r.serializer,o)}}if(i instanceof Qe){const o=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(r.serializer,o)}}if(i instanceof ng)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:v1(r.serializer,i._byteString)};if(i instanceof Sn){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ig)return function(l,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw h.Bu("VectorValues must only contain numeric values.");return Fm(h.serializer,d)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${sd(i)}`)}(t,e)}function Q1(t,e){const n={};return qx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(i,r)=>{const o=sg(r,e.Mu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function Y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof ng||t instanceof Ho||t instanceof Sn||t instanceof G1||t instanceof ig)}function X1(t,e,n){if(!Y1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=sd(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function gN(t,e,n){if((e=Jt(e))instanceof tg)return e._internalPath;if(typeof e=="string")return J1(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const _N=new RegExp("[~\\*/\\[\\]]");function J1(t,e,n){if(e.search(_N)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tg(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new ie(G.INVALID_ARGUMENT,h+t+d)}function vN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yN extends eE{data(){return super.data()}}function og(t,e){return typeof e=="string"?J1(t,e):e instanceof tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class tE extends ag{}function xN(t,e,...n){let i=[];e instanceof ag&&i.push(e),i=i.concat(n),function(o){const l=o.filter(d=>d instanceof ug).length,h=o.filter(d=>d instanceof lg).length;if(l>1||l>0&&h>0)throw new ie(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class lg extends tE{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new lg(e,n,i)}_apply(e){const n=this._parse(e);return nE(e._query,n),new Is(e.firestore,e.converter,gp(e._query,n))}_parse(e){const n=Z1(e.firestore);return function(o,l,h,d,m,y,w){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ie(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){gy(w,y);const C=[];for(const D of w)C.push(my(d,o,D));E={arrayValue:{values:C}}}else E=my(d,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||gy(w,y),E=mN(h,l,w,y==="in"||y==="not-in");return ct.create(m,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ug extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let l=r;const h=o.getFlattenedFilters();for(const d of h)nE(l,d),l=gp(l,d)}(e._query,n),new Is(e.firestore,e.converter,gp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends tE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=function(r,o,l){if(r.startAt!==null)throw new ie(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ie(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(o,l)}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Xo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function EN(t,e="asc"){const n=e,i=og("orderBy",t);return cg._create(i,n)}function my(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new ie(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t1(e)&&n.indexOf("/")!==-1)throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ue.fromString(n));if(!oe.isDocumentKey(i))throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jv(t,new oe(i))}if(n instanceof Sn)return jv(t,n._key);throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(n)}.`)}function gy(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nE(t,e){const n=function(r,o){for(const l of r)for(const h of l.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TN{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Yo(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;const o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>it(l.doubleValue));return new ig(o)}convertGeoPoint(e){return new ng(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Om(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=kr(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ue.fromString(e);Oe(I1(i));const r=new zl(i.get(1),i.get(3)),o=new oe(i.popFirst(5));return r.isEqual(n)||Mi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SN extends eE{constructor(e,n,i,r,o,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Mc extends SN{data(e={}){return super.data(e)}}class PN{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new mc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Mc(this._firestore,this._userDataWriter,i.key,i,new mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>{const d=new Mc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new mc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Mc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new mc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),y=l.indexOf(h.doc.key)),{type:bN(h.type),doc:d,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class kN extends TN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function iE(t){t=Eh(t,Is);const e=Eh(t.firestore,eg),n=W1(e),i=new kN(e);return wN(t._query),sN(n,t._query).then(r=>new PN(e,i,t,r))}function ad(t,e){const n=Eh(t.firestore,eg),i=lN(t),r=IN(t.converter,e);return AN(n,[pN(Z1(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}function AN(t,e){return function(i,r){const o=new Tr;return i.asyncQueue.enqueueAndForget(async()=>W2(await iN(i),r,o)),o.promise}(W1(t),e)}(function(e,n=!0){(function(r){Qo=r})(Zo),si(new Un("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),h=new eg(new EA(i.getProvider("auth-internal")),new PA(i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(m.options.projectId,y)}(l,r),l);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),In(Rv,"4.7.3",e),In(Rv,"4.7.3","esm2017")})();var CN="firebase",NN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(CN,NN,"app");function hg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RN=rE,sE=new ws("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Zh("@firebase/auth");function LN(t,...e){Ih.logLevel<=be.WARN&&Ih.warn(`Auth (${Zo}): ${t}`,...e)}function Oc(t,...e){Ih.logLevel<=be.ERROR&&Ih.error(`Auth (${Zo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw dg(t,...e)}function ni(t,...e){return dg(t,...e)}function oE(t,e,n){const i=Object.assign(Object.assign({},RN()),{[e]:n});return new ws("auth","Firebase",i).create(e,{appName:t.name})}function rs(t){return oE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sE.create(t,...e)}function de(t,e,...n){if(!t)throw dg(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function ji(t,e){t||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MN(){return _y()==="http:"||_y()==="https:"}function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MN()||kx()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=Qb()||Jb()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new au(3e4,6e4);function pg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function na(t,e,n,i,r={}){return lE(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const h=eu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},o);return Xb()||(m.referrerPolicy="no-referrer"),aE.fetch()(uE(t,t.config.apiHost,n,h),m)})}async function lE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},jN),e);try{const r=new zN(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw gc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const h=o.ok?l.errorMessage:l.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw gc(t,"user-disabled",l);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw oE(t,y,m);Di(t,y)}}catch(r){if(r instanceof Hn)throw r;Di(t,"network-request-failed",{message:String(r)})}}async function FN(t,e,n,i,r={}){const o=await na(t,e,n,i,r);return"mfaPendingCredential"in o&&Di(t,"multi-factor-auth-required",{_serverResponse:o}),o}function uE(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?fg(t.config,r):`${t.config.apiScheme}://${r}`}class zN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),VN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ni(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function cE(t,e){return na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BN(t,e=!1){const n=Jt(t),i=await n.getIdToken(e),r=mg(i);de(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ml(rf(r.auth_time)),issuedAtTime:ml(rf(r.iat)),expirationTime:ml(rf(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rf(t){return Number(t)*1e3}function mg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ix(n);return r?JSON.parse(r):(Oc("Failed to decode base64 JWT payload"),null)}catch(r){return Oc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function vy(t){const e=mg(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hn&&HN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function HN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ql(t,cE(n,{idToken:i}));de(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hE(o.providerUserInfo):[],h=WN(t.providerData,l),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),y=d?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function qN(t){const e=Jt(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function hE(t){return t.map(e=>{var{providerId:n}=e,i=hg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e){const n=await lE(t,{},async()=>{const i=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=uE(t,r,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",aE.fetch()(l,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KN(t,e){return na(t,"POST","/v2/accounts:revokeToken",pg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=vy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await GN(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new bo;return i&&(de(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(de(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(de(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BN(this,e)}reload(){return qN(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await ql(this,UN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,h,d,m,y;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(r=n.email)!==null&&r!==void 0?r:void 0,C=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(l=n.photoURL)!==null&&l!==void 0?l:void 0,O=(h=n.tenantId)!==null&&h!==void 0?h:void 0,U=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,S=(m=n.createdAt)!==null&&m!==void 0?m:void 0,P=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:b,emailVerified:B,isAnonymous:K,providerData:Y,stsTokenManager:A}=n;de(b&&A,e,"internal-error");const I=bo.fromJSON(this.name,A);de(typeof b=="string",e,"internal-error"),Yi(w,e.name),Yi(E,e.name),de(typeof B=="boolean",e,"internal-error"),de(typeof K=="boolean",e,"internal-error"),Yi(C,e.name),Yi(D,e.name),Yi(O,e.name),Yi(U,e.name),Yi(S,e.name),Yi(P,e.name);const k=new Si({uid:b,auth:e,email:E,emailVerified:B,displayName:w,isAnonymous:K,photoURL:D,phoneNumber:C,tenantId:O,stsTokenManager:I,createdAt:S,lastLoginAt:P});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(R=>Object.assign({},R))),U&&(k._redirectEventId=U),k}static async _fromIdTokenResponse(e,n,i=!1){const r=new bo;r.updateFromServerResponse(n);const o=new Si({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Sh(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];de(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?hE(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new bo;h.updateFromIdToken(i);const d=new Si({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:l}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new bp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function Pi(t){ji(t instanceof Function,"Expected a class definition");let e=yy.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dE.type="NONE";const wy=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Dc(this.userKey,r.apiKey,o),this.fullPersistenceKey=Dc("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ko(Pi(wy),e,i);const r=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Pi(wy);const l=Dc(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(l);if(y){const w=Si._fromJSON(e,y);m!==o&&(h=w),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ko(o,e,i):(o=d[0],h&&await o._set(l,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new ko(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vE(e))return"Blackberry";if(yE(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||mE(e))&&!e.includes("edge/"))return"Chrome";if(_E(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fE(t=jt()){return/firefox\//i.test(t)}function pE(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mE(t=jt()){return/crios\//i.test(t)}function gE(t=jt()){return/iemobile/i.test(t)}function _E(t=jt()){return/android/i.test(t)}function vE(t=jt()){return/blackberry/i.test(t)}function yE(t=jt()){return/webos/i.test(t)}function gg(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZN(t=jt()){var e;return gg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QN(){return ek()&&document.documentMode===10}function wE(t=jt()){return gg(t)||_E(t)||yE(t)||vE(t)||/windows phone/i.test(t)||gE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e=[]){let n;switch(t){case"Browser":n=xy(jt());break;case"Worker":n=`${xy(jt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,h)=>{try{const d=e(o);l(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e={}){return na(t,"GET","/v2/passwordPolicy",pg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class eR{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:JN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ey(this),this.idTokenSubscription=new Ey(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cE(this,{idToken:e}),i=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(rs(this));const n=e?Jt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),n=new eR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ws("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await KN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _g(t){return Jt(t)}class Ey{constructor(e){this.auth=e,this.observer=null,this.addObserver=ak(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nR(t){vg=t}function iR(t){return vg.loadJS(t)}function rR(){return vg.gapiScript}function sR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e){const n=xs(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Dl(o,e??{}))return r;Di(r,"already-initialized")}return n.initialize({options:e})}function aR(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lR(t,e,n){const i=_g(t);de(i._canInitEmulator,i,"emulator-config-failed"),de(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=EE(e),{host:l,port:h}=uR(e),d=h===null?"":`:${h}`;i.config.emulator={url:`${o}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),cR()}function EE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uR(t){const e=EE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Ty(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Ty(l)}}}function Ty(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return FN(t,"POST","/v1/accounts:signInWithIdp",pg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="http://localhost";class fs extends TE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=hg(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new fs(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ao(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:hR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends lu{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return rr.credential(n,i)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends lu{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends lu{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return or.credential(n,i)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Si._fromIdTokenResponse(e,i,r),l=Iy(i);return new $o({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Iy(i);return new $o({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Iy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Hn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Ph(e,n,i,r)}}function SE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,o,e,i):o})}async function dR(t,e,n=!1){const i=await ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e,n=!1){const{auth:i}=t;if(cr(i.app))return Promise.reject(rs(i));const r="reauthenticate";try{const o=await ql(t,SE(i,r,e,t),n);de(o.idToken,i,"internal-error");const l=mg(o.idToken);de(l,i,"internal-error");const{sub:h}=l;return de(t.uid===h,i,"user-mismatch"),$o._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Di(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,n=!1){if(cr(t.app))return Promise.reject(rs(t));const i="signIn",r=await SE(t,i,e),o=await $o._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}function mR(t,e,n,i){return Jt(t).onIdTokenChanged(e,n,i)}function gR(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e3,vR=10;class bE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);QN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,vR):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bE.type="LOCAL";const yR=bE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kE.type="SESSION";const AE=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new ld(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(l).map(async m=>m(n.origin,o)),d=await wR(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((h,d)=>{const m=yg("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function ER(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SR(){return CE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firebaseLocalStorageDb",PR=1,kh="firebaseLocalStorage",RE="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function bR(){const t=indexedDB.deleteDatabase(NE);return new uu(t).toPromise()}function kp(){const t=indexedDB.open(NE,PR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(kh,{keyPath:RE})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(kh)?e(i):(i.close(),await bR(),e(await kp()))})})}async function Sy(t,e,n){const i=ud(t,!0).put({[RE]:e,value:n});return new uu(i).toPromise()}async function kR(t,e){const n=ud(t,!1).get(e),i=await new uu(n).toPromise();return i===void 0?null:i.value}function Py(t,e){const n=ud(t,!0).delete(e);return new uu(n).toPromise()}const AR=800,CR=3;class LE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>CR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(SR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await Sy(e,bh,"1"),await Py(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sy(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>kR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Py(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=ud(r,!1).getAll();return new uu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LE.type="LOCAL";const NR=LE;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){return e?Pi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends TE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LR(t){return pR(t.auth,new wg(t),t.bypassAuthState)}function MR(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),fR(n,new wg(t),t.bypassAuthState)}async function OR(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),dR(n,new wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LR;case"linkViaPopup":case"linkViaRedirect":return OR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Di(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new au(2e3,1e4);class yo extends ME{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DR.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="pendingRedirect",jc=new Map;class VR extends ME{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const i=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(t,e){const n=BR(e),i=UR(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function zR(t,e){jc.set(t._key(),e)}function UR(t){return Pi(t._redirectPersistence)}function BR(t){return Dc(jR,t.config.apiKey,t.name)}async function HR(t,e,n=!1){if(cr(t.app))return Promise.reject(rs(t));const i=_g(t),r=RR(i,e),l=await new VR(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=10*60*1e3;class qR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!OE(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$R&&this.cachedEventUids.clear(),this.cachedEventUids.has(by(e))}saveEventToCache(e){this.cachedEventUids.add(by(e)),this.lastProcessedEventTime=Date.now()}}function by(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e={}){return na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function QR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GR(t);for(const n of e)try{if(YR(n))return}catch{}Di(t,"unauthorized-domain")}function YR(t){const e=Pp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!ZR.test(n))return!1;if(KR.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new au(3e4,6e4);function ky(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JR(t){return new Promise((e,n)=>{var i,r,o;function l(){ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ky(),n(ni(t,"network-request-failed"))},timeout:XR.get()})}if(!((r=(i=ii().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ii().gapi)===null||o===void 0)&&o.load)l();else{const h=sR("iframefcb");return ii()[h]=()=>{gapi.load?l():n(ni(t,"network-request-failed"))},iR(`${rR()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function eL(t){return Vc=Vc||JR(t),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new au(5e3,15e3),nL="__/auth/iframe",iL="emulator/auth/iframe",rL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oL(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fg(e,iL):`https://${t.config.authDomain}/${nL}`,i={apiKey:e.apiKey,appName:t.name,v:Zo},r=sL.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${eu(i).slice(1)}`}async function aL(t){const e=await eL(t),n=ii().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:oL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rL,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ni(t,"network-request-failed"),h=ii().setTimeout(()=>{o(l)},tL.get());function d(){ii().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uL=500,cL=600,hL="_blank",dL="http://localhost";class Ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fL(t,e,n,i=uL,r=cL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},lL),{width:i.toString(),height:r.toString(),top:o,left:l}),m=jt().toLowerCase();n&&(h=mE(m)?hL:n),fE(m)&&(e=e||dL,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[C,D])=>`${E}${C}=${D},`,"");if(ZN(m)&&h!=="_self")return pL(e||"",h),new Ay(null);const w=window.open(e||"",h,y);de(w,t,"popup-blocked");try{w.focus()}catch{}return new Ay(w)}function pL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="__/auth/handler",gL="emulator/auth/handler",_L=encodeURIComponent("fac");async function Cy(t,e,n,i,r,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zo,eventId:r};if(e instanceof IE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ok(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))l[y]=w}if(e instanceof lu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),m=d?`#${_L}=${encodeURIComponent(d)}`:"";return`${vL(t)}?${eu(h).slice(1)}${m}`}function vL({config:t}){return t.emulator?fg(t,gL):`https://${t.authDomain}/${mL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="webStorageSupport";class yL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=HR,this._overrideRedirectResult=zR}async _openPopup(e,n,i,r){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Cy(e,n,i,Pp(),r);return fL(e,l,yg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Cy(e,n,i,Pp(),r);return ER(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ji(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await aL(e),i=new qR(e);return n.register("authEvent",r=>(de(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sf,{type:sf},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[sf];l!==void 0&&n(!!l),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wE()||pE()||gg()}}const wL=yL;var Ny="@firebase/auth",Ry="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TL(t){si(new Un("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=i.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(t)},m=new tR(i,r,o,d);return aR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),si(new Un("auth-internal",e=>{const n=_g(e.getProvider("auth").getImmediate());return(i=>new xL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(Ny,Ry,EL(t)),In(Ny,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=5*60,SL=bx("authIdTokenMaxAge")||IL;let Ly=null;const PL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>SL)return;const r=n==null?void 0:n.token;Ly!==r&&(Ly=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function bL(t=Nm()){const e=xs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oR(t,{popupRedirectResolver:wL,persistence:[NR,yR,AE]}),i=bx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=PL(o.toString());gR(n,l,()=>l(n.currentUser)),mR(n,h=>l(h))}}const r=Sx("auth");return r&&lR(n,`http://${r}`),n}function kL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nR({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=ni("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",kL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TL("Browser");const DE="@firebase/installations",xg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=1e4,VE=`w:${xg}`,FE="FIS_v2",AL="https://firebaseinstallations.googleapis.com/v1",CL=60*60*1e3,NL="installations",RL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ps=new ws(NL,RL,LL);function zE(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE({projectId:t}){return`${AL}/projects/${t}/installations`}function BE(t){return{token:t.token,requestStatus:2,expiresIn:OL(t.expiresIn),creationTime:Date.now()}}async function HE(t,e){const i=(await e.json()).error;return ps.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function $E({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ML(t,{refreshToken:e}){const n=$E(t);return n.append("Authorization",DL(e)),n}async function qE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function OL(t){return Number(t.replace("s","000"))}function DL(t){return`${FE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=UE(t),r=$E(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const l={fid:n,authVersion:FE,appId:t.appId,sdkVersion:VE},h={method:"POST",headers:r,body:JSON.stringify(l)},d=await qE(()=>fetch(i,h));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:BE(m.authToken)}}else throw await HE("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=/^[cdef][\w-]{21}$/,Ap="";function zL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=UL(t);return FL.test(n)?n:Ap}catch{return Ap}}function UL(t){return VL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;function KE(t,e){const n=cd(t);ZE(n,e),BL(n,e)}function ZE(t,e){const n=GE.get(t);if(n)for(const i of n)i(e)}function BL(t,e){const n=HL();n&&n.postMessage({key:t,fid:e}),$L()}let es=null;function HL(){return!es&&"BroadcastChannel"in self&&(es=new BroadcastChannel("[Firebase] FID Change"),es.onmessage=t=>{ZE(t.data.key,t.data.fid)}),es}function $L(){GE.size===0&&es&&(es.close(),es=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="firebase-installations-database",WL=1,ms="firebase-installations-store";let of=null;function Eg(){return of||(of=Lx(qL,WL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ms)}}})),of}async function Ah(t,e){const n=cd(t),r=(await Eg()).transaction(ms,"readwrite"),o=r.objectStore(ms),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&KE(t,e.fid),e}async function QE(t){const e=cd(t),i=(await Eg()).transaction(ms,"readwrite");await i.objectStore(ms).delete(e),await i.done}async function hd(t,e){const n=cd(t),r=(await Eg()).transaction(ms,"readwrite"),o=r.objectStore(ms),l=await o.get(n),h=e(l);return h===void 0?await o.delete(n):await o.put(h,n),await r.done,h&&(!l||l.fid!==h.fid)&&KE(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(t){let e;const n=await hd(t.appConfig,i=>{const r=GL(i),o=KL(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===Ap?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GL(t){const e=t||{fid:zL(),registrationStatus:0};return YE(e)}function KL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ps.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=ZL(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QL(t)}:{installationEntry:e}}async function ZL(t,e){try{const n=await jL(t,e);return Ah(t.appConfig,n)}catch(n){throw zE(n)&&n.customData.serverCode===409?await QE(t.appConfig):await Ah(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function QL(t){let e=await My(t.appConfig);for(;e.registrationStatus===1;)await WE(100),e=await My(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Tg(t);return i||n}return e}function My(t){return hd(t,e=>{if(!e)throw ps.create("installation-not-found");return YE(e)})}function YE(t){return YL(t)?{fid:t.fid,registrationStatus:0}:t}function YL(t){return t.registrationStatus===1&&t.registrationTime+jE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL({appConfig:t,heartbeatServiceProvider:e},n){const i=JL(t,n),r=ML(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const l={installation:{sdkVersion:VE,appId:t.appId}},h={method:"POST",headers:r,body:JSON.stringify(l)},d=await qE(()=>fetch(i,h));if(d.ok){const m=await d.json();return BE(m)}else throw await HE("Generate Auth Token",d)}function JL(t,{fid:e}){return`${UE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(t,e=!1){let n;const i=await hd(t.appConfig,o=>{if(!XE(o))throw ps.create("not-registered");const l=o.authToken;if(!e&&nM(l))return o;if(l.requestStatus===1)return n=eM(t,e),o;{if(!navigator.onLine)throw ps.create("app-offline");const h=rM(o);return n=tM(t,h),h}});return n?await n:i.authToken}async function eM(t,e){let n=await Oy(t.appConfig);for(;n.authToken.requestStatus===1;)await WE(100),n=await Oy(t.appConfig);const i=n.authToken;return i.requestStatus===0?Ig(t,e):i}function Oy(t){return hd(t,e=>{if(!XE(e))throw ps.create("not-registered");const n=e.authToken;return sM(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tM(t,e){try{const n=await XL(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Ah(t.appConfig,i),n}catch(n){if(zE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QE(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ah(t.appConfig,i)}throw n}}function XE(t){return t!==void 0&&t.registrationStatus===2}function nM(t){return t.requestStatus===2&&!iM(t)}function iM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CL}function rM(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function sM(t){return t.requestStatus===1&&t.requestTime+jE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t){const e=t,{installationEntry:n,registrationPromise:i}=await Tg(e);return i?i.catch(console.error):Ig(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e=!1){const n=t;return await lM(n),(await Ig(n,e)).token}async function lM(t){const{registrationPromise:e}=await Tg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){if(!t||!t.options)throw af("App Configuration");if(!t.name)throw af("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw af(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function af(t){return ps.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="installations",cM="installations-internal",hM=t=>{const e=t.getProvider("app").getImmediate(),n=uM(e),i=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},dM=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,JE).getImmediate();return{getId:()=>oM(n),getToken:r=>aM(n,r)}};function fM(){si(new Un(JE,hM,"PUBLIC")),si(new Un(cM,dM,"PRIVATE"))}fM();In(DE,xg);In(DE,xg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="analytics",pM="firebase_id",mM="origin",gM=60*1e3,_M="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},an=new ws("analytics","Analytics",vM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){if(!t.startsWith(Sg)){const e=an.create("invalid-gtag-resource",{gtagURL:t});return Xt.warn(e.message),""}return t}function eT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xM(t,e){const n=wM("firebase-js-sdk-policy",{createScriptURL:yM}),i=document.createElement("script"),r=`${Sg}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function EM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function TM(t,e,n,i,r,o){const l=i[r];try{if(l)await e[l];else{const d=(await eT(n)).find(m=>m.measurementId===r);d&&await e[d.appId]}}catch(h){Xt.error(h)}t("config",r,o)}async function IM(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const h=await eT(n);for(const d of l){const m=h.find(w=>w.measurementId===d),y=m&&e[m.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Xt.error(o)}}function SM(t,e,n,i){async function r(o,...l){try{if(o==="event"){const[h,d]=l;await IM(t,e,n,h,d)}else if(o==="config"){const[h,d]=l;await TM(t,e,n,i,h,d)}else if(o==="consent"){const[h,d]=l;t("consent",h,d)}else if(o==="get"){const[h,d,m]=l;t("get",h,d,m)}else if(o==="set"){const[h]=l;t("set",h)}else t(o,...l)}catch(h){Xt.error(h)}}return r}function PM(t,e,n,i,r){let o=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=SM(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function bM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=30,AM=1e3;class CM{constructor(e={},n=AM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tT=new CM;function NM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function RM(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:NM(i)},o=_M.replace("{app-id}",n),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let h="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw an.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function LM(t,e=tT,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw an.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw an.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new DM;return setTimeout(async()=>{h.abort()},gM),nT({appId:i,apiKey:r,measurementId:o},l,h,e)}async function nT(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=tT){var o;const{appId:l,measurementId:h}=t;try{await MM(i,e)}catch(d){if(h)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:h};throw d}try{const d=await RM(t);return r.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!OM(m)){if(r.deleteThrottleMetadata(l),h)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:h};throw d}const y=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?Ev(n,r.intervalMillis,kM):Ev(n,r.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return r.setThrottleMetadata(l,w),Xt.debug(`Calling attemptFetch again in ${y} millis`),nT(t,w,i,r)}}function MM(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OM(t){if(!(t instanceof Hn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jM(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,l=Object.assign(Object.assign({},i),{send_to:o});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(){if(Ax())try{await Cx()}catch(t){return Xt.warn(an.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xt.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FM(t,e,n,i,r,o,l){var h;const d=LM(t);d.then(C=>{n[C.measurementId]=C.appId,t.options.measurementId&&C.measurementId!==t.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>Xt.error(C)),e.push(d);const m=VM().then(C=>{if(C)return i.getId()}),[y,w]=await Promise.all([d,m]);bM(o)||xM(o,y.measurementId),r("js",new Date);const E=(h=l==null?void 0:l.config)!==null&&h!==void 0?h:{};return E[mM]="firebase",E.update=!0,w!=null&&(E[pM]=w),r("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.app=e}_delete(){return delete gl[this.app.options.appId],Promise.resolve()}}let gl={},Dy=[];const jy={};let lf="dataLayer",UM="gtag",Vy,iT,Fy=!1;function BM(){const t=[];if(kx()&&t.push("This is a browser extension environment."),nk()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=an.create("invalid-analytics-context",{errorInfo:e});Xt.warn(n.message)}}function HM(t,e,n){BM();const i=t.options.appId;if(!i)throw an.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw an.create("no-api-key");if(gl[i]!=null)throw an.create("already-exists",{id:i});if(!Fy){EM(lf);const{wrappedGtag:o,gtagCore:l}=PM(gl,Dy,jy,lf,UM);iT=o,Vy=l,Fy=!0}return gl[i]=FM(t,Dy,jy,e,Vy,lf,n),new zM(t)}function $M(t=Nm()){t=Jt(t);const e=xs(t,Ch);return e.isInitialized()?e.getImmediate():qM(t)}function qM(t,e={}){const n=xs(t,Ch);if(n.isInitialized()){const r=n.getImmediate();if(Dl(e,n.getOptions()))return r;throw an.create("already-initialized")}return n.initialize({options:e})}function WM(t,e,n,i){t=Jt(t),jM(iT,gl[t.app.options.appId],e,n,i).catch(r=>Xt.error(r))}const zy="@firebase/analytics",Uy="0.10.8";function GM(){si(new Un(Ch,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return HM(i,r,n)},"PUBLIC")),si(new Un("analytics-internal",t,"PRIVATE")),In(zy,Uy),In(zy,Uy,"esm2017");function t(e){try{const n=e.getProvider(Ch).getImmediate();return{logEvent:(i,r,o)=>WM(n,i,r,o)}}catch(n){throw an.create("interop-component-reg-failed",{reason:n})}}}GM();const KM={apiKey:"AIzaSyBp9b2KJlf9UB2TyDJAPFm1NNtmCdPkDYU",authDomain:"ai-wastage.firebaseapp.com",projectId:"ai-wastage",storageBucket:"ai-wastage.firebasestorage.app",messagingSenderId:"963243989620",appId:"1:963243989620:web:150ca7b819b7015e5c0f21",measurementId:"G-K2XJKQ2TR2"},Pg=Mx(KM),ia=uN(Pg);bL(Pg);$M(Pg);const bg=async()=>{try{return(await iE(ta(ia,"questions"))).docs.map(e=>{var n;return{id:e.id,...e.data(),timestamp:(n=e.data().timestamp)==null?void 0:n.toDate()}})}catch(t){throw console.error("Error getting questions:",t),t}},ZM=async t=>{try{return(await ad(ta(ia,"user_submissions"),{...t,timestamp:Qe.now()})).id}catch(e){throw console.error("Error adding user submission:",e),e}},QM=async t=>{try{return(await ad(ta(ia,"feedback"),{...t,timestamp:Qe.now()})).id}catch(e){throw console.error("Error adding feedback:",e),e}},YM=async t=>{try{return(await ad(ta(ia,"events"),{...t,date:Qe.fromDate(t.date)})).id}catch(e){throw console.error("Error adding event:",e),e}},rT=async()=>{try{const t=xN(ta(ia,"events"),EN("date","asc"));return(await iE(t)).docs.map(n=>{var i;return{id:n.id,...n.data(),date:(i=n.data().date)==null?void 0:i.toDate()}})}catch(t){throw console.error("Error getting events:",t),t}},XM=async t=>{try{return(await ad(ta(ia,"deepseek_logs"),{...t,timestamp:Qe.now()})).id}catch(e){throw console.error("Error adding DeepSeek log:",e),e}},Cp=({question:t,language:e})=>{const[n,i]=$.useState(!1),[r,o]=$.useState(null),[l,h]=$.useState(!1),d=async E=>{if(!(l||r)){h(!0);try{await QM({questionId:t.id,rating:E,timestamp:new Date}),o(E)}catch(C){console.error("Error submitting feedback:",C)}finally{h(!1)}}},m=e==="hindi"&&t.questionHindi?t.questionHindi:t.question,y=e==="hindi"&&t.answerHindi?t.answerHindi:t.answer,w=E=>({kund:"bg-blue-100 text-blue-800",temple:"bg-orange-100 text-orange-800",aarti:"bg-yellow-100 text-yellow-800",food:"bg-green-100 text-green-800",cruise:"bg-cyan-100 text-cyan-800",toilet:"bg-purple-100 text-purple-800"})[E]||"bg-gray-100 text-gray-800";return p.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w(t.domain)}`,children:t.domain.charAt(0).toUpperCase()+t.domain.slice(1)}),p.jsx("button",{onClick:()=>i(!n),className:"text-gray-500 hover:text-orange-600 transition-colors",children:n?p.jsx(yb,{className:"h-5 w-5"}):p.jsx(vb,{className:"h-5 w-5"})})]}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer",onClick:()=>i(!n),children:m}),!n&&p.jsxs("p",{className:"text-gray-600 text-sm line-clamp-2",children:[y.substring(0,100),"..."]})]}),n&&p.jsxs("div",{className:"px-6 pb-6",children:[p.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:p.jsx("p",{className:"text-gray-800 leading-relaxed",children:y})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:e==="hindi"?"क्या यह उत्तर सहायक था?":"Was this answer helpful?"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs("button",{onClick:()=>d("helpful"),disabled:l||r!==null,className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${r==="helpful"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600 hover:bg-green-50 hover:text-green-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[p.jsx(wx,{className:"h-4 w-4"}),p.jsx("span",{children:e==="hindi"?"हाँ":"Yes"})]}),p.jsxs("button",{onClick:()=>d("not_helpful"),disabled:l||r!==null,className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${r==="not_helpful"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600 hover:bg-red-50 hover:text-red-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[p.jsx(Nb,{className:"h-4 w-4"}),p.jsx("span",{children:e==="hindi"?"नहीं":"No"})]})]})]}),r&&p.jsx("p",{className:"text-sm text-green-600 mt-2",children:e==="hindi"?"धन्यवाद! आपकी प्रतिक्रिया दर्ज की गई है।":"Thank you! Your feedback has been recorded."})]})]})},JM="ef2ac1eb799436c1187b0e9f4ebd2bef",eO="https://api.deepseek.com/v1/chat/completions",tO=async(t,e="english")=>{var n,i;try{const r=e==="hindi"?`आप वाराणसी, भारत के लिए एक पर्यटन सहायक हैं। कृपया इस प्रश्न का उत्तर हिंदी में दें: ${t}`:`You are a tourism assistant for Varanasi, India. Please answer this question in English: ${t}`,o=await fetch(eO,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${JM}`},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:e==="hindi"?"आप वाराणसी के लिए एक सहायक पर्यटन गाइड हैं। घाट, मंदिर, भोजन, और स्थानीय संस्कृति के बारे में सटीक जानकारी प्रदान करें।":"You are a helpful tourism guide for Varanasi. Provide accurate information about ghats, temples, food, and local culture."},{role:"user",content:r}],max_tokens:500,temperature:.7})});if(!o.ok)throw new Error(`DeepSeek API error: ${o.status}`);return((i=(n=(await o.json()).choices[0])==null?void 0:n.message)==null?void 0:i.content)||"Sorry, I could not generate a response."}catch(r){throw console.error("DeepSeek API Error:",r),new Error("Failed to get response from AI assistant")}},nO=[{id:"1",domain:"kund",question:"What is Dashashwamedh Ghat famous for?",questionHindi:"दशाश्वमेध घाट किस लिए प्रसिद्ध है?",answer:"Dashashwamedh Ghat is famous for its evening Ganga Aarti ceremony, which is a spectacular spiritual ritual performed daily at sunset.",answerHindi:"दशाश्वमेध घाट अपनी शाम की गंगा आरती के लिए प्रसिद्ध है, जो सूर्यास्त के समय दैनिक रूप से किया जाने वाला एक शानदार आध्यात्मिक अनुष्ठान है।",lang:"both"},{id:"2",domain:"temple",question:"What are the visiting hours of Kashi Vishwanath Temple?",questionHindi:"काशी विश्वनाथ मंदिर के दर्शन का समय क्या है?",answer:"Kashi Vishwanath Temple is open from 3:00 AM to 11:00 PM daily. Early morning (4-7 AM) and evening (7-9 PM) are the best times to visit.",answerHindi:"काशी विश्वनाथ मंदिर प्रतिदिन सुबह 3:00 बजे से रात 11:00 बजे तक खुला रहता है। सुबह जल्दी (4-7 बजे) और शाम (7-9 बजे) दर्शन के लिए सबसे अच्छा समय है।",lang:"both"},{id:"3",domain:"food",question:"What are the famous street foods in Varanasi?",questionHindi:"वाराणसी के प्रसिद्ध स्ट्रीट फूड कौन से हैं?",answer:"Famous street foods include Kachori Sabzi, Chaat, Lassi, Malaiyo, Baati Chokha, and Tamatar Chaat. Don't miss the famous Blue Lassi shop!",answerHindi:"प्रसिद्ध स्ट्रीट फूड में कचौड़ी सब्जी, चाट, लस्सी, मलाइयो, बाटी चोखा, और टमाटर चाट शामिल हैं। प्रसिद्ध ब्लू लस्सी शॉप को न भूलें!",lang:"both"},{id:"4",domain:"aarti",question:"What time does the Ganga Aarti start?",questionHindi:"गंगा आरती कितने बजे शुरू होती है?",answer:"The evening Ganga Aarti at Dashashwamedh Ghat starts at 6:45 PM in winter and 7:00 PM in summer. Arrive 30 minutes early for good spots.",answerHindi:"दशाश्वमेध घाट पर शाम की गंगा आरती सर्दियों में शाम 6:45 बजे और गर्मियों में 7:00 बजे शुरू होती है। अच्छी जगह के लिए 30 मिनट पहले पहुंचें।",lang:"both"},{id:"5",domain:"cruise",question:"How much does a boat ride cost on the Ganges?",questionHindi:"गंगा में नाव की सवारी की कीमत कितनी है?",answer:"Boat rides cost between ₹100-500 per person depending on duration and type. Sunrise boat rides (₹200-300) and sunset rides (₹300-500) are most popular.",answerHindi:"नाव की सवारी की कीमत अवधि और प्रकार के आधार पर ₹100-500 प्रति व्यक्ति है। सूर्योदय नाव सवारी (₹200-300) और सूर्यास्त सवारी (₹300-500) सबसे लोकप्रिय हैं।",lang:"both"},{id:"6",domain:"toilet",question:"Where can I find clean public toilets near the ghats?",questionHindi:"घाटों के पास साफ सार्वजनिक शौचालय कहाँ मिल सकते हैं?",answer:"Clean public toilets are available at Dashashwamedh Ghat, Assi Ghat, and near Kashi Vishwanath Temple. Most charge ₹5-10. Hotels and restaurants also allow usage.",answerHindi:"साफ सार्वजनिक शौचालय दशाश्वमेध घाट, अस्सी घाट, और काशी विश्वनाथ मंदिर के पास उपलब्ध हैं। अधिकतर ₹5-10 चार्ज करते हैं। होटल और रेस्तराँ भी उपयोग की अनुमति देते हैं।",lang:"both"}],Wl={questions:nO},iO=()=>{const[t,e]=$.useState([]),[n,i]=$.useState([]),[r,o]=$.useState("all"),[l,h]=$.useState([]),[d,m]=$.useState(!1),[y,w]=$.useState("english"),[E,C]=$.useState(!1);$.useEffect(()=>{D()},[]),$.useEffect(()=>{i(r==="all"?t:t.filter(b=>b.domain===r))},[r,t]);const D=async()=>{try{const b=Wl.questions.map(Y=>({...Y,timestamp:new Date})),B=await bg(),K=[...b,...B];e(K),i(K)}catch(b){console.error("Error loading questions:",b);const B=Wl.questions.map(K=>({...K,timestamp:new Date}));e(B),i(B)}},O=async(b,B)=>{m(!0),w(B),C(!0);try{const K=t.filter(Y=>{const A=B==="hindi"&&Y.questionHindi?Y.questionHindi:Y.question,I=B==="hindi"&&Y.answerHindi?Y.answerHindi:Y.answer;return A.toLowerCase().includes(b.toLowerCase())||I.toLowerCase().includes(b.toLowerCase())});if(K.length>0)h(K);else try{const Y=await tO(b,B);await XM({query:b,response:Y,timestamp:new Date,language:B});const A={id:`ai-${Date.now()}`,domain:"ai-generated",question:b,answer:Y,lang:B,timestamp:new Date};h([A])}catch(Y){console.error("Error querying AI:",Y),h([])}}catch(K){console.error("Search error:",K),h([])}finally{m(!1)}},U=[{icon:ri,label:"Sacred Places",labelHindi:"पवित्र स्थान",value:"100+",color:"from-blue-500 to-cyan-500"},{icon:sp,label:"Happy Tourists",labelHindi:"खुश पर्यटक",value:"50K+",color:"from-green-500 to-emerald-500"},{icon:Ab,label:"Rating",labelHindi:"रेटिंग",value:"4.9",color:"from-yellow-500 to-orange-500"},{icon:Am,label:"Years Experience",labelHindi:"वर्षों का अनुभव",value:"10+",color:"from-purple-500 to-pink-500"}],S=[{icon:yv,title:"AI-Powered Answers",titleHindi:"AI संचालित उत्तर",description:"Get instant answers about Varanasi using advanced AI technology",descriptionHindi:"उन्नत AI तकनीक का उपयोग करके वाराणसी के बारे में तुरंत उत्तर प्राप्त करें",gradient:"from-purple-500 to-pink-500"},{icon:Eb,title:"Multilingual Support",titleHindi:"बहुभाषी समर्थन",description:"Available in both Hindi and English for your convenience",descriptionHindi:"आपकी सुविधा के लिए हिंदी और अंग्रेजी दोनों में उपलब्ध",gradient:"from-blue-500 to-cyan-500"},{icon:gv,title:"Expert Guidance",titleHindi:"विशेषज्ञ मार्गदर्शन",description:"Curated information from local experts and experienced travelers",descriptionHindi:"स्थानीय विशेषज्ञों और अनुभवी यात्रियों से संकलित जानकारी",gradient:"from-orange-500 to-red-500"}],P=[{icon:Cb,title:"Morning Ganga Aarti",titleHindi:"प्रातःकालीन गंगा आरती",time:"5:30 AM",image:"https://images.pexels.com/photos/3408744/pexels-photo-3408744.jpeg?auto=compress&cs=tinysrgb&w=400"},{icon:_b,title:"Boat Ride Experience",titleHindi:"नाव सवारी अनुभव",time:"Sunrise & Sunset",image:"https://images.pexels.com/photos/1007426/pexels-photo-1007426.jpeg?auto=compress&cs=tinysrgb&w=400"},{icon:xb,title:"Temple Exploration",titleHindi:"मंदिर अन्वेषण",time:"All Day",image:"https://images.pexels.com/photos/3408353/pexels-photo-3408353.jpeg?auto=compress&cs=tinysrgb&w=400"}];return p.jsxs("div",{className:"min-h-screen bg-white overflow-hidden",children:[p.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50 via-red-50 to-pink-50",children:p.jsxs("div",{className:"absolute inset-0 opacity-30",children:[p.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-orange-400 to-pink-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),p.jsx("div",{className:"absolute top-40 right-20 w-72 h-72 bg-gradient-to-r from-yellow-400 to-red-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000"}),p.jsx("div",{className:"absolute -bottom-8 left-40 w-72 h-72 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000"})]})}),p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/4 left-1/4 w-4 h-4 bg-orange-400 rounded-full animate-bounce delay-300"}),p.jsx("div",{className:"absolute top-1/3 right-1/4 w-3 h-3 bg-pink-400 rounded-full animate-bounce delay-700"}),p.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-5 h-5 bg-yellow-400 rounded-full animate-bounce delay-1000"}),p.jsx("div",{className:"absolute top-1/2 right-1/3 w-2 h-2 bg-red-400 rounded-full animate-bounce delay-500"})]}),p.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[p.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-white/80 backdrop-blur-sm rounded-full text-orange-800 text-sm font-medium mb-8 shadow-lg border border-orange-200",children:[p.jsx(yv,{className:"h-5 w-5 mr-2 text-orange-600"}),"Discover the Spiritual Capital of India",p.jsx("div",{className:"ml-2 w-2 h-2 bg-orange-500 rounded-full animate-ping"})]}),p.jsxs("div",{className:"mb-12",children:[p.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-gray-900 mb-6 leading-tight",children:["Welcome to"," ",p.jsxs("span",{className:"relative",children:[p.jsx("span",{className:"bg-gradient-to-r from-orange-600 via-red-500 to-pink-500 bg-clip-text text-transparent",children:"VATIKA"}),p.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-gradient-to-r from-orange-600 via-red-500 to-pink-500 rounded-full"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent mb-4",children:"Tourism"}),p.jsx("p",{className:"text-3xl md:text-4xl text-orange-600 font-bold mb-6",children:"वाराणसी की आध्यात्मिक यात्रा में आपका स्वागत है"})]})]}),p.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-16 max-w-4xl mx-auto leading-relaxed font-medium",children:"Discover the spiritual heart of India with our AI-powered guide. Get instant answers about ghats, temples, food, and everything Varanasi has to offer in both Hindi and English."}),p.jsxs("div",{className:"mb-16 relative",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-3xl"}),p.jsx("div",{className:"relative p-8",children:p.jsx(Vb,{onSearch:O,isLoading:d})})]}),p.jsx(xx,{selectedDomain:r,onDomainChange:o}),p.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:p.jsx("div",{className:"w-6 h-10 border-2 border-orange-400 rounded-full flex justify-center",children:p.jsx("div",{className:"w-1 h-3 bg-orange-400 rounded-full mt-2 animate-pulse"})})})]})]}),p.jsxs("section",{className:"py-20 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 relative overflow-hidden",children:[p.jsx("div",{className:`absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-20`}),p.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Experience Varanasi"}),p.jsx("p",{className:"text-2xl text-gray-300",children:"वाराणसी का अनुभव करें"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:P.map((b,B)=>{const K=b.icon;return p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-500 transform hover:-translate-y-2",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/20 to-red-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx(K,{className:"h-12 w-12 text-orange-400 group-hover:text-white transition-colors duration-300"}),p.jsx("span",{className:"text-orange-300 text-sm font-medium bg-orange-500/20 px-3 py-1 rounded-full",children:b.time})]}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-orange-100 transition-colors duration-300",children:b.title}),p.jsx("p",{className:"text-orange-200 text-lg",children:b.titleHindi}),p.jsxs("div",{className:"mt-6 flex items-center text-orange-300 group-hover:text-white transition-colors duration-300",children:[p.jsx(bb,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"text-sm font-medium",children:"Explore Now"})]})]})]},B)})})]})]}),p.jsxs("section",{className:"py-24 bg-white relative",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-purple-50"}),p.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-20",children:[p.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-100 to-red-100 rounded-full text-orange-800 text-sm font-medium mb-6",children:[p.jsx(gv,{className:"h-4 w-4 mr-2"}),"Why Choose VATIKA Tourism?"]}),p.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Your Perfect Travel Companion"}),p.jsx("p",{className:"text-2xl text-orange-600 font-semibold",children:"VATIKA Tourism क्यों चुनें?"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:S.map((b,B)=>{const K=b.icon;return p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 rounded-3xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),p.jsxs("div",{className:"relative bg-white rounded-3xl p-10 shadow-xl border border-gray-100 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3",children:[p.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r ${b.gradient} rounded-2xl mb-8 shadow-lg group-hover:scale-110 transition-transform duration-300`,children:p.jsx(K,{className:"h-10 w-10 text-white"})}),p.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-orange-600 transition-colors duration-300",children:b.title}),p.jsx("p",{className:"text-lg text-orange-600 font-semibold mb-4",children:b.titleHindi}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:b.description}),p.jsx("p",{className:"text-gray-500 text-sm",children:b.descriptionHindi}),p.jsxs("div",{className:"mt-6 flex items-center text-orange-600 group-hover:text-orange-700 transition-colors duration-300",children:[p.jsx(cc,{className:"h-4 w-4 mr-2 group-hover:translate-x-1 transition-transform duration-300"}),p.jsx("span",{className:"text-sm font-medium",children:"Learn More"})]})]})]},B)})})]})]}),p.jsxs("section",{className:"py-20 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 via-red-500 to-pink-500"}),p.jsx("div",{className:"absolute inset-0 bg-black/20"}),p.jsx("div",{className:`absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="white" fill-opacity="0.1"%3E%3Cpolygon points="50 0 60 40 100 50 60 60 50 100 40 60 0 50 40 40"/%3E%3C/g%3E%3C/svg%3E')] opacity-20`}),p.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Trusted by Thousands"}),p.jsx("p",{className:"text-xl text-orange-100",children:"हजारों लोगों का भरोसा"})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:U.map((b,B)=>{const K=b.icon;return p.jsxs("div",{className:"text-center group",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-3xl blur-xl group-hover:bg-white/30 transition-all duration-500"}),p.jsx("div",{className:"relative inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-3xl border border-white/30 group-hover:scale-110 transition-transform duration-300",children:p.jsx(K,{className:"h-12 w-12 text-white"})})]}),p.jsx("div",{className:"text-5xl md:text-6xl font-black text-white mb-3 group-hover:scale-105 transition-transform duration-300",children:b.value}),p.jsx("div",{className:"text-lg font-semibold text-white/90 mb-1",children:b.label}),p.jsx("div",{className:"text-sm text-orange-200",children:b.labelHindi})]},B)})})]})]}),p.jsx("section",{className:"py-24 bg-gray-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E?p.jsxs("div",{children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:y==="hindi"?"खोज परिणाम":"Search Results"}),p.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 mx-auto rounded-full"})]}),l.length>0?p.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:l.map(b=>p.jsx(Cp,{question:b,language:y},b.id))}):p.jsxs("div",{className:"text-center py-20",children:[p.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto mb-8",children:p.jsx(ri,{className:"h-16 w-16 text-gray-400"})}),p.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:y==="hindi"?"कोई परिणाम नहीं मिला":"No Results Found"}),p.jsx("p",{className:"text-gray-600 text-lg",children:y==="hindi"?"कृपया अपनी खोज को संशोधित करें या अलग कीवर्ड का प्रयास करें।":"Please try modifying your search or use different keywords."})]})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Popular Questions"}),p.jsx("p",{className:"text-2xl text-orange-600 font-semibold mb-6",children:"लोकप्रिय प्रश्न"}),p.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 mx-auto rounded-full"})]}),n.length>0?p.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:n.slice(0,9).map(b=>p.jsx(Cp,{question:b,language:y},b.id))}):p.jsx("div",{className:"text-center py-20",children:p.jsx("p",{className:"text-gray-600 text-lg",children:"No questions available for this category."})}),n.length>9&&p.jsx("div",{className:"text-center mt-16",children:p.jsxs("a",{href:"/explorer",className:"group inline-flex items-center px-10 py-5 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold text-lg rounded-full hover:from-orange-600 hover:to-red-600 transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:["View All Questions",p.jsx(cc,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]})})}),p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600"}),p.jsx("div",{className:"absolute inset-0 bg-black/30"}),p.jsx("div",{className:`absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="80" height="80" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="white" fill-opacity="0.1"%3E%3Cpath d="M0 0h80v80H0V0zm20 20v40h40V20H20zm20 35a15 15 0 1 1 0-30 15 15 0 0 1 0 30z"/>%3C/g%3E%3C/svg%3E')] opacity-20`}),p.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[p.jsx("div",{className:"mb-12",children:p.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full mb-8 border border-white/30",children:p.jsx(mx,{className:"h-12 w-12 text-white animate-pulse"})})}),p.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight",children:["Ready to Explore",p.jsx("span",{className:"block bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"Varanasi?"})]}),p.jsx("p",{className:"text-3xl text-blue-100 mb-16 font-semibold",children:"वाराणसी की खोज के लिए तैयार हैं?"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 justify-center",children:[p.jsxs("a",{href:"/map",className:"group bg-white text-blue-600 px-12 py-5 rounded-full font-bold text-xl hover:bg-blue-50 transition-all duration-300 transform hover:scale-105 shadow-2xl flex items-center justify-center",children:["🗺️ Explore Map",p.jsx("span",{className:"ml-2 text-lg",children:"नक्शा देखें"}),p.jsx(cc,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]}),p.jsxs("a",{href:"/events",className:"group border-3 border-white text-white px-12 py-5 rounded-full font-bold text-xl hover:bg-white hover:text-blue-600 transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:["🎉 View Events",p.jsx("span",{className:"ml-2 text-lg",children:"कार्यक्रम देखें"}),p.jsx(cc,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})]})]})},rO=()=>{const[t,e]=$.useState([]),[n,i]=$.useState([]),[r,o]=$.useState("all"),[l,h]=$.useState(""),[d,m]=$.useState("english"),[y,w]=$.useState(!0);$.useEffect(()=>{E()},[]),$.useEffect(()=>{C()},[r,l,t,d]);const E=async()=>{try{const D=Wl.questions.map(S=>({...S,timestamp:new Date})),O=await bg(),U=[...D,...O];e(U)}catch(D){console.error("Error loading questions:",D);const O=Wl.questions.map(U=>({...U,timestamp:new Date}));e(O)}finally{w(!1)}},C=()=>{let D=t;r!=="all"&&(D=D.filter(O=>O.domain===r)),l.trim()&&(D=D.filter(O=>{const U=d==="hindi"&&O.questionHindi?O.questionHindi:O.question,S=d==="hindi"&&O.answerHindi?O.answerHindi:O.answer;return U.toLowerCase().includes(l.toLowerCase())||S.toLowerCase().includes(l.toLowerCase())})),i(D)};return y?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading questions..."})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Question Explorer"}),p.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"प्रश्न अन्वेषक"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Browse through all questions and answers about Varanasi. Use filters and search to find exactly what you're looking for."})]}),p.jsx("div",{className:"flex justify-center mb-8",children:p.jsxs("div",{className:"bg-white rounded-full p-1 shadow-md",children:[p.jsx("button",{onClick:()=>m("english"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${d==="english"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"English"}),p.jsx("button",{onClick:()=>m("hindi"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${d==="hindi"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"हिंदी"})]})}),p.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:p.jsxs("div",{className:"relative",children:[p.jsx(rp,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),p.jsx("input",{type:"text",value:l,onChange:D=>h(D.target.value),placeholder:d==="hindi"?"प्रश्न खोजें...":"Search questions...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),p.jsx(xx,{selectedDomain:r,onDomainChange:o}),p.jsx("div",{className:"text-center mb-8",children:p.jsx("p",{className:"text-gray-600",children:d==="hindi"?`${n.length} प्रश्न मिले`:`${n.length} questions found`})}),n.length>0?p.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(D=>p.jsx(Cp,{question:D,language:d},D.id))}):p.jsxs("div",{className:"text-center py-16",children:[p.jsx("div",{className:"text-gray-400 mb-4",children:p.jsx(rp,{className:"h-16 w-16 mx-auto"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:d==="hindi"?"कोई प्रश्न नहीं मिला":"No questions found"}),p.jsx("p",{className:"text-gray-600 mb-6",children:d==="hindi"?"अपनी खोज को संशोधित करने या फ़िल्टर बदलने का प्रयास करें।":"Try modifying your search or changing the filters."}),p.jsx("button",{onClick:()=>{h(""),o("all")},className:"bg-orange-500 text-white px-6 py-2 rounded-full hover:bg-orange-600 transition-colors",children:d==="hindi"?"फ़िल्टर साफ़ करें":"Clear Filters"})]})]})})},sO=()=>{const[t,e]=$.useState({question:"",answer:"",domain:"kund",lang:"english"}),[n,i]=$.useState(!1),[r,o]=$.useState(!1),l=[{id:"kund",name:"Ghats",nameHindi:"घाट"},{id:"temple",name:"Temples",nameHindi:"मंदिर"},{id:"aarti",name:"Aarti",nameHindi:"आरती"},{id:"food",name:"Food",nameHindi:"भोजन"},{id:"cruise",name:"Boat Rides",nameHindi:"नाव सवारी"},{id:"toilet",name:"Facilities",nameHindi:"सुविधाएं"}],h=async m=>{if(m.preventDefault(),!(!t.question.trim()||!t.answer.trim())){i(!0);try{await ZM({question:t.question.trim(),answer:t.answer.trim(),domain:t.domain,lang:t.lang,status:"pending",timestamp:new Date}),o(!0),e({question:"",answer:"",domain:"kund",lang:"english"}),setTimeout(()=>o(!1),5e3)}catch(y){console.error("Error submitting Q&A:",y),alert("Error submitting your question. Please check your connection and try again.")}finally{i(!1)}}},d=m=>{e({...t,[m.target.name]:m.target.value})};return p.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:p.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-6",children:p.jsx(yx,{className:"h-8 w-8 text-orange-600"})}),p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Add Question & Answer"}),p.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"प्रश्न और उत्तर जोड़ें"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Help fellow tourists by sharing your knowledge about Varanasi. Your submission will be reviewed before being published."})]}),r&&p.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-8",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(px,{className:"h-5 w-5 text-green-600 mr-3"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-green-800 font-medium",children:"Submission Successful!"}),p.jsx("p",{className:"text-green-700 text-sm",children:"Your question has been submitted for admin review and will appear in the Q&A Explorer once approved. Thank you for contributing to VATIKA Tourism!"})]})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Language / भाषा"}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"lang",value:"english",checked:t.lang==="english",onChange:d,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300"}),p.jsx("span",{className:"ml-2 text-gray-700",children:"English"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"radio",name:"lang",value:"hindi",checked:t.lang==="hindi",onChange:d,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300"}),p.jsx("span",{className:"ml-2 text-gray-700",children:"हिंदी"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"domain",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category / श्रेणी"}),p.jsx("select",{id:"domain",name:"domain",value:t.domain,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:l.map(m=>p.jsxs("option",{value:m.id,children:[m.name," / ",m.nameHindi]},m.id))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"question",className:"block text-sm font-medium text-gray-700 mb-2",children:"Question / प्रश्न *"}),p.jsx("input",{type:"text",id:"question",name:"question",value:t.question,onChange:d,placeholder:t.lang==="hindi"?"अपना प्रश्न यहाँ लिखें...":"Enter your question here...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer / उत्तर *"}),p.jsx("textarea",{id:"answer",name:"answer",value:t.answer,onChange:d,rows:6,placeholder:t.lang==="hindi"?"विस्तृत उत्तर प्रदान करें...":"Provide a detailed answer...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Submission Guidelines:"}),p.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[p.jsx("li",{children:"• Provide accurate and helpful information"}),p.jsx("li",{children:"• Be respectful and considerate"}),p.jsx("li",{children:"• Include specific details when possible"}),p.jsx("li",{children:"• Your submission will be reviewed before publication"})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:n||!t.question.trim()||!t.answer.trim(),className:"bg-orange-600 text-white px-8 py-3 rounded-md font-medium hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):t.lang==="hindi"?"जमा करें":"Submit"})})]})}),p.jsx("div",{className:"mt-8 text-center",children:p.jsxs("p",{className:"text-gray-600 text-sm",children:["Want to explore existing questions? ",p.jsx("a",{href:"/explorer",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Visit our Q&A Explorer"})," |",p.jsx("a",{href:"/",className:"text-orange-600 hover:text-orange-700 font-medium ml-2",children:"Back to Home"})]})})]})})};function sT(t,e){const n=$.useRef(e);$.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const oO=1;function aO(t){return Object.freeze({__version:oO,map:t})}function lO(t,e){return Object.freeze({...t,...e})}const oT=$.createContext(null),aT=oT.Provider;function lT(){const t=$.useContext(oT);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function uO(t){function e(n,i){const{instance:r,context:o}=t(n).current;return $.useImperativeHandle(i,()=>r),n.children==null?null:Fc.createElement(aT,{value:o},n.children)}return $.forwardRef(e)}function cO(t){function e(n,i){const[r,o]=$.useState(!1),{instance:l}=t(n,o).current;$.useImperativeHandle(i,()=>l),$.useEffect(function(){r&&l.update()},[l,r,n.children]);const h=l._contentNode;return h?tx.createPortal(n.children,h):null}return $.forwardRef(e)}function hO(t){function e(n,i){const{instance:r}=t(n).current;return $.useImperativeHandle(i,()=>r),null}return $.forwardRef(e)}function uT(t,e){const n=$.useRef();$.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function kg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function dO(t,e){return function(i,r){const o=lT(),l=t(kg(i,o),o);return sT(o.map,i.attribution),uT(l.current,i.eventHandlers),e(l.current,o,i,r),l}}var Np={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(FT,function(n){var i="1.9.4";function r(s){var a,c,f,_;for(c=1,f=arguments.length;c<f;c++){_=arguments[c];for(a in _)s[a]=_[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var f=c.call(arguments,2);return function(){return s.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var h=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++h),s._leaflet_id}function m(s,a,c){var f,_,x,N;return N=function(){f=!1,_&&(x.apply(c,_),_=!1)},x=function(){f?_=arguments:(s.apply(c,arguments),setTimeout(N,a),f=!0)},x}function y(s,a,c){var f=a[1],_=a[0],x=f-_;return s===f&&c?s:((s-_)%x+x)%x+_}function w(){return!1}function E(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function C(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function D(s){return C(s).split(/\s+/)}function O(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function U(s,a,c){var f=[];for(var _ in s)f.push(encodeURIComponent(c?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function P(s,a){return s.replace(S,function(c,f){var _=a[f];if(_===void 0)throw new Error("No value provided for variable "+c);return typeof _=="function"&&(_=_(a)),_})}var b=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function B(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var A=0;function I(s){var a=+new Date,c=Math.max(0,16-(a-A));return A=a+c,window.setTimeout(s,c)}var k=window.requestAnimationFrame||Y("RequestAnimationFrame")||I,R=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function j(s,a,c){if(c&&k===I)s.call(a);else return k.call(window,l(s,a))}function V(s){s&&R.call(window,s)}var M={__proto__:null,extend:r,create:o,bind:l,get lastId(){return h},stamp:d,throttle:m,wrapNum:y,falseFn:w,formatNum:E,trim:C,splitWords:D,setOptions:O,getParamString:U,template:P,isArray:b,indexOf:B,emptyImageUrl:K,requestFn:k,cancelFn:R,requestAnimFrame:j,cancelAnimFrame:V};function Je(){}Je.extend=function(s){var a=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=o(c);f.constructor=a,a.prototype=f;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(a[_]=this[_]);return s.statics&&r(a,s.statics),s.includes&&(ai(s.includes),r.apply(null,[f].concat(s.includes))),r(f,s),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},r(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,N=f._initHooks.length;x<N;x++)f._initHooks[x].call(this)}},a},Je.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},Je.mergeOptions=function(s){return r(this.prototype.options,s),this},Je.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ai(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=b(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var dt={on:function(s,a,c){if(typeof s=="object")for(var f in s)this._on(f,s[f],a);else{s=D(s);for(var _=0,x=s.length;_<x;_++)this._on(s[_],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var f in s)this._off(f,s[f],a);else{s=D(s);for(var _=arguments.length===1,x=0,N=s.length;x<N;x++)_?this._off(s[x]):this._off(s[x],a,c)}return this},_on:function(s,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var _={fn:a,ctx:c};f&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,a,c){var f,_,x;if(this._events&&(f=this._events[s],!!f)){if(arguments.length===1){if(this._firingCount)for(_=0,x=f.length;_<x;_++)f[_].fn=w;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var N=this._listens(s,a,c);if(N!==!1){var z=f[N];this._firingCount&&(z.fn=w,this._events[s]=f=f.slice()),f.splice(N,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var f=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var x=0,N=_.length;x<N;x++){var z=_[x],H=z.fn;z.once&&this.off(s,H,z.ctx),H.call(z.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(s,a,c,f){typeof s!="string"&&console.warn('"string" type argument expected');var _=a;typeof a!="function"&&(f=!!a,_=void 0,c=void 0);var x=this._events&&this._events[s];if(x&&x.length&&this._listens(s,_,c)!==!1)return!0;if(f){for(var N in this._eventParents)if(this._eventParents[N].listens(s,a,c,f))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var f=this._events[s]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var _=0,x=f.length;_<x;_++)if(f[_].fn===a&&f[_].ctx===c)return _;return!1},once:function(s,a,c){if(typeof s=="object")for(var f in s)this._on(f,s[f],a,!0);else{s=D(s);for(var _=0,x=s.length;_<x;_++)this._on(s[_],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};dt.addEventListener=dt.on,dt.removeEventListener=dt.clearAllEventListeners=dt.off,dt.addOneTimeEventListener=dt.once,dt.fireEvent=dt.fire,dt.hasEventListeners=dt.listens;var Vt=Je.extend(dt);function W(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var ue=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(s){return this.clone()._add(J(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(J(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new W(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new W(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(s){s=J(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=J(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=J(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function J(s,a,c){return s instanceof W?s:b(s)?new W(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new W(s.x,s.y):new W(s,a,c)}function ce(s,a){if(s)for(var c=a?[s,a]:s,f=0,_=c.length;f<_;f++)this.extend(c[f])}ce.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof W||typeof s[0]=="number"||"x"in s)a=c=J(s);else if(s=ve(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof W?s=J(s):s=ve(s),s instanceof ce?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=ve(s);var a=this.min,c=this.max,f=s.min,_=s.max,x=_.x>=a.x&&f.x<=c.x,N=_.y>=a.y&&f.y<=c.y;return x&&N},overlaps:function(s){s=ve(s);var a=this.min,c=this.max,f=s.min,_=s.max,x=_.x>a.x&&f.x<c.x,N=_.y>a.y&&f.y<c.y;return x&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*s,_=Math.abs(a.y-c.y)*s;return ve(J(a.x-f,a.y-_),J(c.x+f,c.y+_))},equals:function(s){return s?(s=ve(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ve(s,a){return!s||s instanceof ce?s:new ce(s,a)}function Ie(s,a){if(s)for(var c=a?[s,a]:s,f=0,_=c.length;f<_;f++)this.extend(c[f])}Ie.prototype={extend:function(s){var a=this._southWest,c=this._northEast,f,_;if(s instanceof we)f=s,_=s;else if(s instanceof Ie){if(f=s._southWest,_=s._northEast,!f||!_)return this}else return s?this.extend(pe(s)||Re(s)):this;return!a&&!c?(this._southWest=new we(f.lat,f.lng),this._northEast=new we(_.lat,_.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(_.lat,c.lat),c.lng=Math.max(_.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*s,_=Math.abs(a.lng-c.lng)*s;return new Ie(new we(a.lat-f,a.lng-_),new we(c.lat+f,c.lng+_))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof we||"lat"in s?s=pe(s):s=Re(s);var a=this._southWest,c=this._northEast,f,_;return s instanceof Ie?(f=s.getSouthWest(),_=s.getNorthEast()):f=_=s,f.lat>=a.lat&&_.lat<=c.lat&&f.lng>=a.lng&&_.lng<=c.lng},intersects:function(s){s=Re(s);var a=this._southWest,c=this._northEast,f=s.getSouthWest(),_=s.getNorthEast(),x=_.lat>=a.lat&&f.lat<=c.lat,N=_.lng>=a.lng&&f.lng<=c.lng;return x&&N},overlaps:function(s){s=Re(s);var a=this._southWest,c=this._northEast,f=s.getSouthWest(),_=s.getNorthEast(),x=_.lat>a.lat&&f.lat<c.lat,N=_.lng>a.lng&&f.lng<c.lng;return x&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=Re(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Re(s,a){return s instanceof Ie?s:new Ie(s,a)}function we(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}we.prototype={equals:function(s,a){if(!s)return!1;s=pe(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+E(this.lat,s)+", "+E(this.lng,s)+")"},distanceTo:function(s){return $n.distance(this,pe(s))},wrap:function(){return $n.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return Re([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function pe(s,a,c){return s instanceof we?s:b(s)&&typeof s[0]!="object"?s.length===3?new we(s[0],s[1],s[2]):s.length===2?new we(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new we(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new we(s,a,c)}var ft={latLngToPoint:function(s,a){var c=this.projection.project(s),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(s,a){var c=this.scale(a),f=this.transformation.untransform(s,c);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),f=this.transformation.transform(a.min,c),_=this.transformation.transform(a.max,c);return new ce(f,_)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?y(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?y(s.lat,this.wrapLat,!0):s.lat,f=s.alt;return new we(c,a,f)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,_=a.lng-c.lng;if(f===0&&_===0)return s;var x=s.getSouthWest(),N=s.getNorthEast(),z=new we(x.lat-f,x.lng-_),H=new we(N.lat-f,N.lng-_);return new Ie(z,H)}},$n=r({},ft,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,f=s.lat*c,_=a.lat*c,x=Math.sin((a.lat-s.lat)*c/2),N=Math.sin((a.lng-s.lng)*c/2),z=x*x+Math.cos(f)*Math.cos(_)*N*N,H=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*H}}),hu=6378137,Fi={R:hu,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,s.lat),-c),_=Math.sin(f*a);return new W(this.R*s.lng*a,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var a=180/Math.PI;return new we((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=hu*Math.PI;return new ce([-s,-s],[s,s])}()};function zi(s,a,c,f){if(b(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=f}zi.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new W((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function li(s,a,c,f){return new zi(s,a,c,f)}var Lr=r({},$n,{code:"EPSG:3857",projection:Fi,transformation:function(){var s=.5/(Math.PI*Fi.R);return li(s,.5,-s,.5)}()}),ra=r({},Lr,{code:"EPSG:900913"});function Ss(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function sa(s,a){var c="",f,_,x,N,z,H;for(f=0,x=s.length;f<x;f++){for(z=s[f],_=0,N=z.length;_<N;_++)H=z[_],c+=(_?"L":"M")+H.x+" "+H.y;c+=a?se.svg?"z":"x":""}return c||"M0 0"}var oa=document.documentElement.style,Ps="ActiveXObject"in window,du=Ps&&!document.addEventListener,bs="msLaunchUri"in navigator&&!("documentMode"in document),ks=hn("webkit"),fu=hn("android"),As=hn("android 2")||hn("android 3"),aa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pu=fu&&hn("Google")&&aa<537&&!("AudioNode"in window),st=!!window.opera,gt=!bs&&hn("chrome"),Mr=hn("gecko")&&!ks&&!st&&!Ps,mu=!gt&&hn("safari"),la=hn("phantom"),gu="OTransition"in oa,Or=navigator.platform.indexOf("Win")===0,ua=Ps&&"transition"in oa,Cs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!As,Ns="MozPerspective"in oa,dd=!window.L_DISABLE_3D&&(ua||Cs||Ns)&&!gu&&!la,Dr=typeof orientation<"u"||hn("mobile"),ca=Dr&&ks,_u=Dr&&Cs,ha=!window.PointerEvent&&window.MSPointerEvent,Ui=!!(window.PointerEvent||ha),Rs="ontouchstart"in window||!!window.TouchEvent,da=!window.L_NO_TOUCH&&(Rs||Ui),ui=Dr&&st,vu=Dr&&Mr,Ls=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yu=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,a),window.removeEventListener("testPassiveEventSupport",w,a)}catch{}return s}(),jr=function(){return!!document.createElement("canvas").getContext}(),Ms=!!(document.createElementNS&&Ss("svg").createSVGRect),Et=!!Ms&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wu=!Ms&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Vr=navigator.platform.indexOf("Mac")===0,Fr=navigator.platform.indexOf("Linux")===0;function hn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var se={ie:Ps,ielt9:du,edge:bs,webkit:ks,android:fu,android23:As,androidStock:pu,opera:st,chrome:gt,gecko:Mr,safari:mu,phantom:la,opera12:gu,win:Or,ie3d:ua,webkit3d:Cs,gecko3d:Ns,any3d:dd,mobile:Dr,mobileWebkit:ca,mobileWebkit3d:_u,msPointer:ha,pointer:Ui,touch:da,touchNative:Rs,mobileOpera:ui,mobileGecko:vu,retina:Ls,passiveEvents:yu,canvas:jr,svg:Ms,vml:wu,inlineSvg:Et,mac:Vr,linux:Fr},ci=se.msPointer?"MSPointerDown":"pointerdown",xu=se.msPointer?"MSPointerMove":"pointermove",Eu=se.msPointer?"MSPointerUp":"pointerup",zr=se.msPointer?"MSPointerCancel":"pointercancel",Os={touchstart:ci,touchmove:xu,touchend:Eu,touchcancel:zr},Ds={touchstart:Vs,touchmove:js,touchend:js,touchcancel:js},kn={},An=!1;function Tu(s,a,c){return a==="touchstart"&&Su(),Ds[a]?(c=Ds[a].bind(this,c),s.addEventListener(Os[a],c,!1),c):(console.warn("wrong event specified:",a),w)}function Iu(s,a,c){if(!Os[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Os[a],c,!1)}function fa(s){kn[s.pointerId]=s}function pa(s){kn[s.pointerId]&&(kn[s.pointerId]=s)}function ma(s){delete kn[s.pointerId]}function Su(){An||(document.addEventListener(ci,fa,!0),document.addEventListener(xu,pa,!0),document.addEventListener(Eu,ma,!0),document.addEventListener(zr,ma,!0),An=!0)}function js(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in kn)a.touches.push(kn[c]);a.changedTouches=[a],s(a)}}function Vs(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&We(a),js(s,a)}function Pu(s){var a={},c,f;for(f in s)c=s[f],a[f]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var ga=200;function Ur(s,a){s.addEventListener("dblclick",a);var c=0,f;function _(x){if(x.detail!==1){f=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var N=ka(x);if(!(N.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!N.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var z=Date.now();z-c<=ga?(f++,f===2&&a(Pu(x))):f=1,c=z}}}return s.addEventListener("click",_),{dblclick:a,simDblclick:_}}function hi(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Br=fi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hr=fi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_a=Hr==="webkitTransition"||Hr==="OTransition"?Hr+"End":"transitionend";function va(s){return typeof s=="string"?document.getElementById(s):s}function Bi(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);c=f?f[a]:null}return c==="auto"?null:c}function Se(s,a,c){var f=document.createElement(s);return f.className=a||"",c&&c.appendChild(f),f}function Ve(s){var a=s.parentNode;a&&a.removeChild(s)}function $r(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function di(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function Hi(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function ya(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=dn(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function _e(s,a){if(s.classList!==void 0)for(var c=D(a),f=0,_=c.length;f<_;f++)s.classList.add(c[f]);else if(!ya(s,a)){var x=dn(s);wa(s,(x?x+" ":"")+a)}}function He(s,a){s.classList!==void 0?s.classList.remove(a):wa(s,C((" "+dn(s)+" ").replace(" "+a+" "," ")))}function wa(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function dn(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function et(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&Fs(s,a)}function Fs(s,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+f+"(opacity="+a+")"}function fi(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function qn(s,a,c){var f=a||new W(0,0);s.style[Br]=(se.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function he(s,a){s._leaflet_pos=a,se.any3d?qn(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function fn(s){return s._leaflet_pos||new W(0,0)}var Cn,Nn,xa;if("onselectstart"in document)Cn=function(){ae(window,"selectstart",We)},Nn=function(){De(window,"selectstart",We)};else{var $i=fi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cn=function(){if($i){var s=document.documentElement.style;xa=s[$i],s[$i]="none"}},Nn=function(){$i&&(document.documentElement.style[$i]=xa,xa=void 0)}}function Ea(){ae(window,"dragstart",We)}function Ta(){De(window,"dragstart",We)}var zs,Ia;function pi(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(en(),zs=s,Ia=s.style.outlineStyle,s.style.outlineStyle="none",ae(window,"keydown",en))}function en(){zs&&(zs.style.outlineStyle=Ia,zs=void 0,Ia=void 0,De(window,"keydown",en))}function Sa(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Us(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var bu={__proto__:null,TRANSFORM:Br,TRANSITION:Hr,TRANSITION_END:_a,get:va,getStyle:Bi,create:Se,remove:Ve,empty:$r,toFront:di,toBack:Hi,hasClass:ya,addClass:_e,removeClass:He,setClass:wa,getClass:dn,setOpacity:et,testProp:fi,setTransform:qn,setPosition:he,getPosition:fn,get disableTextSelection(){return Cn},get enableTextSelection(){return Nn},disableImageDrag:Ea,enableImageDrag:Ta,preventOutline:pi,restoreOutline:en,getSizedParentNode:Sa,getScale:Us};function ae(s,a,c,f){if(a&&typeof a=="object")for(var _ in a)Pa(s,_,a[_],c);else{a=D(a);for(var x=0,N=a.length;x<N;x++)Pa(s,a[x],c,f)}return this}var pn="_leaflet_events";function De(s,a,c,f){if(arguments.length===1)ku(s),delete s[pn];else if(a&&typeof a=="object")for(var _ in a)ba(s,_,a[_],c);else if(a=D(a),arguments.length===2)ku(s,function(z){return B(a,z)!==-1});else for(var x=0,N=a.length;x<N;x++)ba(s,a[x],c,f);return this}function ku(s,a){for(var c in s[pn]){var f=c.split(/\d/)[0];(!a||a(f))&&ba(s,f,null,null,c)}}var mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pa(s,a,c,f){var _=a+d(c)+(f?"_"+d(f):"");if(s[pn]&&s[pn][_])return this;var x=function(z){return c.call(f||s,z||window.event)},N=x;!se.touchNative&&se.pointer&&a.indexOf("touch")===0?x=Tu(s,a,x):se.touch&&a==="dblclick"?x=Ur(s,x):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(mn[a]||a,x,se.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(x=function(z){z=z||window.event,Aa(s,z)&&N(z)},s.addEventListener(mn[a],x,!1)):s.addEventListener(a,N,!1):s.attachEvent("on"+a,x),s[pn]=s[pn]||{},s[pn][_]=x}function ba(s,a,c,f,_){_=_||a+d(c)+(f?"_"+d(f):"");var x=s[pn]&&s[pn][_];if(!x)return this;!se.touchNative&&se.pointer&&a.indexOf("touch")===0?Iu(s,a,x):se.touch&&a==="dblclick"?hi(s,x):"removeEventListener"in s?s.removeEventListener(mn[a]||a,x,!1):s.detachEvent("on"+a,x),s[pn][_]=null}function gn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function qi(s){return Pa(s,"wheel",gn),this}function Wi(s){return ae(s,"mousedown touchstart dblclick contextmenu",gn),s._leaflet_disable_click=!0,this}function We(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function tn(s){return We(s),gn(s),this}function ka(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function Bs(s,a){if(!a)return new W(s.clientX,s.clientY);var c=Us(a),f=c.boundingClientRect;return new W((s.clientX-f.left)/c.x-a.clientLeft,(s.clientY-f.top)/c.y-a.clientTop)}var $e=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Au(s){return se.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/$e:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Aa(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var Cu={__proto__:null,on:ae,off:De,stopPropagation:gn,disableScrollPropagation:qi,disableClickPropagation:Wi,preventDefault:We,stop:tn,getPropagationPath:ka,getMousePosition:Bs,getWheelDelta:Au,isExternalTarget:Aa,addListener:ae,removeListener:De},Ca=Vt.extend({run:function(s,a,c,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=fn(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),he(this._el,c),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ee=Vt.extend({options:{crs:Lr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=O(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(pe(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hr&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ae(this._proxy,_a,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(pe(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var f=this.getZoomScale(a),_=this.getSize().divideBy(2),x=s instanceof W?s:this.latLngToContainerPoint(s),N=x.subtract(_).multiplyBy(1-1/f),z=this.containerPointToLatLng(_.add(N));return this.setView(z,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():Re(s);var c=J(a.paddingTopLeft||a.padding||[0,0]),f=J(a.paddingBottomRight||a.padding||[0,0]),_=this.getBoundsZoom(s,!1,c.add(f));if(_=typeof a.maxZoom=="number"?Math.min(a.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var x=f.subtract(c).divideBy(2),N=this.project(s.getSouthWest(),_),z=this.project(s.getNorthEast(),_),H=this.unproject(N.add(z).divideBy(2).add(x),_);return{center:H,zoom:_}},fitBounds:function(s,a){if(s=Re(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=J(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ca,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!se.any3d)return this.setView(s,a,c);this._stop();var f=this.project(this.getCenter()),_=this.project(s),x=this.getSize(),N=this._zoom;s=pe(s),a=a===void 0?N:a;var z=Math.max(x.x,x.y),H=z*this.getZoomScale(N,a),Z=_.distanceTo(f)||1,te=1.42,le=te*te;function xe(at){var Wu=at?-1:1,MT=at?H:z,OT=H*H-z*z+Wu*le*le*Z*Z,DT=2*MT*le*Z,yd=OT/DT,Xg=Math.sqrt(yd*yd+1)-yd,jT=Xg<1e-9?-18:Math.log(Xg);return jT}function zt(at){return(Math.exp(at)-Math.exp(-at))/2}function vt(at){return(Math.exp(at)+Math.exp(-at))/2}function vn(at){return zt(at)/vt(at)}var Wt=xe(0);function to(at){return z*(vt(Wt)/vt(Wt+te*at))}function CT(at){return z*(vt(Wt)*vn(Wt+te*at)-zt(Wt))/le}function NT(at){return 1-Math.pow(1-at,1.5)}var RT=Date.now(),Qg=(xe(1)-Wt)/te,LT=c.duration?1e3*c.duration:1e3*Qg*.8;function Yg(){var at=(Date.now()-RT)/LT,Wu=NT(at)*Qg;at<=1?(this._flyToFrame=j(Yg,this),this._move(this.unproject(f.add(_.subtract(f).multiplyBy(CT(Wu)/Z)),N),this.getScaleZoom(z/to(Wu),N),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Yg.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=Re(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,Re(s));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=J(a.paddingTopLeft||a.padding||[0,0]),f=J(a.paddingBottomRight||a.padding||[0,0]),_=this.project(this.getCenter()),x=this.project(s),N=this.getPixelBounds(),z=ve([N.min.add(c),N.max.subtract(f)]),H=z.getSize();if(!z.contains(x)){this._enforcingBounds=!0;var Z=x.subtract(z.getCenter()),te=z.extend(x).getSize().subtract(H);_.x+=Z.x<0?-te.x:te.x,_.y+=Z.y<0?-te.y:te.y,this.panTo(this.unproject(_),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),_=c.divideBy(2).round(),x=f.subtract(_);return!x.x&&!x.y?this:(s.animate&&s.pan?this.panBy(x):(s.pan&&this._rawPanBy(x),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,f=new we(a,c),_=f.toBounds(s.coords.accuracy*2),x=this._locateOptions;if(x.setView){var N=this.getBoundsZoom(_);this.setView(f,x.maxZoom?Math.min(N,x.maxZoom):N)}var z={latlng:f,bounds:_,timestamp:s.timestamp};for(var H in s.coords)typeof s.coords[H]=="number"&&(z[H]=s.coords[H]);this.fire("locationfound",z)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ve(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),f=Se("div",c,a||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new Ie(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=Re(s),c=J(c||[0,0]);var f=this.getZoom()||0,_=this.getMinZoom(),x=this.getMaxZoom(),N=s.getNorthWest(),z=s.getSouthEast(),H=this.getSize().subtract(c),Z=ve(this.project(z,f),this.project(N,f)).getSize(),te=se.any3d?this.options.zoomSnap:1,le=H.x/Z.x,xe=H.y/Z.y,zt=a?Math.max(le,xe):Math.min(le,xe);return f=this.getScaleZoom(zt,f),te&&(f=Math.round(f/(te/100))*(te/100),f=a?Math.ceil(f/te)*te:Math.floor(f/te)*te),Math.max(_,Math.min(x,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new ce(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(s*c.scale(a));return isNaN(f)?1/0:f},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(pe(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(J(s),a)},layerPointToLatLng:function(s){var a=J(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(pe(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(pe(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Re(s))},distance:function(s,a){return this.options.crs.distance(pe(s),pe(a))},containerPointToLayerPoint:function(s){return J(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return J(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(J(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(s)))},mouseEventToContainerPoint:function(s){return Bs(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=va(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ae(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,_e(s,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Bi(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),he(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(s.markerPane,"leaflet-zoom-hide"),_e(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){he(this._mapPane,new W(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var _=this._zoom!==a;this._moveStart(_,c)._move(s,a)._moveEnd(_),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,f){a===void 0&&(a=this._zoom);var _=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?c&&c.pinch&&this.fire("zoom",c):((_||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){he(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var a=s?De:ae;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],f,_=a==="mouseout"||a==="mouseover",x=s.target||s.srcElement,N=!1;x;){if(f=this._targets[d(x)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){N=!0;break}if(f&&f.listens(a,!0)&&(_&&!Aa(x,s)||(c.push(f),_))||x===this._container)break;x=x.parentNode}return!c.length&&!N&&!_&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&pi(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var f=r({},s);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var _=this._findEventTargets(s,a);if(c){for(var x=[],N=0;N<c.length;N++)c[N].listens(a,!0)&&x.push(c[N]);_=x.concat(_)}if(_.length){a==="contextmenu"&&We(s);var z=_[0],H={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Z=z.getLatLng&&(!z._radius||z._radius<=10);H.containerPoint=Z?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(s),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Z?z.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(N=0;N<_.length;N++)if(_[N].fire(a,H,!0),H.originalEvent._stopped||_[N].options.bubblingMouseEvents===!1&&B(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return fn(this._mapPane)||new W(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,a,c){var f=this._getNewPixelOrigin(c,a);return ve([this.project(s.getSouthWest(),a)._subtract(f),this.project(s.getNorthWest(),a)._subtract(f),this.project(s.getSouthEast(),a)._subtract(f),this.project(s.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var f=this.project(s,a),_=this.getSize().divideBy(2),x=new ce(f.subtract(_),f.add(_)),N=this._getBoundsOffset(x,c,a);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(f.add(N),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),f=new ce(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(s,a,c){var f=ve(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),_=f.min.subtract(s.min),x=f.max.subtract(s.max),N=this._rebound(_.x,-x.x),z=this._rebound(_.y,-x.y);return new W(N,z)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),f=se.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){He(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=Br,f=this._proxy.style[c];qn(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();qn(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),_=this._getCenterOffset(s)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(_)?!1:(j(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&He(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hs(s,a){return new Ee(s,a)}var qt=Je.extend({options:{position:"topright"},initialize:function(s){O(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),f=s._controlCorners[c];return _e(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ft=function(s){return new qt(s)};Ee.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=Se("div",a+"control-container",this._container);function f(_,x){var N=a+_+" "+a+x;s[_+x]=Se("div",N,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ve(this._controlCorners[s]);Ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Na=qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(s,a,c){O(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in s)this._addLayer(s[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return qt.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):He(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return He(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=Se("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Wi(a),qi(a);var f=this._section=Se("section",s+"-list");c&&(this._map.on("click",this.collapse,this),ae(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Se("a",s+"-toggle",a);_.href="#",_.title="Layers",_.setAttribute("role","button"),ae(_,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){We(x),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Se("div",s+"-base",f),this._separator=Se("div",s+"-separator",f),this._overlaysList=Se("div",s+"-overlays",f),a.appendChild(f)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,_){return this.options.sortFunction(f.layer,_.layer,f.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$r(this._baseLayersList),$r(this._overlaysList),this._layerControlInputs=[];var s,a,c,f,_=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,s=s||!f.overlay,_+=f.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(d(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),f;s.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(s.layer),ae(f,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var x=document.createElement("span");a.appendChild(x),x.appendChild(f),x.appendChild(_);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,c,f=[],_=[];this._handlingClick=!0;for(var x=s.length-1;x>=0;x--)a=s[x],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||_.push(c);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])&&this._map.removeLayer(_[x]);for(x=0;x<f.length;x++)this._map.hasLayer(f[x])||this._map.addLayer(f[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,f=this._map.getZoom(),_=s.length-1;_>=0;_--)a=s[_],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ae(s,"click",We),this.expand();var a=this;setTimeout(function(){De(s,"click",We),a._preventClick=!1})}}),fd=function(s,a,c){return new Na(s,a,c)},mi=qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=Se("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,f,_){var x=Se("a",c,f);return x.innerHTML=s,x.href="#",x.title=a,x.setAttribute("role","button"),x.setAttribute("aria-label",a),Wi(x),ae(x,"click",tn),ae(x,"click",_,this),ae(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";He(this._zoomInButton,a),He(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(_e(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(_e(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ee.mergeOptions({zoomControl:!0}),Ee.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new mi,this.addControl(this.zoomControl))});var Nu=function(s){return new mi(s)},$s=qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=Se("div",a),f=this.options;return this._addScales(f,a+"-line",c),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=Se("div",a,c)),s.imperial&&(this._iScale=Se("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,f,_;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(_=this._getRoundNum(a),this._updateScale(this._iScale,_+" ft",_/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),qs=function(s){return new $s(s)},Ru='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gi=qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?Ru+" ":"")+"Leaflet</a>"},initialize:function(s){O(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),Wi(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ee.mergeOptions({attributionControl:!0}),Ee.addInitHook(function(){this.options.attributionControl&&new Gi().addTo(this)});var pd=function(s){return new Gi(s)};qt.Layers=Na,qt.Zoom=mi,qt.Scale=$s,qt.Attribution=Gi,Ft.layers=fd,Ft.zoom=Nu,Ft.scale=qs,Ft.attribution=pd;var nn=Je.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(s,a){return s.addHandler(a,this),this};var qr={Events:dt},Ra=se.touch?"touchstart mousedown":"mousedown",Rn=Vt.extend({options:{clickTolerance:3},initialize:function(s,a,c,f){O(this,f),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(ae(this._dragStartTarget,Ra,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Rn._dragging===this&&this.finishDrag(!0),De(this._dragStartTarget,Ra,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ya(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Rn._dragging===this&&this.finishDrag();return}if(!(Rn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Rn._dragging=this,this._preventOutline&&pi(this._element),Ea(),Cn(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=Sa(this._element);this._startPoint=new W(a.clientX,a.clientY),this._startPos=fn(this._element),this._parentScale=Us(c);var f=s.type==="mousedown";ae(document,f?"mousemove":"touchmove",this._onMove,this),ae(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new W(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,We(s),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),he(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){He(document.body,"leaflet-dragging"),this._lastTarget&&(He(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),De(document,"mousemove touchmove",this._onMove,this),De(document,"mouseup touchend touchcancel",this._onUp,this),Ta(),Nn();var a=this._moved&&this._moving;this._moving=!1,Rn._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Ws(s,a,c){var f,_=[1,4,2,8],x,N,z,H,Z,te,le,xe;for(x=0,te=s.length;x<te;x++)s[x]._code=Wn(s[x],a);for(z=0;z<4;z++){for(le=_[z],f=[],x=0,te=s.length,N=te-1;x<te;N=x++)H=s[x],Z=s[N],H._code&le?Z._code&le||(xe=_t(Z,H,le,a,c),xe._code=Wn(xe,a),f.push(xe)):(Z._code&le&&(xe=_t(Z,H,le,a,c),xe._code=Wn(xe,a),f.push(xe)),f.push(H));s=f}return s}function Gs(s,a){var c,f,_,x,N,z,H,Z,te;if(!s||s.length===0)throw new Error("latlngs not passed");u(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var le=pe([0,0]),xe=Re(s),zt=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());zt<1700&&(le=Ks(s));var vt=s.length,vn=[];for(c=0;c<vt;c++){var Wt=pe(s[c]);vn.push(a.project(pe([Wt.lat-le.lat,Wt.lng-le.lng])))}for(z=H=Z=0,c=0,f=vt-1;c<vt;f=c++)_=vn[c],x=vn[f],N=_.y*x.x-x.y*_.x,H+=(_.x+x.x)*N,Z+=(_.y+x.y)*N,z+=N*3;z===0?te=vn[0]:te=[H/z,Z/z];var to=a.unproject(J(te));return pe([to.lat+le.lat,to.lng+le.lng])}function Ks(s){for(var a=0,c=0,f=0,_=0;_<s.length;_++){var x=pe(s[_]);a+=x.lat,c+=x.lng,f++}return pe([a/f,c/f])}var Zs={__proto__:null,clipPolygon:Ws,polygonCenter:Gs,centroid:Ks};function La(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=Mu(s,c),s=Lu(s,c),s}function Ma(s,a,c){return Math.sqrt(_n(s,a,c,!0))}function gi(s,a,c){return _n(s,a,c)}function Lu(s,a){var c=s.length,f=typeof Uint8Array<"u"?Uint8Array:Array,_=new f(c);_[0]=_[c-1]=1,Qs(s,_,a,0,c-1);var x,N=[];for(x=0;x<c;x++)_[x]&&N.push(s[x]);return N}function Qs(s,a,c,f,_){var x=0,N,z,H;for(z=f+1;z<=_-1;z++)H=_n(s[z],s[f],s[_],!0),H>x&&(N=z,x=H);x>c&&(a[N]=1,Qs(s,a,c,f,N),Qs(s,a,c,N,_))}function Mu(s,a){for(var c=[s[0]],f=1,_=0,x=s.length;f<x;f++)Ou(s[f],s[_])>a&&(c.push(s[f]),_=f);return _<x-1&&c.push(s[x-1]),c}var Oa;function Wr(s,a,c,f,_){var x=f?Oa:Wn(s,c),N=Wn(a,c),z,H,Z;for(Oa=N;;){if(!(x|N))return[s,a];if(x&N)return!1;z=x||N,H=_t(s,a,z,c,_),Z=Wn(H,c),z===x?(s=H,x=Z):(a=H,N=Z)}}function _t(s,a,c,f,_){var x=a.x-s.x,N=a.y-s.y,z=f.min,H=f.max,Z,te;return c&8?(Z=s.x+x*(H.y-s.y)/N,te=H.y):c&4?(Z=s.x+x*(z.y-s.y)/N,te=z.y):c&2?(Z=H.x,te=s.y+N*(H.x-s.x)/x):c&1&&(Z=z.x,te=s.y+N*(z.x-s.x)/x),new W(Z,te,_)}function Wn(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function Ou(s,a){var c=a.x-s.x,f=a.y-s.y;return c*c+f*f}function _n(s,a,c,f){var _=a.x,x=a.y,N=c.x-_,z=c.y-x,H=N*N+z*z,Z;return H>0&&(Z=((s.x-_)*N+(s.y-x)*z)/H,Z>1?(_=c.x,x=c.y):Z>0&&(_+=N*Z,x+=z*Z)),N=s.x-_,z=s.y-x,f?N*N+z*z:new W(_,x)}function u(s){return!b(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function g(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),u(s)}function v(s,a){var c,f,_,x,N,z,H,Z;if(!s||s.length===0)throw new Error("latlngs not passed");u(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var te=pe([0,0]),le=Re(s),xe=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());xe<1700&&(te=Ks(s));var zt=s.length,vt=[];for(c=0;c<zt;c++){var vn=pe(s[c]);vt.push(a.project(pe([vn.lat-te.lat,vn.lng-te.lng])))}for(c=0,f=0;c<zt-1;c++)f+=vt[c].distanceTo(vt[c+1])/2;if(f===0)Z=vt[0];else for(c=0,x=0;c<zt-1;c++)if(N=vt[c],z=vt[c+1],_=N.distanceTo(z),x+=_,x>f){H=(x-f)/_,Z=[z.x-H*(z.x-N.x),z.y-H*(z.y-N.y)];break}var Wt=a.unproject(J(Z));return pe([Wt.lat+te.lat,Wt.lng+te.lng])}var T={__proto__:null,simplify:La,pointToSegmentDistance:Ma,closestPointOnSegment:gi,clipSegment:Wr,_getEdgeIntersection:_t,_getBitCode:Wn,_sqClosestPointOnSegment:_n,isFlat:u,_flat:g,polylineCenter:v},F={project:function(s){return new W(s.lng,s.lat)},unproject:function(s){return new we(s.y,s.x)},bounds:new ce([-180,-90],[180,90])},q={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,f=s.lat*a,_=this.R_MINOR/c,x=Math.sqrt(1-_*_),N=x*Math.sin(f),z=Math.tan(Math.PI/4-f/2)/Math.pow((1-N)/(1+N),x/2);return f=-c*Math.log(Math.max(z,1e-10)),new W(s.lng*a*c,f)},unproject:function(s){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,_=Math.sqrt(1-f*f),x=Math.exp(-s.y/c),N=Math.PI/2-2*Math.atan(x),z=0,H=.1,Z;z<15&&Math.abs(H)>1e-7;z++)Z=_*Math.sin(N),Z=Math.pow((1-Z)/(1+Z),_/2),H=Math.PI/2-2*Math.atan(x*Z)-N,N+=H;return new we(N*a,s.x*a/c)}},ee={__proto__:null,LonLat:F,Mercator:q,SphericalMercator:Fi},Le=r({},$n,{code:"EPSG:3395",projection:q,transformation:function(){var s=.5/(Math.PI*q.R);return li(s,.5,-s,.5)}()}),ot=r({},$n,{code:"EPSG:4326",projection:F,transformation:li(1/180,1,-1/180,.5)}),ke=r({},ft,{projection:F,transformation:li(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,f=a.lat-s.lat;return Math.sqrt(c*c+f*f)},infinite:!0});ft.Earth=$n,ft.EPSG3395=Le,ft.EPSG3857=Lr,ft.EPSG900913=ra,ft.EPSG4326=ot,ft.Simple=ke;var je=Vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Ee.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=d(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?b(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=d(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var _=this._zoomBoundLayers[f].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),a=_.maxZoom===void 0?a:Math.max(a,_.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ge=je.extend({initialize:function(s,a){O(this,a),this._layers={};var c,f;if(s)for(c=0,f=s.length;c<f;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[s]&&f[s].apply(f,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),Ki=function(s,a){return new Ge(s,a)},nt=Ge.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ge.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ge.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ie;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),Ys=function(s,a){return new nt(s,a)},Gn=Je.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){O(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(s,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var _=J(f),x=J(a==="shadow"&&c.shadowAnchor||c.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),x&&(s.style.marginLeft=-x.x+"px",s.style.marginTop=-x.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return se.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function hT(s){return new Gn(s)}var Da=Gn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Da.imagePath!="string"&&(Da.imagePath=this._detectIconPath()),(this.options.imagePath||Da.imagePath)+Gn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,f,_){var x=f.exec(c);return x&&x[_]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Se("div","leaflet-default-icon-path",document.body),a=Bi(s,"background-image")||Bi(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ng=nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Rn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&He(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,x=fn(a._icon),N=c.getPixelBounds(),z=c.getPixelOrigin(),H=ve(N.min._subtract(z).add(_),N.max._subtract(z).subtract(_));if(!H.contains(x)){var Z=J((Math.max(H.max.x,x.x)-H.max.x)/(N.max.x-H.max.x)-(Math.min(H.min.x,x.x)-H.min.x)/(N.min.x-H.min.x),(Math.max(H.max.y,x.y)-H.max.y)/(N.max.y-H.max.y)-(Math.min(H.min.y,x.y)-H.min.y)/(N.min.y-H.min.y)).multiplyBy(f);c.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),he(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=j(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,f=fn(a._icon),_=a._map.layerPointToLatLng(f);c&&he(c,f),a._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Du=je.extend({options:{icon:new Da,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){O(this,a),this._latlng=pe(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=pe(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),_e(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(c,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),x=!1;_!==this._shadow&&(this._removeShadow(),x=!0),_&&(_e(_,a),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&x&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(this._icon,"focus",this._panOnFocus,this),Ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ve(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&he(this._icon,s),this._shadow&&he(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ng)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ng(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&et(this._icon,s),this._shadow&&et(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?J(a.iconSize):J(0,0),f=a.iconAnchor?J(a.iconAnchor):J(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dT(s,a){return new Du(s,a)}var Zi=je.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return O(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ju=Zi.extend({options:{fill:!0,radius:10},initialize:function(s,a){O(this,a),this._latlng=pe(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=pe(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return Zi.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),f=[s+c,a+c];this._pxBounds=new ce(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fT(s,a){return new ju(s,a)}var md=ju.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),O(this,a),this._latlng=pe(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Zi.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===$n.distance){var _=Math.PI/180,x=this._mRadius/$n.R/_,N=c.project([a+x,s]),z=c.project([a-x,s]),H=N.add(z).divideBy(2),Z=c.unproject(H).lat,te=Math.acos((Math.cos(x*_)-Math.sin(a*_)*Math.sin(Z*_))/(Math.cos(a*_)*Math.cos(Z*_)))/_;(isNaN(te)||te===0)&&(te=x/Math.cos(Math.PI/180*a)),this._point=H.subtract(c.getPixelOrigin()),this._radius=isNaN(te)?0:H.x-c.project([Z,s-te]).x,this._radiusY=H.y-N.y}else{var le=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(le).x}this._updateBounds()}});function pT(s,a,c){return new md(s,a,c)}var _i=Zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){O(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,f=_n,_,x,N=0,z=this._parts.length;N<z;N++)for(var H=this._parts[N],Z=1,te=H.length;Z<te;Z++){_=H[Z-1],x=H[Z];var le=f(s,_,x,!0);le<a&&(a=le,c=f(s,_,x))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=pe(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ie,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return u(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=u(s),f=0,_=s.length;f<_;f++)c?(a[f]=pe(s[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(s[f]);return a},_project:function(){var s=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new W(s,s);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var f=s[0]instanceof we,_=s.length,x,N;if(f){for(N=[],x=0;x<_;x++)N[x]=this._map.latLngToLayerPoint(s[x]),c.extend(N[x]);a.push(N)}else for(x=0;x<_;x++)this._projectLatlngs(s[x],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,_,x,N,z,H;for(c=0,_=0,x=this._rings.length;c<x;c++)for(H=this._rings[c],f=0,N=H.length;f<N-1;f++)z=Wr(H[f],H[f+1],s,f,!0),z&&(a[_]=a[_]||[],a[_].push(z[0]),(z[1]!==H[f+1]||f===N-2)&&(a[_].push(z[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,f=s.length;c<f;c++)s[c]=La(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,f,_,x,N,z,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,x=this._parts.length;c<x;c++)for(z=this._parts[c],f=0,N=z.length,_=N-1;f<N;_=f++)if(!(!a&&f===0)&&Ma(s,z[_],z[f])<=H)return!0;return!1}});function mT(s,a){return new _i(s,a)}_i._flat=g;var Xs=_i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=_i.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof we&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){_i.prototype._setLatLngs.call(this,s),u(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new W(a,a);if(s=new ce(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,_=this._rings.length,x;f<_;f++)x=Ws(this._rings[f],s,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,f,_,x,N,z,H,Z;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(x=0,H=this._parts.length;x<H;x++)for(c=this._parts[x],N=0,Z=c.length,z=Z-1;N<Z;z=N++)f=c[N],_=c[z],f.y>s.y!=_.y>s.y&&s.x<(_.x-f.x)*(s.y-f.y)/(_.y-f.y)+f.x&&(a=!a);return a||_i.prototype._containsPoint.call(this,s,!0)}});function gT(s,a){return new Xs(s,a)}var vi=nt.extend({initialize:function(s,a){O(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=b(s)?s:s.features,c,f,_;if(a){for(c=0,f=a.length;c<f;c++)_=a[c],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var x=this.options;if(x.filter&&!x.filter(s))return this;var N=Vu(s,x);return N?(N.feature=Uu(s),N.defaultOptions=N.options,this.resetStyle(N),x.onEachFeature&&x.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function Vu(s,a){var c=s.type==="Feature"?s.geometry:s,f=c?c.coordinates:null,_=[],x=a&&a.pointToLayer,N=a&&a.coordsToLatLng||gd,z,H,Z,te;if(!f&&!c)return null;switch(c.type){case"Point":return z=N(f),Rg(x,s,z,a);case"MultiPoint":for(Z=0,te=f.length;Z<te;Z++)z=N(f[Z]),_.push(Rg(x,s,z,a));return new nt(_);case"LineString":case"MultiLineString":return H=Fu(f,c.type==="LineString"?0:1,N),new _i(H,a);case"Polygon":case"MultiPolygon":return H=Fu(f,c.type==="Polygon"?1:2,N),new Xs(H,a);case"GeometryCollection":for(Z=0,te=c.geometries.length;Z<te;Z++){var le=Vu({geometry:c.geometries[Z],type:"Feature",properties:s.properties},a);le&&_.push(le)}return new nt(_);case"FeatureCollection":for(Z=0,te=c.features.length;Z<te;Z++){var xe=Vu(c.features[Z],a);xe&&_.push(xe)}return new nt(_);default:throw new Error("Invalid GeoJSON object.")}}function Rg(s,a,c,f){return s?s(a,c):new Du(c,f&&f.markersInheritOptions&&f)}function gd(s){return new we(s[1],s[0],s[2])}function Fu(s,a,c){for(var f=[],_=0,x=s.length,N;_<x;_++)N=a?Fu(s[_],a-1,c):(c||gd)(s[_]),f.push(N);return f}function _d(s,a){return s=pe(s),s.alt!==void 0?[E(s.lng,a),E(s.lat,a),E(s.alt,a)]:[E(s.lng,a),E(s.lat,a)]}function zu(s,a,c,f){for(var _=[],x=0,N=s.length;x<N;x++)_.push(a?zu(s[x],u(s[x])?0:a-1,c,f):_d(s[x],f));return!a&&c&&_.length>0&&_.push(_[0].slice()),_}function Js(s,a){return s.feature?r({},s.feature,{geometry:a}):Uu(a)}function Uu(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var vd={toGeoJSON:function(s){return Js(this,{type:"Point",coordinates:_d(this.getLatLng(),s)})}};Du.include(vd),md.include(vd),ju.include(vd),_i.include({toGeoJSON:function(s){var a=!u(this._latlngs),c=zu(this._latlngs,a?1:0,!1,s);return Js(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Xs.include({toGeoJSON:function(s){var a=!u(this._latlngs),c=a&&!u(this._latlngs[0]),f=zu(this._latlngs,c?2:a?1:0,!0,s);return a||(f=[f]),Js(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),Ge.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),Js(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(_){if(_.toGeoJSON){var x=_.toGeoJSON(s);if(c)f.push(x.geometry);else{var N=Uu(x);N.type==="FeatureCollection"?f.push.apply(f,N.features):f.push(N)}}}),c?Js(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Lg(s,a){return new vi(s,a)}var _T=Lg,Bu=je.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=Re(a),O(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&Hi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Re(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:Se("img");if(_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=w,a.onmousemove=w,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;qn(this._image,c,a)},_reset:function(){var s=this._image,a=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();he(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),vT=function(s,a,c){return new Bu(s,a,c)},Mg=Bu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:Se("video");if(_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=w,a.onmousemove=w,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),f=[],_=0;_<c.length;_++)f.push(c[_].src);this._url=c.length>0?f:[a.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var N=Se("source");N.src=this._url[x],a.appendChild(N)}}});function yT(s,a,c){return new Mg(s,a,c)}var Og=Bu.extend({_initImage:function(){var s=this._image=this._url;_e(s,"leaflet-image-layer"),this._zoomAnimated&&_e(s,"leaflet-zoom-animated"),this.options.className&&_e(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function wT(s,a,c){return new Og(s,a,c)}var Kn=je.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof we||b(s))?(this._latlng=pe(s),O(this,a)):(O(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&et(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(et(this._container,0),this._removeTimeout=setTimeout(l(Ve,void 0,this._container),200)):Ve(this._container),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=pe(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&Hi(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof nt){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=J(this.options.offset),c=this._getAnchor();this._zoomAnimated?he(this._container,s.add(c)):a=a.add(s).add(c);var f=this._containerBottom=-a.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Ee.include({_initOverlay:function(s,a,c,f){var _=a;return _ instanceof s||(_=new s(f).setContent(a)),c&&_.setLatLng(c),_}}),je.include({_initOverlay:function(s,a,c,f){var _=c;return _ instanceof s?(O(_,f),_._source=this):(_=a&&!f?a:new s(f,this),_.setContent(c)),_}});var Hu=Kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Kn.prototype.openOn.call(this,s)},onAdd:function(s){Kn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zi||this._source.on("preclick",gn))},onRemove:function(s){Kn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zi||this._source.off("preclick",gn))},getEvents:function(){var s=Kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=Se("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Se("div",s+"-content-wrapper",a);if(this._contentNode=Se("div",s+"-content",c),Wi(a),qi(this._contentNode),ae(a,"contextmenu",gn),this._tipContainer=Se("div",s+"-tip-container",a),this._tip=Se("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Se("a",s+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ae(f,"click",function(_){We(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=s.offsetHeight,_=this.options.maxHeight,x="leaflet-popup-scrolled";_&&f>_?(a.height=_+"px",_e(s,x)):He(s,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();he(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(Bi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,_=new W(this._containerLeft,-c-this._containerBottom);_._add(fn(this._container));var x=s.layerPointToContainerPoint(_),N=J(this.options.autoPanPadding),z=J(this.options.autoPanPaddingTopLeft||N),H=J(this.options.autoPanPaddingBottomRight||N),Z=s.getSize(),te=0,le=0;x.x+f+H.x>Z.x&&(te=x.x+f-Z.x+H.x),x.x-te-z.x<0&&(te=x.x-z.x),x.y+c+H.y>Z.y&&(le=x.y+c-Z.y+H.y),x.y-le-z.y<0&&(le=x.y-z.y),(te||le)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([te,le]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xT=function(s,a){return new Hu(s,a)};Ee.mergeOptions({closePopupOnClick:!0}),Ee.include({openPopup:function(s,a,c){return this._initOverlay(Hu,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),je.include({bindPopup:function(s,a){return this._popup=this._initOverlay(Hu,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof nt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){tn(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof Zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var $u=Kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Kn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Kn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Kn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,f=this._map,_=this._container,x=f.latLngToContainerPoint(f.getCenter()),N=f.layerPointToContainerPoint(s),z=this.options.direction,H=_.offsetWidth,Z=_.offsetHeight,te=J(this.options.offset),le=this._getAnchor();z==="top"?(a=H/2,c=Z):z==="bottom"?(a=H/2,c=0):z==="center"?(a=H/2,c=Z/2):z==="right"?(a=0,c=Z/2):z==="left"?(a=H,c=Z/2):N.x<x.x?(z="right",a=0,c=Z/2):(z="left",a=H+(te.x+le.x)*2,c=Z/2),s=s.subtract(J(a,c,!0)).add(te).add(le),He(_,"leaflet-tooltip-right"),He(_,"leaflet-tooltip-left"),He(_,"leaflet-tooltip-top"),He(_,"leaflet-tooltip-bottom"),_e(_,"leaflet-tooltip-"+z),he(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&et(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ET=function(s,a){return new $u(s,a)};Ee.include({openTooltip:function(s,a,c){return this._initOverlay($u,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),je.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($u,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof nt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(ae(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ae(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,c,f;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Dg=Gn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?($r(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=J(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function TT(s){return new Dg(s)}Gn.Default=Da;var ja=je.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){O(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ve(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof W?s:new W(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),f=0,_=a.length,x;f<_;f++)x=a[f].style.zIndex,a[f]!==this._container&&x&&(c=s(c,+x));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){et(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var f in this._tiles){var _=this._tiles[f];if(!(!_.current||!_.loaded)){var x=Math.min(1,(s-_.loaded)/200);et(_.el,x),x<1?a=!0:(_.active?c=!0:this._onOpaqueTile(_),_.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(V(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(Ve(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[s],_=this._map;return f||(f=this._levels[s]={},f.el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,_.getCenter(),_.getZoom()),w(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ve(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,f){var _=Math.floor(s/2),x=Math.floor(a/2),N=c-1,z=new W(+_,+x);z.z=+N;var H=this._tileCoordsToKey(z),Z=this._tiles[H];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),N>f?this._retainParent(_,x,N,f):!1)},_retainChildren:function(s,a,c,f){for(var _=2*s;_<2*s+2;_++)for(var x=2*a;x<2*a+2;x++){var N=new W(_,x);N.z=c+1;var z=this._tileCoordsToKey(N),H=this._tiles[z];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);c+1<f&&this._retainChildren(_,x,c+1,f)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,f){var _=Math.round(a);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var x=this.options.updateWhenZooming&&_!==this._tileZoom;(!f||x)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var f=this._map.getZoomScale(c,s.zoom),_=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();se.any3d?qn(s.el,_,f):he(s.el,_)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),_=a.project(s,this._tileZoom).floor(),x=a.getSize().divideBy(f*2);return new ce(_.subtract(x),_.add(x))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(f),x=_.getCenter(),N=[],z=this.options.keepBuffer,H=new ce(_.getBottomLeft().subtract([z,-z]),_.getTopRight().add([z,-z]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var te=this._tiles[Z].coords;(te.z!==this._tileZoom||!H.contains(new W(te.x,te.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var le=_.min.y;le<=_.max.y;le++)for(var xe=_.min.x;xe<=_.max.x;xe++){var zt=new W(xe,le);if(zt.z=this._tileZoom,!!this._isValidTile(zt)){var vt=this._tiles[this._tileCoordsToKey(zt)];vt?vt.current=!0:N.push(zt)}}if(N.sort(function(Wt,to){return Wt.distanceTo(x)-to.distanceTo(x)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vn=document.createDocumentFragment();for(xe=0;xe<N.length;xe++)this._addTile(N[xe],vn);this._level.el.appendChild(vn)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return Re(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),f=s.scaleBy(c),_=f.add(c),x=a.unproject(f,s.z),N=a.unproject(_,s.z);return[x,N]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new Ie(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new W(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(Ve(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){_e(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=w,s.onmousemove=w,se.ielt9&&this.options.opacity<1&&et(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),f=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&j(l(this._tileReady,this,s,null,_)),he(_,c),this._tiles[f]={el:_,coords:s,current:!0},a.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var f=this._tileCoordsToKey(s);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(et(c.el,0),V(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(_e(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new W(this._wrapX?y(s.x,this._wrapX):s.x,this._wrapY?y(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new ce(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function IT(s){return new ja(s)}var eo=ja.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=O(this,a),a.detectRetina&&se.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return ae(c,"load",l(this._tileOnLoad,this,a,c)),ae(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:se.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return P(this._url,r(a,this.options))},_tileOnLoad:function(s,a){se.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(s=a-s),s+f},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=w,a.onerror=w,!a.complete)){a.src=K;var c=this._tiles[s].coords;Ve(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",K),ja.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===K))return ja.prototype._tileReady.call(this,s,a,c)}});function jg(s,a){return new eo(s,a)}var Vg=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=O(this,a);var _=a.detectRetina&&se.retina?2:1,x=this.getTileSize();c.width=x.x*_,c.height=x.y*_,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,eo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,f=ve(c.project(a[0]),c.project(a[1])),_=f.min,x=f.max,N=(this._wmsVersion>=1.3&&this._crs===ot?[_.y,_.x,x.y,x.x]:[_.x,_.y,x.x,x.y]).join(","),z=eo.prototype.getTileUrl.call(this,s);return z+U(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function ST(s,a){return new Vg(s,a)}eo.WMS=Vg,jg.wms=ST;var yi=je.extend({options:{padding:.1},initialize:function(s){O(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,a),x=f.multiplyBy(-c).add(_).subtract(this._map._getNewPixelOrigin(s,a));se.any3d?qn(this._container,x,c):he(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new ce(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fg=yi.extend({options:{tolerance:0},getEvents:function(){var s=yi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ae(s,"mousemove",this._onMouseMove,this),ae(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ae(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,Ve(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yi.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),f=se.retina?2:1;he(a,s.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){yi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],f,_;for(_=0;_<a.length;_++){if(f=Number(a[_]),isNaN(f))return;c.push(f)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,f,_,x,N=s._parts,z=N.length,H=this._ctx;if(z){for(H.beginPath(),c=0;c<z;c++){for(f=0,_=N[c].length;f<_;f++)x=N[c][f],H[f?"lineTo":"moveTo"](x.x,x.y);a&&H.closePath()}this._fillStroke(H,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,f=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||f)/f;_!==1&&(c.save(),c.scale(1,_)),c.beginPath(),c.arc(a.x,a.y/_,f,0,Math.PI*2,!1),_!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,f,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(He(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,f,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(_e(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function zg(s){return se.canvas?new Fg(s):null}var Va=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),PT={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=Va("shape");_e(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=Va("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;Ve(a),s.removeInteractiveTarget(a),delete this._layers[d(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,f=s.options,_=s._container;_.stroked=!!f.stroke,_.filled=!!f.fill,f.stroke?(a||(a=s._stroke=Va("stroke")),_.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=b(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(_.removeChild(a),s._stroke=null),f.fill?(c||(c=s._fill=Va("fill")),_.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(_.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),f=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){di(s._container)},_bringToBack:function(s){Hi(s._container)}},qu=se.vml?Va:Ss,Fa=yi.extend({_initContainer:function(){this._container=qu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ve(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yi.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),he(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=qu("path");s.options.className&&_e(a,s.options.className),s.options.interactive&&_e(a,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ve(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,sa(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),f=Math.max(Math.round(s._radiusY),1)||c,_="a"+c+","+f+" 0 1,0 ",x=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+_+c*2+",0 "+_+-c*2+",0 ";this._setPath(s,x)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){di(s._path)},_bringToBack:function(s){Hi(s._path)}});se.vml&&Fa.include(PT);function Ug(s){return se.svg||se.vml?new Fa(s):null}Ee.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&zg(s)||Ug(s)}});var Bg=Xs.extend({initialize:function(s,a){Xs.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Re(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function bT(s,a){return new Bg(s,a)}Fa.create=qu,Fa.pointsToPath=sa,vi.geometryToLayer=Vu,vi.coordsToLatLng=gd,vi.coordsToLatLngs=Fu,vi.latLngToCoords=_d,vi.latLngsToCoords=zu,vi.getFeature=Js,vi.asFeature=Uu,Ee.mergeOptions({boxZoom:!0});var Hg=nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cn(),Ea(),this._startPoint=this._map.mouseEventToContainerPoint(s),ae(document,{contextmenu:tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new ce(this._point,this._startPoint),c=a.getSize();he(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ve(this._box),He(this._container,"leaflet-crosshair")),Nn(),Ta(),De(document,{contextmenu:tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ee.addInitHook("addHandler","boxZoom",Hg),Ee.mergeOptions({doubleClickZoom:!0});var $g=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,_=s.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(_):a.setZoomAround(s.containerPoint,_)}});Ee.addInitHook("addHandler","doubleClickZoom",$g),Ee.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qg=nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Rn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){He(this._map._container,"leaflet-grab"),He(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Re(this._map.options.maxBounds);this._offsetLimit=ve(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,_=(f-a+c)%s+a-c,x=(f+a+c)%s-a-c,N=Math.abs(_+c)<Math.abs(x+c)?_:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var a=this._map,c=a.options,f=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),f)a.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,N=c.easeLinearity,z=_.multiplyBy(N/x),H=z.distanceTo([0,0]),Z=Math.min(c.inertiaMaxSpeed,H),te=z.multiplyBy(Z/H),le=Z/(c.inertiaDeceleration*N),xe=te.multiplyBy(-le/2).round();!xe.x&&!xe.y?a.fire("moveend"):(xe=a._limitOffset(xe,a.options.maxBounds),j(function(){a.panBy(xe,{duration:le,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Ee.addInitHook("addHandler","dragging",qg),Ee.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wg=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ae(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,f=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,f,_;for(f=0,_=c.left.length;f<_;f++)a[c.left[f]]=[-1*s,0];for(f=0,_=c.right.length;f<_;f++)a[c.right[f]]=[s,0];for(f=0,_=c.down.length;f<_;f++)a[c.down[f]]=[0,s];for(f=0,_=c.up.length;f<_;f++)a[c.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,f,_;for(f=0,_=c.zoomIn.length;f<_;f++)a[c.zoomIn[f]]=s;for(f=0,_=c.zoomOut.length;f<_;f++)a[c.zoomOut[f]]=-s},_addHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],s.shiftKey&&(f=J(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(J(f),c.options.maxBounds)),c.options.worldCopyJump){var _=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(_)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;tn(s)}}});Ee.addInitHook("addHandler","keyboard",Wg),Ee.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Gg=nn.extend({addHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=Au(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),tn(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,x=c?Math.ceil(_/c)*c:_,N=s._limitZoom(a+(this._delta>0?x:-x))-a;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+N):s.setZoomAround(this._lastMousePos,a+N))}});Ee.addInitHook("addHandler","scrollWheelZoom",Gg);var kT=600;Ee.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var Kg=nn.extend({addHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new W(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ae(document,"touchend",We),ae(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),kT),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){De(document,"touchend",We),De(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new W(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Ee.addInitHook("addHandler","tapHold",Kg),Ee.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var Zg=nn.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){He(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),f=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),We(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),f=a.mouseEventToContainerPoint(s.touches[1]),_=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(_,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&_<1||this._zoom>a.getMaxZoom()&&_>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var x=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(_===1&&x.x===0&&x.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var N=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(N,this,!0),We(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ee.addInitHook("addHandler","touchZoom",Zg),Ee.BoxZoom=Hg,Ee.DoubleClickZoom=$g,Ee.Drag=qg,Ee.Keyboard=Wg,Ee.ScrollWheelZoom=Gg,Ee.TapHold=Kg,Ee.TouchZoom=Zg,n.Bounds=ce,n.Browser=se,n.CRS=ft,n.Canvas=Fg,n.Circle=md,n.CircleMarker=ju,n.Class=Je,n.Control=qt,n.DivIcon=Dg,n.DivOverlay=Kn,n.DomEvent=Cu,n.DomUtil=bu,n.Draggable=Rn,n.Evented=Vt,n.FeatureGroup=nt,n.GeoJSON=vi,n.GridLayer=ja,n.Handler=nn,n.Icon=Gn,n.ImageOverlay=Bu,n.LatLng=we,n.LatLngBounds=Ie,n.Layer=je,n.LayerGroup=Ge,n.LineUtil=T,n.Map=Ee,n.Marker=Du,n.Mixin=qr,n.Path=Zi,n.Point=W,n.PolyUtil=Zs,n.Polygon=Xs,n.Polyline=_i,n.Popup=Hu,n.PosAnimation=Ca,n.Projection=ee,n.Rectangle=Bg,n.Renderer=yi,n.SVG=Fa,n.SVGOverlay=Og,n.TileLayer=eo,n.Tooltip=$u,n.Transformation=zi,n.Util=M,n.VideoOverlay=Mg,n.bind=l,n.bounds=ve,n.canvas=zg,n.circle=pT,n.circleMarker=fT,n.control=Ft,n.divIcon=TT,n.extend=r,n.featureGroup=Ys,n.geoJSON=Lg,n.geoJson=_T,n.gridLayer=IT,n.icon=hT,n.imageOverlay=vT,n.latLng=pe,n.latLngBounds=Re,n.layerGroup=Ki,n.map=Hs,n.marker=dT,n.point=J,n.polygon=gT,n.polyline=mT,n.popup=xT,n.rectangle=bT,n.setOptions=O,n.stamp=d,n.svg=Ug,n.svgOverlay=wT,n.tileLayer=jg,n.tooltip=ET,n.transformation=li,n.version=i,n.videoOverlay=yT;var AT=window.L;n.noConflict=function(){return window.L=AT,this},window.L=n})})(Np,Np.exports);var cu=Np.exports;function Ag(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Cg(t,e){return e==null?function(i,r){const o=$.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=$.useRef();o.current||(o.current=t(i,r));const l=$.useRef(i),{instance:h}=o.current;return $.useEffect(function(){l.current!==i&&(e(h,i,l.current),l.current=i)},[h,i,r]),o}}function fO(t,e){$.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function cT(t){return function(n){const i=lT(),r=t(kg(n,i),i);return sT(i.map,n.attribution),uT(r.current,n.eventHandlers),fO(r.current,i),r}}function pO(t,e){const n=Cg(t,e),i=cT(n);return uO(i)}function mO(t,e){const n=Cg(t),i=dO(n,e);return cO(i)}function gO(t,e){const n=Cg(t,e),i=cT(n);return hO(i)}function _O(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Rp(){return Rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rp.apply(this,arguments)}function vO({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:h,whenReady:d,zoom:m,...y},w){const[E]=$.useState({className:r,id:o,style:h}),[C,D]=$.useState(null);$.useImperativeHandle(w,()=>(C==null?void 0:C.map)??null,[C]);const O=$.useCallback(S=>{if(S!==null&&C===null){const P=new cu.Map(S,y);n!=null&&m!=null?P.setView(n,m):t!=null&&P.fitBounds(t,e),d!=null&&P.whenReady(d),D(aO(P))}},[]);$.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const U=C?Fc.createElement(aT,{value:C},i):l??null;return Fc.createElement("div",Rp({},E,{ref:O}),U)}const yO=$.forwardRef(vO),wO=pO(function({position:e,...n},i){const r=new cu.Marker(e,n);return Ag(r,lO(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),xO=mO(function(e,n){const i=new cu.Popup(e,n.overlayContainer);return Ag(i,n)},function(e,n,{position:i},r){$.useEffect(function(){const{instance:l}=e;function h(m){m.popup===l&&(l.update(),r(!0))}function d(m){m.popup===l&&r(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var y;n.map.off({popupopen:h,popupclose:d}),(y=n.overlayContainer)==null||y.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,i])}),EO=gO(function({url:e,...n},i){const r=new cu.TileLayer(e,kg(n,i));return Ag(r,i)},function(e,n,i){_O(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),By=[{id:"1",name:"Dashashwamedh Ghat",nameHindi:"दशाश्वमेध घाट",type:"ghat",lat:25.3176,lng:83.0199,description:"Most famous ghat known for evening Ganga Aarti",descriptionHindi:"शाम की गंगा आरती के लिए प्रसिद्ध सबसे मशहूर घाट"},{id:"2",name:"Kashi Vishwanath Temple",nameHindi:"काशी विश्वनाथ मंदिर",type:"temple",lat:25.3109,lng:83.0107,description:"One of the most sacred Shiva temples in India",descriptionHindi:"भारत के सबसे पवित्र शिव मंदिरों में से एक"},{id:"3",name:"Assi Ghat",nameHindi:"अस्सी घाट",type:"ghat",lat:25.2867,lng:83.0199,description:"Popular ghat for sunrise boat rides and yoga",descriptionHindi:"सूर्योदय नाव सवारी और योग के लिए लोकप्रिय घाट"},{id:"4",name:"Manikarnika Ghat",nameHindi:"मणिकर्णिका घाट",type:"ghat",lat:25.3072,lng:83.0138,description:"Sacred cremation ghat, one of the oldest in Varanasi",descriptionHindi:"पवित्र श्मशान घाट, वाराणसी के सबसे पुराने घाटों में से एक"},{id:"5",name:"Sarnath",nameHindi:"सारनाथ",type:"temple",lat:25.3811,lng:83.0362,description:"Buddhist pilgrimage site where Buddha gave his first sermon",descriptionHindi:"बौद्ध तीर्थ स्थल जहाँ बुद्ध ने अपना पहला उपदेश दिया था"},{id:"6",name:"Godowlia Market",nameHindi:"गोदौलिया बाजार",type:"market",lat:25.3176,lng:83.0131,description:"Bustling market for silk, handicrafts, and street food",descriptionHindi:"रेशम, हस्तशिल्प और स्ट्रीट फूड के लिए व्यस्त बाजार"},{id:"7",name:"Blue Lassi Shop",nameHindi:"ब्लू लस्सी शॉप",type:"restaurant",lat:25.3109,lng:83.012,description:"Famous lassi shop near Kashi Vishwanath Temple",descriptionHindi:"काशी विश्वनाथ मंदिर के पास प्रसिद्ध लस्सी की दुकान"},{id:"8",name:"Ramnagar Fort",nameHindi:"रामनगर किला",type:"temple",lat:25.2644,lng:83.0362,description:"Historic fort and museum on the eastern bank of Ganges",descriptionHindi:"गंगा के पूर्वी तट पर ऐतिहासिक किला और संग्रहालय"},{id:"9",name:"Banaras Hindu University",nameHindi:"बनारस हिंदू विश्वविद्यालय",type:"temple",lat:25.2677,lng:82.9913,description:"One of the largest residential universities in Asia with beautiful campus",descriptionHindi:"एशिया के सबसे बड़े आवासीय विश्वविद्यालयों में से एक सुंदर परिसर के साथ"},{id:"10",name:"Tulsi Manas Temple",nameHindi:"तुलसी मानस मंदिर",type:"temple",lat:25.2854,lng:83.0199,description:"Modern temple dedicated to Lord Rama with beautiful marble architecture",descriptionHindi:"भगवान राम को समर्पित आधुनिक मंदिर सुंदर संगमरमर की वास्तुकला के साथ"},{id:"11",name:"Durga Temple (Monkey Temple)",nameHindi:"दुर्गा मंदिर (बंदर मंदिर)",type:"temple",lat:25.2854,lng:83.0199,description:"Famous temple dedicated to Goddess Durga, known for resident monkeys",descriptionHindi:"देवी दुर्गा को समर्पित प्रसिद्ध मंदिर, निवासी बंदरों के लिए जाना जाता है"},{id:"12",name:"Sankat Mochan Hanuman Temple",nameHindi:"संकट मोचन हनुमान मंदिर",type:"temple",lat:25.2854,lng:83.0199,description:"Popular Hanuman temple founded by Tulsidas, attracts thousands of devotees",descriptionHindi:"तुलसीदास द्वारा स्थापित लोकप्रिय हनुमान मंदिर, हजारों भक्तों को आकर्षित करता है"},{id:"13",name:"Kedar Ghat",nameHindi:"केदार घाट",type:"ghat",lat:25.3109,lng:83.0138,description:"Sacred ghat with Kedareshwar Temple, popular for religious ceremonies",descriptionHindi:"केदारेश्वर मंदिर के साथ पवित्र घाट, धार्मिक समारोहों के लिए लोकप्रिय"},{id:"14",name:"Harishchandra Ghat",nameHindi:"हरिश्चंद्र घाट",type:"ghat",lat:25.3072,lng:83.0138,description:"One of the oldest cremation ghats in Varanasi with historical significance",descriptionHindi:"वाराणसी के सबसे पुराने श्मशान घाटों में से एक ऐतिहासिक महत्व के साथ"},{id:"15",name:"Chet Singh Ghat",nameHindi:"चेत सिंह घाट",type:"ghat",lat:25.295,lng:83.0199,description:"Historic ghat with beautiful architecture and fort ruins",descriptionHindi:"सुंदर वास्तुकला और किले के खंडहरों के साथ ऐतिहासिक घाट"},{id:"16",name:"Vishwanath Gali",nameHindi:"विश्वनाथ गली",type:"market",lat:25.3109,lng:83.012,description:"Narrow lane leading to Kashi Vishwanath Temple with shops and eateries",descriptionHindi:"काशी विश्वनाथ मंदिर की ओर जाने वाली संकरी गली दुकानों और भोजनालयों के साथ"},{id:"17",name:"Thatheri Bazaar",nameHindi:"ठठेरी बाजार",type:"market",lat:25.3176,lng:83.0131,description:"Traditional market famous for brass and copper utensils",descriptionHindi:"पीतल और तांबे के बर्तनों के लिए प्रसिद्ध पारंपरिक बाजार"},{id:"18",name:"Kachori Gali",nameHindi:"कचौड़ी गली",type:"restaurant",lat:25.3176,lng:83.0131,description:"Famous street food lane known for delicious kachoris and chaats",descriptionHindi:"स्वादिष्ट कचौड़ी और चाट के लिए प्रसिद्ध स्ट्रीट फूड गली"},{id:"19",name:"Deena Chaat Bhandar",nameHindi:"दीना चाट भंडार",type:"restaurant",lat:25.3176,lng:83.0131,description:"Iconic chaat shop serving authentic Banarasi street food since decades",descriptionHindi:"दशकों से प्रामाणिक बनारसी स्ट्रीट फूड परोसने वाली प्रतिष्ठित चाट की दुकान"},{id:"20",name:"Alamgir Mosque",nameHindi:"आलमगीर मस्जिद",type:"temple",lat:25.3109,lng:83.0107,description:"Historic mosque built by Aurangzeb, showcasing Mughal architecture",descriptionHindi:"औरंगजेब द्वारा निर्मित ऐतिहासिक मस्जिद, मुगल वास्तुकला का प्रदर्शन"}],TO=new cu.Icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),IO=()=>{const[t,e]=$.useState("all"),[n,i]=$.useState("english"),r=[{id:"all",name:"All Locations",nameHindi:"सभी स्थान"},{id:"ghat",name:"Ghats",nameHindi:"घाट"},{id:"temple",name:"Temples",nameHindi:"मंदिर"},{id:"market",name:"Markets",nameHindi:"बाजार"},{id:"restaurant",name:"Restaurants",nameHindi:"रेस्तराँ"}],o=t==="all"?By:By.filter(h=>h.type===t),l=h=>({ghat:"#3B82F6",temple:"#F59E0B",market:"#10B981",restaurant:"#EF4444"})[h]||"#6B7280";return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-white shadow-sm border-b",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Varanasi Interactive Map"}),p.jsx("p",{className:"text-lg text-gray-600",children:"वाराणसी इंटरैक्टिव नक्शा"})]}),p.jsx("div",{className:"flex justify-center mb-6",children:p.jsxs("div",{className:"bg-gray-100 rounded-full p-1",children:[p.jsx("button",{onClick:()=>i("english"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n==="english"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"English"}),p.jsx("button",{onClick:()=>i("hindi"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n==="hindi"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"हिंदी"})]})}),p.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.map(h=>p.jsx("button",{onClick:()=>e(h.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===h.id?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:border-orange-300"}`,children:n==="hindi"?h.nameHindi:h.name},h.id))})]})}),p.jsx("div",{className:"relative",children:p.jsx("div",{className:"h-96 md:h-[600px]",children:p.jsxs(yO,{center:[25.3176,83.0199],zoom:13,style:{height:"100%",width:"100%"},children:[p.jsx(EO,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.map(h=>p.jsx(wO,{position:[h.lat,h.lng],icon:TO,children:p.jsx(xO,{children:p.jsxs("div",{className:"p-2 min-w-[200px]",children:[p.jsx("h3",{className:"font-bold text-lg mb-2",children:n==="hindi"?h.nameHindi:h.name}),p.jsx("p",{className:"text-gray-600 mb-3",children:n==="hindi"?h.descriptionHindi:h.description}),p.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[p.jsx(ri,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:h.type.charAt(0).toUpperCase()+h.type.slice(1)})]}),p.jsxs("button",{onClick:()=>{const d=`https://www.google.com/maps/dir/?api=1&destination=${h.lat},${h.lng}`;window.open(d,"_blank")},className:"bg-orange-500 text-white px-3 py-1 rounded text-sm hover:bg-orange-600 transition-colors flex items-center",children:[p.jsx(Ac,{className:"h-3 w-3 mr-1"}),n==="hindi"?"दिशा":"Directions"]})]})})},h.id))]})})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:n==="hindi"?"स्थान सूची":"Location Directory"}),p.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(h=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n==="hindi"?h.nameHindi:h.name}),p.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:l(h.type)},children:h.type})]}),p.jsx("p",{className:"text-gray-600 mb-4",children:n==="hindi"?h.descriptionHindi:h.description}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[p.jsx(ri,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:[h.lat.toFixed(4),", ",h.lng.toFixed(4)]})]}),p.jsxs("button",{onClick:()=>{const d=`https://www.google.com/maps/dir/?api=1&destination=${h.lat},${h.lng}`;window.open(d,"_blank")},className:"bg-orange-500 text-white px-3 py-1 rounded text-sm hover:bg-orange-600 transition-colors flex items-center",children:[p.jsx(Ac,{className:"h-3 w-3 mr-1"}),n==="hindi"?"दिशा":"Get Directions"]})]})]},h.id))})]}),p.jsx("div",{className:"bg-orange-50 py-12",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:n==="hindi"?"यात्रा सुझाव":"Travel Tips"}),p.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx(Am,{className:"h-8 w-8 text-orange-600 mb-4"}),p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n==="hindi"?"सबसे अच्छा समय":"Best Time to Visit"}),p.jsx("p",{className:"text-gray-600 text-sm",children:n==="hindi"?"सुबह 5-8 बजे और शाम 6-8 बजे घाटों पर जाने का सबसे अच्छा समय है।":"Early morning (5-8 AM) and evening (6-8 PM) are the best times to visit the ghats."})]}),p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx(Ac,{className:"h-8 w-8 text-orange-600 mb-4"}),p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n==="hindi"?"परिवहन":"Transportation"}),p.jsx("p",{className:"text-gray-600 text-sm",children:n==="hindi"?"ऑटो-रिक्शा, साइकिल रिक्शा, और नाव मुख्य परिवहन साधन हैं।":"Auto-rickshaws, cycle rickshaws, and boats are the main modes of transport."})]}),p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx(vx,{className:"h-8 w-8 text-orange-600 mb-4"}),p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n==="hindi"?"आपातकालीन संपर्क":"Emergency Contacts"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Police: 100 | Fire: 101 | Ambulance: 108 | Tourist Helpline: 1363"})]})]})]})})]})},SO=()=>{const[t,e]=$.useState([]),[n,i]=$.useState("english"),[r,o]=$.useState(!0),[l,h]=$.useState(!1),[d,m]=$.useState({title:"",titleHindi:"",date:"",description:"",descriptionHindi:"",location:""}),[y,w]=$.useState(!1),E=[{id:"1",title:"Ganga Aarti at Dashashwamedh Ghat",titleHindi:"दशाश्वमेध घाट पर गंगा आरती",date:new Date("2025-01-15T19:00:00"),description:"Daily evening Ganga Aarti ceremony with traditional rituals and prayers",descriptionHindi:"पारंपरिक अनुष्ठानों और प्रार्थनाओं के साथ दैनिक शाम की गंगा आरती समारोह",location:"Dashashwamedh Ghat"},{id:"2",title:"Makar Sankranti Festival",titleHindi:"मकर संक्रांति उत्सव",date:new Date("2025-01-14T06:00:00"),description:"Traditional kite flying festival and holy dip in the Ganges",descriptionHindi:"पारंपरिक पतंग उड़ाने का त्योहार और गंगा में पवित्र स्नान",location:"All Ghats"},{id:"3",title:"Mahashivratri Celebration",titleHindi:"महाशिवरात्रि उत्सव",date:new Date("2025-02-26T00:00:00"),description:"Grand celebration at Kashi Vishwanath Temple with special prayers",descriptionHindi:"काशी विश्वनाथ मंदिर में विशेष प्रार्थनाओं के साथ भव्य उत्सव",location:"Kashi Vishwanath Temple"},{id:"4",title:"Holi Festival",titleHindi:"होली उत्सव",date:new Date("2025-03-14T10:00:00"),description:"Festival of colors celebrated with great enthusiasm across the city",descriptionHindi:"पूरे शहर में बड़े उत्साह के साथ मनाया जाने वाला रंगों का त्योहार",location:"Citywide"}];$.useEffect(()=>{C()},[]);const C=async()=>{try{const S=await rT(),P=[...E,...S];P.sort((b,B)=>b.date.getTime()-B.date.getTime()),e(P)}catch(S){console.error("Error loading events:",S),e(E)}finally{o(!1)}},D=async S=>{if(S.preventDefault(),!(!d.title||!d.date||!d.description))try{w(!0),await YM({title:d.title,titleHindi:d.titleHindi||void 0,date:new Date(d.date),description:d.description,descriptionHindi:d.descriptionHindi||void 0,location:d.location||void 0}),await C(),m({title:"",titleHindi:"",date:"",description:"",descriptionHindi:"",location:""}),h(!1),alert("Event added successfully!")}catch(P){console.error("Error adding event:",P),alert("Error adding event. Please try again.")}finally{w(!1)}},O=S=>S.toLocaleDateString(n==="hindi"?"hi-IN":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),U=S=>S.toLocaleTimeString(n==="hindi"?"hi-IN":"en-US",{hour:"2-digit",minute:"2-digit"});return r?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Upcoming Events in Varanasi"}),p.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"वाराणसी में आगामी कार्यक्रम"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover festivals, ceremonies, and cultural events happening in the spiritual capital of India."})]}),p.jsx("div",{className:"flex justify-center mb-8",children:p.jsxs("div",{className:"bg-white rounded-full p-1 shadow-md",children:[p.jsx("button",{onClick:()=>i("english"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${n==="english"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"English"}),p.jsx("button",{onClick:()=>i("hindi"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${n==="hindi"?"bg-orange-500 text-white":"text-gray-600 hover:text-orange-500"}`,children:"हिंदी"})]})}),p.jsx("div",{className:"text-center mb-8",children:p.jsxs("button",{onClick:()=>h(!l),className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors inline-flex items-center",children:[p.jsx(yx,{className:"h-5 w-5 mr-2"}),n==="hindi"?"कार्यक्रम जोड़ें":"Add Event"]})}),l&&p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:n==="hindi"?"नया कार्यक्रम जोड़ें":"Add New Event"}),p.jsxs("form",{onSubmit:D,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (English) *"}),p.jsx("input",{type:"text",value:d.title,onChange:S=>m({...d,title:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Hindi)"}),p.jsx("input",{type:"text",value:d.titleHindi,onChange:S=>m({...d,titleHindi:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date & Time *"}),p.jsx("input",{type:"datetime-local",value:d.date,onChange:S=>m({...d,date:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),p.jsx("input",{type:"text",value:d.location,onChange:S=>m({...d,location:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (English) *"}),p.jsx("textarea",{value:d.description,onChange:S=>m({...d,description:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Hindi)"}),p.jsx("textarea",{value:d.descriptionHindi,onChange:S=>m({...d,descriptionHindi:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:y,children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y,children:y?"Adding...":"Add Event"})]})]})]}),t.length>0?p.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(S=>p.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"flex items-start justify-between mb-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n==="hindi"&&S.titleHindi?S.titleHindi:S.title}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[p.jsx(dh,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:O(S.date)})]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[p.jsx(Am,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:U(S.date)})]}),S.location&&p.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[p.jsx(ri,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:S.location})]})]})}),p.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n==="hindi"&&S.descriptionHindi?S.descriptionHindi:S.description}),p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:S.date>new Date?p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:n==="hindi"?"आगामी":"Upcoming"}):p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:n==="hindi"?"समाप्त":"Past Event"})})]})},S.id))}):p.jsxs("div",{className:"text-center py-16",children:[p.jsx(dh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n==="hindi"?"कोई कार्यक्रम नहीं मिला":"No Events Found"}),p.jsx("p",{className:"text-gray-600",children:n==="hindi"?"फिलहाल कोई कार्यक्रम उपलब्ध नहीं है।":"No events are currently available."})]})]})})},PO=()=>{const[t,e]=$.useState({name:"",email:"",subject:"",message:""}),[n,i]=$.useState(!1),[r,o]=$.useState(!1),l=async d=>{d.preventDefault(),i(!0),setTimeout(()=>{o(!0),i(!1),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>o(!1),3e3)},1e3)},h=d=>{e({...t,[d.target.name]:d.target.value})};return p.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),p.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"संपर्क करें"}),p.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Have questions about Varanasi or need assistance with your travel plans? We're here to help you explore the spiritual capital of India."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Get in Touch / संपर्क में रहें"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:p.jsx(_x,{className:"h-6 w-6 text-orange-600"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Email"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Send us an email anytime"}),p.jsx("a",{href:"mailto:harshmishra83022@gmail.com",className:"text-orange-600 hover:text-orange-700 font-medium",children:"harshmishra83022@gmail.com"})]})]}),p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:p.jsx(gx,{className:"h-6 w-6 text-blue-600"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"LinkedIn"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Connect with us professionally"}),p.jsx("a",{href:"https://www.linkedin.com/in/harsh-mishra-5a5031266",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium",children:"LinkedIn Profile"})]})]}),p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:p.jsx(ri,{className:"h-6 w-6 text-green-600"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Location"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Based in the holy city"}),p.jsx("p",{className:"text-gray-700",children:"Varanasi, Uttar Pradesh, India"})]})]}),p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:p.jsx(vx,{className:"h-6 w-6 text-red-600"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Emergency Contacts"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Important numbers for tourists"}),p.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[p.jsx("p",{children:"Police: 100"}),p.jsx("p",{children:"Fire: 101"}),p.jsx("p",{children:"Ambulance: 108"}),p.jsx("p",{children:"Tourist Helpline: 1363"})]})]})]})]}),p.jsxs("div",{className:"mt-12 p-6 bg-orange-50 rounded-lg",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tourism Information / पर्यटन जानकारी"}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Best Time to Visit:"})," October to March"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Airport:"})," Lal Bahadur Shastri Airport (VNS)"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Railway Station:"})," Varanasi Junction (BSB)"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Languages:"})," Hindi, English, Bhojpuri"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Currency:"})," Indian Rupee (INR)"]})]})]})]}),p.jsx("div",{children:p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message / संदेश भेजें"}),r&&p.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(px,{className:"h-5 w-5 text-green-600 mr-3"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-green-800 font-medium",children:"Message Sent!"}),p.jsx("p",{className:"text-green-700 text-sm",children:"Thank you for contacting us. We'll get back to you soon."})]})]})}),p.jsxs("form",{onSubmit:l,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name / नाम *"}),p.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email / ईमेल *"}),p.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject / विषय *"}),p.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message / संदेश *"}),p.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:h,rows:6,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full bg-orange-600 text-white py-3 px-6 rounded-md font-medium hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:n?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):p.jsxs("div",{className:"flex items-center",children:[p.jsx(kb,{className:"h-4 w-4 mr-2"}),"Send Message / संदेश भेजें"]})})]})]})})]}),p.jsxs("div",{className:"mt-16",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Frequently Asked Questions / अक्सर पूछे जाने वाले प्रश्न"}),p.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What is the best time to visit Varanasi?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"The best time to visit Varanasi is from October to March when the weather is pleasant and comfortable for sightseeing."})]}),p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"How can I book a boat ride on the Ganges?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"You can book boat rides directly at the ghats. Prices range from ₹100-500 depending on duration and type of boat."})]}),p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Is it safe for solo travelers?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Varanasi is generally safe for solo travelers. However, it's advisable to stay alert, especially in crowded areas and during night time."})]}),p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What should I wear when visiting temples?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Dress modestly when visiting temples. Cover your shoulders and legs. Remove shoes before entering temple premises."})]})]})]})]})})},bO=()=>{const[t,e]=$.useState([]),[n,i]=$.useState([]),[r,o]=$.useState([]),[l,h]=$.useState(!0);$.useEffect(()=>{d()},[]);const d=async()=>{try{const w=Wl.questions.map(U=>({...U,timestamp:new Date,source:"local"})),C=(await bg()).map(U=>({...U,source:"firebase"})),D=[...w,...C];e(D);const O=await rT();i(O),o([{id:"1",question:"What is the best time to visit Kashi Vishwanath?",status:"pending",timestamp:new Date},{id:"2",question:"How to book Ganga Aarti tickets?",status:"approved",timestamp:new Date},{id:"3",question:"Best street food in Varanasi?",status:"pending",timestamp:new Date}])}catch(w){console.error("Error loading dashboard data:",w)}finally{h(!1)}},m=[{title:"Total Questions",titleHindi:"कुल प्रश्न",value:t.length,icon:vv,color:"bg-blue-500",change:"+12%"},{title:"User Submissions",titleHindi:"उपयोगकर्ता सबमिशन",value:r.length,icon:sp,color:"bg-green-500",change:"+8%"},{title:"Upcoming Events",titleHindi:"आगामी कार्यक्रम",value:n.filter(w=>w.date>new Date).length,icon:dh,color:"bg-purple-500",change:"+3%"},{title:"Total Views",titleHindi:"कुल दृश्य",value:"15.2K",icon:_v,color:"bg-orange-500",change:"+25%"}],y=t.reduce((w,E)=>(w[E.domain]=(w[E.domain]||0)+1,w),{});return l?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"VATIKA Tourism Dashboard"}),p.jsx("p",{className:"text-gray-600",children:"वाटिका पर्यटन डैशबोर्ड - Overview of your tourism platform"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map((w,E)=>{const C=w.icon;return p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:w.title}),p.jsx("p",{className:"text-xs text-gray-500",children:w.titleHindi}),p.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:w.value}),p.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[w.change," from last month"]})]}),p.jsx("div",{className:`p-3 rounded-full ${w.color}`,children:p.jsx(C,{className:"h-6 w-6 text-white"})})]})},E)})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[p.jsx(mb,{className:"h-5 w-5 mr-2 text-orange-600"}),"Questions by Domain / डोमेन के अनुसार प्रश्न"]}),p.jsx("div",{className:"space-y-4",children:Object.entries(y).map(([w,E])=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:w}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:p.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${E/Math.max(...Object.values(y))*100}%`}})}),p.jsx("span",{className:"text-sm font-bold text-gray-900",children:E})]})]},w))})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[p.jsx(sp,{className:"h-5 w-5 mr-2 text-green-600"}),"Recent Submissions / हाल की सबमिशन"]}),p.jsx("div",{className:"space-y-4",children:r.slice(0,5).map(w=>p.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:w.question}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.timestamp.toLocaleDateString()})]}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.status==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.status})]},w.id))})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[p.jsx(Rb,{className:"h-5 w-5 mr-2 text-blue-600"}),"Question Sources / प्रश्न स्रोत"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Local JSON Data"}),p.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.filter(w=>w.source==="local").length})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User Submissions"}),p.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.filter(w=>w.source==="firebase").length})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Generated"}),p.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.filter(w=>w.domain==="ai-generated").length})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions / त्वरित कार्य"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("a",{href:"/add-qa",className:"block w-full bg-orange-600 text-white text-center py-2 px-4 rounded-md hover:bg-orange-700 transition-colors",children:"Add New Q&A / नया प्रश्न जोड़ें"}),p.jsx("a",{href:"/events",className:"block w-full bg-blue-600 text-white text-center py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Manage Events / कार्यक्रम प्रबंधन"}),p.jsx("a",{href:"/explorer",className:"block w-full bg-green-600 text-white text-center py-2 px-4 rounded-md hover:bg-green-700 transition-colors",children:"View All Q&A / सभी प्रश्न देखें"})]})]})]}),p.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Overview / प्लेटफॉर्म अवलोकन"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[p.jsx(wx,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"89%"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Positive Feedback"}),p.jsx("p",{className:"text-xs text-gray-500",children:"सकारात्मक प्रतिक्रिया"})]}),p.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[p.jsx(_v,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:"2.5K"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Daily Visitors"}),p.jsx("p",{className:"text-xs text-gray-500",children:"दैनिक आगंतुक"})]}),p.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[p.jsx(vv,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),p.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"156"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Questions Answered"}),p.jsx("p",{className:"text-xs text-gray-500",children:"उत्तरित प्रश्न"})]})]})]})]})})};function kO(){return p.jsx(ub,{children:p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Db,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(nb,{children:[p.jsx(Xi,{path:"/",element:p.jsx(iO,{})}),p.jsx(Xi,{path:"/explorer",element:p.jsx(rO,{})}),p.jsx(Xi,{path:"/add-qa",element:p.jsx(sO,{})}),p.jsx(Xi,{path:"/map",element:p.jsx(IO,{})}),p.jsx(Xi,{path:"/events",element:p.jsx(SO,{})}),p.jsx(Xi,{path:"/contact",element:p.jsx(PO,{})}),p.jsx(Xi,{path:"/dashboard",element:p.jsx(bO,{})})]})}),p.jsx(jb,{})]})})}nx(document.getElementById("root")).render(p.jsx($.StrictMode,{children:p.jsx(kO,{})}));
